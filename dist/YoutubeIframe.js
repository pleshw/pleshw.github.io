var YoutubeIframe;(()=>{"use strict";var e={2152:(e,t,i)=>{function n(e){return`\n  <div id="${e}">\n  </div>\n  `.trim()}i.d(t,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(e,t,i)=>{i.r(t),i.d(t,{YoutubeIframe:()=>m,YoutubeIframeSwitcher:()=>o.YoutubeIframeSwitcher,YoutubeIframeSync:()=>l.YoutubeIframeSync,createDraggableYoutubeIframe:()=>d});var n=i(1319),s=i(4763),r=i(739),a=i(2152),o=i(4785),l=i(3362),h=i(7930);function d({iframeId:e,videoId:t,startsAt:i,parentElement:n,classList:r=[]}){return{iframeController:new m({startsAt:i,iframeId:e,videoId:t,parentElement:n,classList:r}),draggable:new s.DraggableElement({element:n??document.body,allowDraggingByInnerContent:!0,onDrop:()=>{}})}}class m extends h.ObjectEventListener{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;_videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;topDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new h.ObjectEventListener;constructor(e){if(m._dictYoutubeIframeById.has(e.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=e.iframeId,this._startsAt=e.startsAt??0,this._videoId=e.videoId,this._startMuted=!!e.startMuted,this._blockInteraction=!!e.blockInteraction,this._iframeContainer=m.getYoutubeIframeElement({iframeId:e.iframeId,classList:e.classList}),this._iframeParentElement=m.setupParentFromYoutubeIframe({parentElement:e.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=e.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),m._dictYoutubeIframeById.set(e.iframeId,this),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}get videoId(){return(0,n.extractYouTubeId)(this._videoId)}async setVideoInfo(){const e=await this.getVideoInfo();this.videoName=e&&e.title?e.title:"",this.channelName=e&&e.author_name?e.author_name:"",this.videoThumb=e&&e.thumbnail_url?e.thumbnail_url:"",this.channelURL=e&&e.author_url?e.author_url:""}changeVideo(e){(0,n.isValidYoutubeUrlOrId)(e.videoId)&&(this.player&&this.player.loadVideoById?(this.prepareOptions(e),this.player.seekTo(this.startsAt,!0),this.isPlaying?this.playWithoutTriggerEvents():this.pauseWithoutTriggerEvents()):setTimeout((()=>this.changeVideo(e)),100))}prepareOptions(e){this.id=e.iframeId,this._videoId=e.videoId,this.startsAt=e.startsAt??this.startsAt,this.loadVideo()}loadVideo(){this.player.loadVideoById({videoId:this.videoId,startSeconds:this.startsAt,suggestedQuality:"highres"}),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}async getVideoInfo(){const e=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));if(!e.error)return await e.data().json();console.error(e.error)}onPlayerReady(e){this._startMuted&&this.player.mute(),m._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),m.checkIfEveryIframeIsReady()}onPlayerStateChange(e){e.data===m._youtubeAPIReference.PlayerState.PLAYING?(this._isPlaying=!0,this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this,this.isPlaying)),100),this.setClassesIframePlaying()):this._playingObserverInterval&&(clearInterval(this._playingObserverInterval),this.setClassesIframePaused(),this._isPlaying=!1,this._playingObserverInterval=null),this.callEventsByName("playerstatechange",this,this.isPlaying),this.callEventsByName("onplayerstatechange",this,this.isPlaying)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(e){this.seek(e)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,r.clamp)(this._startsAt,0,this._startsAt)}set startsAt(e){this._startsAt=(0,r.clamp)(e,0,e)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(e,t=!1,i=!1){return this.callEventsByName("onseek",e,t,i,this),e+=i?this._startsAt:0,this.player.seekTo(e,t),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...m._dictYoutubeIframeById.keys()].some((e=>!this._arrYoutubeIframeIdReady.includes(e)))||(this.arrObjectToSetOnEveryIframeReady.forEach((e=>e.setup(m._dictYoutubeIframeById))),m._dictYoutubeIframeById.forEach(((e,t)=>{e.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:e,classList:t}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),t&&i.classList.add(...t),i.id=`containerYoutubeIframe${e}`,i.insertAdjacentHTML("afterbegin",(0,a.templateBackgroundYoutubeIframeElement)(e)),i}static setupParentFromYoutubeIframe({parentElement:e,iframeContainer:t}){const i=e??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",t),i}setExternalHTMLElements(){this.createInvisibleDivTop(),this.createInvisibleDivBlockInteraction(),this.setExternalHTMLElementsAttributes()}setExternalHTMLElementsAttributes(){this.setIframeContainerAttributes(),this.setTopDivAttributes(),this.setDivBlockInteractionAttributes()}createInvisibleDivTop(){this.topDiv=m.getInvisibleTopDiv(this),this.topDiv.style.zIndex="990"}createInvisibleDivBlockInteraction(){this._divBlockInteraction=m.getInvisibleDivBlockInteraction(this),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(e=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}setDivBlockInteractionAttributes(){this.divBlockInteraction&&(0,n.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}setIframeContainerAttributes(){this._iframeContainer&&(0,n.setAttributeListForElement)(this._iframeContainer,this._videoInfoAttributeList)}setTopDivAttributes(){this.topDiv&&(0,n.setAttributeListForElement)(this.topDiv,this._videoInfoAttributeList)}set blockInteraction(e){this._blockInteraction=e,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new m._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;get _videoInfoAttributeList(){return[["yt-iframe-id",this.id],["yt-iframe-video-name",this.videoName],["yt-iframe-video-channel-name",this.channelName],["yt-iframe-video-thumb-url",this.videoThumb],["yt-iframe-video-channel-url",this.channelURL]]}static async buildSingleIframe(e){if(!document.getElementById("ytIframeAPIScriptTag")){var t=document.createElement("script");t.id="ytIframeAPIScriptTag",t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.insertBefore(t,i)}return await(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag"),await(0,n.pollForVariableAsync)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(t=>{m._youtubeAPIReference=t,e.build()})),e}static buildIframes(){if(!document.getElementById("ytIframeAPIScriptTag")){var e=document.createElement("script");e.id="ytIframeAPIScriptTag",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t)}(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag").then((()=>{(0,n.pollForVariable)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(e=>{m._youtubeAPIReference=e,m.setYoutubeIframeElements()}))}))}build(){this.setExternalHTMLElements(),this.initPlayer()}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((e,t)=>{e.isPlayerReady||e.build()}))}static getInvisibleTopDiv(e){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleTopDivHoldToDrag${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:.2*e.dimensions.height}})}static getInvisibleDivBlockInteraction(e){const t=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleDivBlockInteraction${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("yt-div-block-interaction"),t}}},4785:(e,t,i)=>{i.d(t,{YoutubeIframeSwitcher:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{switchBetween;constructor(e){super(),this.switchBetween=e.switchBetween,n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.switchBetween.forEach((e=>e.addEventListener("onplay",(()=>{const t=this.switchBetween.filter((t=>t.id!==e.id));t.forEach((e=>e.pause())),this.callEventsByName("onalternate",this,e,t),e.callEventsByName("onalternate",this,e,t)}))))}}},3362:(e,t,i)=>{i.d(t,{YoutubeIframeSync:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{mainIframe;subIframes;constructor(e){super(),this.mainIframe=e.mainIframe,this.subIframes=Array.isArray(e.subIframes)?e.subIframes:[e.subIframes],n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.syncSubIframes(),this.syncEventsWithMainIframe()}syncSubIframes(){this.subIframes.forEach((e=>{e.seek(this.mainIframe.startsAt,!0),e.pause(),e.addEventListener("onplayerstatechange",(()=>{e.seek(this.mainIframe.playerCurrentTime,!0),this.mainIframe.isPlaying?e.playWithoutTriggerEvents():e.pauseWithoutTriggerEvents()})),e.addEventListener("onplay",(()=>{this.mainIframe.play(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)})),e.addEventListener("onpause",(()=>{this.mainIframe.pause(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)}))}))}syncEventsWithMainIframe(){this.mainIframe.addEventListener("onplayerstatechange",(()=>{this.subIframes.forEach((e=>{e.seek(this.mainIframe.playerCurrentTime,!0),this.mainIframe.isPlaying?e.playWithoutTriggerEvents():e.pauseWithoutTriggerEvents()}))})),this.mainIframe.addEventListener("onplay",(()=>{this.subIframes.forEach((e=>{e.seek(this.mainIframe.playerCurrentTime,!0),e.playWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"play",this.subIframes)}))})),this.mainIframe.addEventListener("onpause",(()=>{this.subIframes.forEach((e=>{e.pauseWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"pause",this.subIframes)}))})),this.mainIframe.addEventListener("onseek",((e,t,i)=>{this.subIframes.forEach((n=>{e+=i?this.mainIframe.startsAt:0,n.seek(e,t),n.callEventsByName("onsync",this.mainIframe,n,"seek",this.subIframes)}))}))}}},4763:(e,t,i)=>{i.d(t,{DraggableElement:()=>r});var n=i(1319),s=i(8586);class r extends s.MovableElement{allowDraggingByInnerContent;draggingState;lastStartPoint;onDrop;onDrag;_enabled=!0;constructor(e){if(!e.element)throw new Error("Null draggable element. Please pass a valid element in constructor.");super(e),this.allowDraggingByInnerContent=!e.allowDraggingByInnerContent||e.allowDraggingByInnerContent,this.draggingState={dragging:!1},this.onDrag=e.onDrag,this.onDrop=e.onDrop,this.element.addEventListener("pointerdown",this.start.bind(this)),this.element.addEventListener("pointerup",this.end.bind(this)),this.element.addEventListener("pointercancel",this.end.bind(this)),this.element.addEventListener("pointermove",this.move.bind(this)),this.element.addEventListener("touchstart",(e=>e.preventDefault())),this.element.addEventListener("dragstart",(e=>e.preventDefault())),this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),100)}get enabled(){return this._enabled}set enabled(e){this._enabled=e}set dragging(e){this.enabled&&(this.draggingState.dragging=e,this.dragging?this.element.classList.add("dragging"):this.element.classList.remove("dragging"))}get dragging(){return this.draggingState.dragging}start(e){if(!this.enabled)return;const t=e instanceof MouseEvent,i=t&&0===e.button,s=e instanceof PointerEvent;if(t&&!i)return;if(!this.allowDraggingByInnerContent&&e.target!==this.element)return;this.callEventsByName("onDrag",this.element,this),this.onDrag&&this.onDrag(this.element,this),this.dragging=!0,e.stopPropagation();let{x:r,y:a}=(0,n.clickEventToCoordinates)(e);this.lastStartPoint={x:r,y:a},this.movingState.delta={dx:this.movingState.pos.x-r,dy:this.movingState.pos.y-a},s&&(this.draggingState.pointerId=e.pointerId,this.element.setPointerCapture(e.pointerId)),this.element.style.userSelect="none"}end(){this.dragging=!1,this.element.style.userSelect="",this.callEventsByName("onDrop",this.element,this),this.onDrop&&this.onDrop(this.element,this)}updatePosition(){this.dragging||super.updatePosition()}move(e){if(!this.enabled)return;const t=e instanceof PointerEvent;if(!this.dragging)return;if(!this.allowDraggingByInnerContent&&!(e.target===this.element||t&&this.draggingState.pointerId===e.pointerId))return;e.stopPropagation();let{x:i,y:s}=(0,n.clickEventToCoordinates)(e);super.moveToPosition(i,s)}static makeElementDraggable(e){return new r({element:e})}static makeElementDraggableByQuerySelector(e){const t=document.querySelector(e);return t?new r({element:t}):null}}},8586:(e,t,i)=>{i.d(t,{MovableElement:()=>r});var n=i(7930),s=i(1319);class r extends n.ObjectEventListener{element;movingState;intervalUpdatePosition;onBeforeMove;onAfterMove;constructor(e){if(super(),!e.element)throw new Error("Null movable element. Please pass a valid element in constructor.");this.element=e.element,this.onBeforeMove=e.onBeforeMove,this.onAfterMove=e.onAfterMove,this.movingState={pos:{x:0,y:0},delta:{dx:0,dy:0}},this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),200)}get position(){return this.movingState.pos}set position(e){this.moveToPosition(e.x,e.y)}get x(){return this.movingState.pos.x}set x(e){this.moveToPosition(e,this.y)}get y(){return this.movingState.pos.y}set y(e){this.moveToPosition(this.x,e)}setTranslate(e,t){this.callEventsByName("onBeforeMove",this.element,this),this.onBeforeMove&&this.onBeforeMove(this.element,this),this.resetTranslate(),this.element.style.transform+=`translate(${e}px, ${t}px)`,this.callEventsByName("onAfterMove",this.element,this),this.onAfterMove&&this.onAfterMove(this.element,this)}setTranslateByPoint2D(e){this.setTranslate(e.x,e.y)}updatePosition(){this.movingState.pos=(0,s.getTransformCoordsFromElement)(this.element),this.movingState.delta.dx=0,this.movingState.delta.dy=0}resetTranslate(){this.element.style.transform=this.element.style.transform.replace(s.regexRemoveTranslateFromTransform,"")}moveToPosition(e,t){this.movingState.pos={x:e+this.movingState.delta.dx,y:t+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToPoint2D(e){this.movingState.pos={x:e.x+this.movingState.delta.dx,y:e.y+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width),y:Math.round(a-t.height)})}moveToCenterOfTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width/2),y:Math.round(a-t.height/2)})}static makeElementMovable(e){return new r({element:e})}}},7930:(e,t,i)=>{i.d(t,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(e,t){this.eventsByName.has(e.toLowerCase())?this.eventsByName.get(e.toLowerCase()).push(t):this.eventsByName.set(e.toLowerCase(),[t])}getEventsByName(e){return this.eventsByName.has(e.toLowerCase())||this.eventsByName.set(e.toLowerCase(),[]),this.eventsByName.get(e.toLowerCase())}callEventsByName(e,...t){this.getEventsByName(e).forEach((e=>e(...t)))}}},1319:(e,t,i)=>{i.d(t,{clickEventToCoordinates:()=>_,createInvisibleDivAboveParent:()=>B,extractYouTubeId:()=>y,getDistanceFromBorder:()=>E,getElementDimensions:()=>f,getTransformCoordsFromElement:()=>P,handlePromise:()=>u,isValidYoutubeUrlOrId:()=>c,pollForVariable:()=>p,pollForVariableAsync:()=>I,regexRemoveTranslateFromTransform:()=>s,setAttributeListForElement:()=>g,waitUntilElementExists:()=>b});var n=i(739);const s=/translate\([^)]*\)/g,r=/rotate\((-?\d+\.?\d*)deg\)/,a=/rotateX\((-?\d+\.?\d*)deg\)/,o=/rotateY\((-?\d+\.?\d*)deg\)/,l=/rotateZ\((-?\d+\.?\d*)deg\)/,h=new Map,d=new Map,m=new Map;async function u(e){try{const t=await e;return{data:()=>t,error:null}}catch(e){return console.error(e),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:e instanceof Error?e:new Error(String(e))}}}function c(e){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(e)||/^[a-zA-Z0-9_-]{11}$/.test(e)}function y(e){const t=e.match(/[?&]v=([^?&]+)/);return t&&t[1]?t[1]:11===e.length?e:null}function g(e,t){t.forEach((([t,i])=>{e.setAttribute(t,i)}))}function f(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function v(e){const t=e.getBoundingClientRect(),i=t.left+t.width/2,n=t.top+t.height/2,s=function(){const e=function(e){switch(e){case"x":return a;case"y":return o;case"z":return l;default:return r}}(w(document.body)).exec(document.body.style.transform);return e?parseFloat(e[1]):0}(),h=Math.PI/180*s,d=Math.cos(h),m=Math.sin(h),u=i+(t.left-i)*d-(t.top-n)*m,c=n+(t.left-i)*m+(t.top-n)*d,y=i+(t.right-i)*d-(t.bottom-n)*m,g=n+(t.right-i)*m+(t.bottom-n)*d,f=Math.min(u,y),v=Math.min(c,g),p=Math.max(c,g),I=Math.max(u,y);return{x:f,y:v,width:t.width,height:t.height,toJSON:t.toJSON,left:f,top:v,bottom:p,right:I}}function p(e,t,i){const n=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(n),i(window[e]))}),100)}async function I(e,t,i){return new Promise((n=>{const s=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(s),i(window[e]),n())}),100)}))}function b(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver((n=>{document.querySelector(e)&&(i.disconnect(),t(document.querySelector(e)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}function E(e,t,i=!1){const n=i?v(e):e.getBoundingClientRect(),s=i?v(t):t.getBoundingClientRect(),r=n.left+n.width/2,a=n.top+n.height/2;return{top:a-s.top,right:s.right-r,bottom:s.bottom-a,left:r-s.left}}function w(e){const t=e.style.transform.toLowerCase();return t.includes("x")?"x":t.includes("y")?"y":"z"}function P(e,t=!1){const i=(window.getComputedStyle(e).transform.match(n.regexNumberPattern)??[0,0]).map((e=>+e));let s={x:void 0!==i[4]?Math.round(i[4]):0,y:void 0!==i[5]?Math.round(i[5]):0};if(t){const t=function(e,t="x"){let i;switch(t){case"x":i=a;break;case"y":i=o;break;case"z":i=l;break;default:i=r}const n=i.exec(e.style.transform);return n?parseFloat(n[1]):0}(document.body,w(e))||0;return(0,n.rotateCoordinates)(s.x,s.y,t)}return s}function _(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const t=e.changedTouches[0];return{x:t.clientX,y:t.clientY}}throw"Event not Found"}function B({parentElement:e,id:t,position:i,dimensions:n}){var s=document.createElement("div");return e.style.position||(e.style.position="relative"),s.id=t,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",e.appendChild(s),s}new Map,window.addEventListener("keydown",(e=>{e.repeat||function(e){for(const t of h)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e),function(e){for(const t of d)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e)})),window.addEventListener("keyup",(e=>{for(const t of m)e.code===t[0]&&t[1].forEach((t=>t(e)))}))},739:(e,t,i)=>{i.d(t,{clamp:()=>r,regexNumberPattern:()=>n,rotateCoordinates:()=>s});const n=/-?\d+\.?\d*/g;function s(e,t,i){const n=Math.PI/180*i;return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function r(e=0,t=0,i=100){return Math.max(t,Math.min(e,i))}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=i(5102);YoutubeIframe=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWW91dHViZUlmcmFtZS5qcyIsIm1hcHBpbmdzIjoiMkRBQ08sU0FBU0EsRUFBd0NDLEdBQ3RELE1BQU8sZ0JBQ0tBLG9CQUVWQyxNQUNKLEMsa1RDc0JPLFNBQVNDLEdBQThCLFNBQUVGLEVBQVEsUUFBRUcsRUFBTyxTQUFFQyxFQUFRLGNBQUVDLEVBQWEsVUFBRUMsRUFBWSxLQVd0RyxNQUFPLENBQ0xDLGlCQVg2QixJQUFJQyxFQUFlLENBQUVKLFdBQVVKLFdBQVVHLFVBQVNFLGdCQUFlQyxjQVk5RkcsVUFWc0IsSUFBSSxFQUFBQyxpQkFBa0IsQ0FDNUNDLFFBQVNOLEdBQWlCTyxTQUFTQyxLQUNuQ0MsNkJBQTZCLEVBQzdCQyxPQUFRLFNBU1osQ0FHTyxNQUFNUCxVQUFzQixFQUFBUSxvQkFDMUJDLHdDQUF3RixHQUVyRkEsOEJBQTRELElBQUlDLElBQ2hFRCxnQ0FBNEMsR0FFL0NFLE9BQ0dDLGdCQUEwQixFQUU3QkMsR0FDQ0MsU0FDREMsVUFBb0IsR0FDcEJDLFdBQXFCLEdBQ3JCQyxXQUFxQixHQUNyQkMsWUFBc0IsR0FFbkJDLGVBQXFDLEtBR3JDQyxpQkFHQUMscUJBRUFDLFlBQXNCLEVBQ3RCQyxZQUdBQyxPQUVGQyxVQUVFQyxtQkFBNkIsRUFDN0JDLHFCQUEyQyxLQUUzQ0MsWUFDSEMseUJBQWtELEtBRS9DQyxlQUFzQyxJQUFJLEVBQUF0QixvQkFFcEQsV0FBQXVCLENBQWFDLEdBQ1gsR0FBS2hDLEVBQWNpQyx1QkFBdUJDLElBQUtGLEVBQVF4QyxVQUNyRCxNQUFNLElBQUkyQyxNQUFPLDBEQUduQkMsUUFFQUMsS0FBS3hCLEdBQUttQixFQUFReEMsU0FDbEI2QyxLQUFLWixVQUFZTyxFQUFRcEMsVUFBWSxFQUNyQ3lDLEtBQUt2QixTQUFXa0IsRUFBUXJDLFFBRXhCMEMsS0FBS1QsY0FBY0ksRUFBUU0sV0FDM0JELEtBQUtYLG9CQUFvQk0sRUFBUU8saUJBRWpDRixLQUFLakIsaUJBQW1CcEIsRUFBY3dDLHdCQUF5QixDQUM3RGhELFNBQVV3QyxFQUFReEMsU0FDbEJNLFVBQVdrQyxFQUFRbEMsWUFHckJ1QyxLQUFLaEIscUJBQXVCckIsRUFBY3lDLDZCQUE4QixDQUN0RTVDLGNBQWVtQyxFQUFRbkMsZUFBaUJPLFNBQVNDLEtBQ2pEcUMsZ0JBQWlCTCxLQUFLakIsbUJBR3hCaUIsS0FBS00seUJBRUxOLEtBQUtkLFlBQWNTLEVBQVFZLGFBQWMsSUFBQUMsc0JBQXNCUixLQUFLaEIsc0JBRXBFckIsRUFBY2lDLHVCQUF1QmEsSUFBS2QsRUFBUXhDLFNBQVU2QyxNQUM1REEsS0FBS1UsZUFBZUMsTUFBTSxLQUN4QlgsS0FBS1ksbUNBQW1DLEdBRTVDLENBRUEsV0FBV3RELEdBQ1QsT0FBTyxJQUFBdUQsa0JBQWtCYixLQUFLdkIsU0FDaEMsQ0FFUSxrQkFBTWlDLEdBQ1osTUFBTUksUUFBYWQsS0FBS2UsZUFDeEJmLEtBQUt0QixVQUFZb0MsR0FBUUEsRUFBS0UsTUFBUUYsRUFBS0UsTUFBa0IsR0FDN0RoQixLQUFLbkIsWUFBY2lDLEdBQVFBLEVBQUtHLFlBQWNILEVBQUtHLFlBQXdCLEdBQzNFakIsS0FBS3JCLFdBQWFtQyxHQUFRQSxFQUFLSSxjQUFnQkosRUFBS0ksY0FBMEIsR0FDOUVsQixLQUFLcEIsV0FBYWtDLEdBQVFBLEVBQUtLLFdBQWFMLEVBQUtLLFdBQXVCLEVBQzFFLENBRU8sV0FBQUMsQ0FBYXpCLElBQ1osSUFBQTBCLHVCQUF1QjFCLEVBQVFyQyxXQUkvQjBDLEtBQUsxQixRQUFXMEIsS0FBSzFCLE9BQU9nRCxlQUtsQ3RCLEtBQUt1QixlQUFnQjVCLEdBRXJCSyxLQUFLMUIsT0FBT2tELE9BQVF4QixLQUFLekMsVUFBVSxHQUM5QnlDLEtBQUt5QixVQUNSekIsS0FBSzBCLDJCQUVMMUIsS0FBSzJCLDZCQVZMQyxZQUFZLElBQU01QixLQUFLb0IsWUFBYXpCLElBQVcsS0FZbkQsQ0FFUSxjQUFBNEIsQ0FBZ0I1QixHQUN0QkssS0FBS3hCLEdBQUttQixFQUFReEMsU0FDbEI2QyxLQUFLdkIsU0FBV2tCLEVBQVFyQyxRQUN4QjBDLEtBQUt6QyxTQUFXb0MsRUFBUXBDLFVBQVl5QyxLQUFLekMsU0FFekN5QyxLQUFLNkIsV0FDUCxDQUVRLFNBQUFBLEdBQ043QixLQUFLMUIsT0FBT2dELGNBQWUsQ0FDekIsUUFBV3RCLEtBQUsxQyxRQUNoQixhQUFnQjBDLEtBQUt6QyxTQUNyQixpQkFBb0IsWUFHdEJ5QyxLQUFLVSxlQUFlQyxNQUFNLEtBQ3hCWCxLQUFLWSxtQ0FBbUMsR0FFNUMsQ0FHTyxrQkFBTUcsR0FDWCxNQUFNZSxRQUFpQixJQUFBQyxlQUF5QkMsTUFBTyxzQ0FBdUNoQyxLQUFLaUMseUJBRW5HLElBQUtILEVBQVNJLE1BS2QsYUFBYUosRUFBU0ssT0FBT0MsT0FKM0JDLFFBQVFILE1BQU9KLEVBQVNJLE1BSzVCLENBRVUsYUFBQUksQ0FBZUMsR0FDbEJ2QyxLQUFLVCxhQUNSUyxLQUFLMUIsT0FBT2tFLE9BR2Q3RSxFQUFjOEUseUJBQXlCQyxLQUFNMUMsS0FBS3hCLElBQ2xEd0IsS0FBS2xCLGVBQWlCZixTQUFTNEUsZUFBZ0IzQyxLQUFLeEIsSUFFcER3QixLQUFLTSx5QkFFTE4sS0FBSzFCLE9BQU9zRSxtQkFBb0IsV0FDaEM1QyxLQUFLMUIsT0FBT2tELE9BQVF4QixLQUFLWixXQUFhLEdBQUcsR0FDekNZLEtBQUsxQixPQUFPdUUsYUFDWjdDLEtBQUt6QixnQkFBaUIsRUFFdEJ5QixLQUFLOEMsaUJBQWtCLGdCQUFpQjlDLE1BRXhDckMsRUFBY29GLDJCQUNoQixDQUVVLG1CQUFBQyxDQUFxQlQsR0FDeEJBLEVBQU1KLE9BQVN4RSxFQUFjc0YscUJBQXFCQyxZQUFZQyxTQUNqRW5ELEtBQUtmLFlBQWEsRUFDbEJlLEtBQUtSLHlCQUEyQjRELGFBQWEsSUFBTXBELEtBQUs4QyxpQkFBa0IsWUFBYTlDLEtBQU1BLEtBQUt5QixZQUFhLEtBQy9HekIsS0FBS3FELDJCQUNLckQsS0FBS1IsMkJBQ2Y4RCxjQUFldEQsS0FBS1IsMEJBQ3BCUSxLQUFLTSx5QkFDTE4sS0FBS2YsWUFBYSxFQUNsQmUsS0FBS1IseUJBQTJCLE1BR2xDUSxLQUFLOEMsaUJBQWtCLG9CQUFxQjlDLEtBQU1BLEtBQUt5QixXQUN2RHpCLEtBQUs4QyxpQkFBa0Isc0JBQXVCOUMsS0FBTUEsS0FBS3lCLFVBQzNELENBRVUsdUJBQUE0QixHQUNIckQsS0FBS2xCLGlCQUNSa0IsS0FBS2xCLGVBQWVyQixVQUFVOEYsT0FBUSxhQUN0Q3ZELEtBQUtsQixlQUFlckIsVUFBVStGLElBQUssZUFHckN4RCxLQUFLakIsaUJBQWlCdEIsVUFBVThGLE9BQVEsYUFDeEN2RCxLQUFLakIsaUJBQWlCdEIsVUFBVStGLElBQUssY0FFckN4RCxLQUFLaEIscUJBQXFCdkIsVUFBVThGLE9BQVEsYUFDNUN2RCxLQUFLaEIscUJBQXFCdkIsVUFBVStGLElBQUssYUFDM0MsQ0FFVSxzQkFBQWxELEdBQ0hOLEtBQUtsQixpQkFDUmtCLEtBQUtsQixlQUFlckIsVUFBVStGLElBQUssYUFDbkN4RCxLQUFLbEIsZUFBZXJCLFVBQVU4RixPQUFRLGVBR3hDdkQsS0FBS2pCLGlCQUFpQnRCLFVBQVUrRixJQUFLLGFBQ3JDeEQsS0FBS2pCLGlCQUFpQnRCLFVBQVU4RixPQUFRLGNBRXhDdkQsS0FBS2hCLHFCQUFxQnZCLFVBQVUrRixJQUFLLGFBQ3pDeEQsS0FBS2hCLHFCQUFxQnZCLFVBQVU4RixPQUFRLGFBQzlDLENBR1UseUJBQUFFLEdBQ1J6RCxLQUFLOEMsaUJBQWtCLDRCQUN6QixDQUVBLHVCQUFXWSxHQUNULE9BQU8xRCxLQUFLVixvQkFDZCxDQUVBLFlBQVcyQyxHQUNULE1BQU8sbUNBQW9DakMsS0FBSzFDLFNBQ2xELENBRUEsaUJBQVdFLEdBQ1QsT0FBT3dDLEtBQUtoQixvQkFDZCxDQUVBLGlCQUFXMkUsR0FDVCxJQUFNM0QsS0FBS2xCLGVBQ1QsTUFBTSxJQUFJZ0IsTUFBTyx5Q0FHbkIsT0FBT0UsS0FBS2xCLGNBQ2QsQ0FFQSxpQkFBVzhFLEdBQ1QsT0FBTzVELEtBQUt6QixjQUNkLENBRUEsWUFBV3NGLEdBQ1QsT0FBTzdELEtBQUsxQixPQUFPd0YsY0FBZ0I5RCxLQUFLWixTQUMxQyxDQUVBLGtCQUFXMkUsR0FDVCxPQUFPL0QsS0FBSzFCLE9BQU93RixhQUNyQixDQUVBLGVBQVdFLENBQWFDLEdBQ3RCakUsS0FBS2tFLEtBQU1ELEVBQ2IsQ0FFQSxlQUFXRCxHQUNULE9BQU9oRSxLQUFLMUIsT0FBTzZGLGlCQUFtQm5FLEtBQUtaLFNBQzdDLENBRUEscUJBQVdnRixHQUNULE9BQU9wRSxLQUFLMUIsT0FBTzZGLGdCQUNyQixDQUVBLG1CQUFXRSxHQUNULE9BQU9yRSxLQUFLZ0UsWUFBY2hFLEtBQUs2RCxRQUNqQyxDQUVBLHlCQUFXUyxHQUNULE9BQU90RSxLQUFLb0Usa0JBQW9CcEUsS0FBSytELGNBQ3ZDLENBRUEsY0FBVzlELEdBQ1QsT0FBT0QsS0FBS1QsV0FDZCxDQUVBLGFBQVdrQyxHQUNULE9BQU96QixLQUFLZixVQUNkLENBRUEsY0FBV3NCLEdBQ1QsT0FBT1AsS0FBS2QsV0FDZCxDQUVBLFlBQVczQixHQUNULE9BQU8sSUFBQWdILE9BQU92RSxLQUFLWixVQUFXLEVBQUdZLEtBQUtaLFVBQ3hDLENBQ0EsWUFBVzdCLENBQVVpSCxHQUNuQnhFLEtBQUtaLFdBQVksSUFBQW1GLE9BQU9DLEVBQUssRUFBR0EsRUFDbEMsQ0FFTyxNQUFBQyxHQU9MLE9BTkt6RSxLQUFLeUIsVUFDUnpCLEtBQUswRSxRQUVMMUUsS0FBSzJFLE9BR0EzRSxJQUNULENBRU8sSUFBQTJFLEdBS0wsT0FKQTNFLEtBQUswQiwyQkFFTDFCLEtBQUs4QyxpQkFBa0IsU0FBVTlDLE1BRTFCQSxJQUNULENBRU8sd0JBQUEwQixHQUtMLE9BSkExQixLQUFLMUIsT0FBT3NHLFlBQ1o1RSxLQUFLZixZQUFhLEVBQ2xCZSxLQUFLcUQsMEJBRUVyRCxJQUNULENBRU8sS0FBQTBFLEdBSUwsT0FIQTFFLEtBQUsyQiw0QkFDTDNCLEtBQUs4QyxpQkFBa0IsVUFBVzlDLE1BRTNCQSxJQUNULENBRU8seUJBQUEyQixHQUtMLE9BSkEzQixLQUFLMUIsT0FBT3VFLGFBQ1o3QyxLQUFLZixZQUFhLEVBQ2xCZSxLQUFLTSx5QkFFRU4sSUFDVCxDQUVPLElBQUFrRSxDQUFNVyxFQUFrQkMsR0FBd0IsRUFBT0MsR0FBNEIsR0FLeEYsT0FKQS9FLEtBQUs4QyxpQkFBa0IsU0FBVStCLEVBQVVDLEVBQWNDLEVBQWtCL0UsTUFFM0U2RSxHQUFZRSxFQUFtQi9FLEtBQUtaLFVBQVksRUFDaERZLEtBQUsxQixPQUFPa0QsT0FBUXFELEVBQVVDLEdBQ3ZCOUUsSUFDVCxDQUVPLElBQUF3QyxHQUVMLE9BREF4QyxLQUFLMUIsT0FBT2tFLE9BQ0x4QyxJQUNULENBRU8sTUFBQWdGLEdBRUwsT0FEQWhGLEtBQUsxQixPQUFPMEcsU0FDTGhGLElBQ1QsQ0FFQSxnQ0FBTytDLEdBQ29CLElBQUlwRixFQUFjaUMsdUJBQXVCcUYsUUFDcEJDLE1BQU1DLElBQU1uRixLQUFLeUMseUJBQXlCMkMsU0FBVUQsT0FHaEduRixLQUFLcUYsaUNBQWlDQyxTQUFTQyxHQUFLQSxFQUFFQyxNQUFPN0gsRUFBY2lDLDBCQUUzRWpDLEVBQWNpQyx1QkFBdUIwRixTQUFTLENBQUVkLEVBQUtpQixLQUNuRGpCLEVBQUlmLDJCQUEyQixJQUdyQyxDQUVBLDhCQUFPdEQsRUFBeUIsU0FBRWhELEVBQVEsVUFBRU0sSUFDMUMsTUFBTWlJLEVBQWUzSCxTQUFTNEgsY0FBZSxPQVE3QyxPQVBBRCxFQUFhakksVUFBVStGLElBQUssdUJBQ3ZCL0YsR0FDSGlJLEVBQWFqSSxVQUFVK0YsT0FBUS9GLEdBR2pDaUksRUFBYWxILEdBQUsseUJBQTBCckIsSUFDNUN1SSxFQUFhRSxtQkFBb0IsY0FBYyxJQUFBMUksd0NBQXdDQyxJQUNoRnVJLENBQ1QsQ0FFQSxtQ0FBT3RGLEVBQThCLGNBQUU1QyxFQUFhLGdCQUFFNkMsSUFDcEQsTUFBTXdGLEVBQXNCckksR0FBaUJPLFNBQVNDLEtBR3RELE9BRkE2SCxFQUFvQnBJLFVBQVUrRixJQUFLLG9CQUNuQ3FDLEVBQW9CQyxzQkFBdUIsYUFBY3pGLEdBQ2xEd0YsQ0FDVCxDQUdRLHVCQUFBRSxHQUNOL0YsS0FBS2dHLHdCQUNMaEcsS0FBS2lHLHFDQUVMakcsS0FBS1ksbUNBQ1AsQ0FFUSxpQ0FBQUEsR0FDTlosS0FBS2tHLCtCQUNMbEcsS0FBS21HLHNCQUNMbkcsS0FBS29HLGtDQUNQLENBRVEscUJBQUFKLEdBQ05oRyxLQUFLYixPQUFTeEIsRUFBYzBJLG1CQUFvQnJHLE1BQ2hEQSxLQUFLYixPQUFPbUgsTUFBTUMsT0FBUyxLQUM3QixDQUVRLGtDQUFBTixHQUNOakcsS0FBS1YscUJBQXVCM0IsRUFBYzZJLGdDQUFpQ3hHLE1BRTNFQSxLQUFLVixxQkFBcUJnSCxNQUFNRyxRQUFVekcsS0FBS1gsa0JBQW9CLFFBQVUsT0FDN0VXLEtBQUtWLHFCQUFxQmdILE1BQU1DLE9BQVMsTUFFekN2RyxLQUFLVixxQkFBcUJvSCxpQkFBa0IsU0FBV0MsSUFDckQzRyxLQUFLOEMsaUJBQWtCLDRCQUE2QjlDLEtBQU1BLEtBQUtWLHNCQUMvRFUsS0FBSzhDLGlCQUFrQix1QkFBd0I5QyxLQUFNQSxLQUFLVixxQkFBc0IsR0FFcEYsQ0FFUSxnQ0FBQThHLEdBQ0FwRyxLQUFLMEQsc0JBSVgsSUFBQWtELDRCQUE0QjVHLEtBQUswRCxvQkFBcUIxRCxLQUFLNkcsd0JBQzdELENBRVEsNEJBQUFYLEdBQ0FsRyxLQUFLakIsbUJBSVgsSUFBQTZILDRCQUE0QjVHLEtBQUtqQixpQkFBa0JpQixLQUFLNkcsd0JBQzFELENBRVEsbUJBQUFWLEdBQ0FuRyxLQUFLYixTQUlYLElBQUF5SCw0QkFBNEI1RyxLQUFLYixPQUFRYSxLQUFLNkcsd0JBQ2hELENBRUEsb0JBQVczRyxDQUFrQnNFLEdBQzNCeEUsS0FBS1gsa0JBQW9CbUYsRUFFcEJ4RSxLQUFLVix1QkFDUlUsS0FBS1YscUJBQXFCZ0gsTUFBTUcsUUFBVXpHLEtBQUtYLGtCQUFvQixRQUFVLE9BRWpGLENBRU8sVUFBQXlILEdBQ0w5RyxLQUFLMUIsT0FBUyxJQUFJWCxFQUFjc0YscUJBQXFCOEQsT0FBUS9HLEtBQUt4QixHQUFJLENBQ3BFbEIsUUFBUzBDLEtBQUsxQyxRQUNkMEosTUFBT2hILEtBQUtPLFdBQVd5RyxNQUN2QkMsT0FBUWpILEtBQUtPLFdBQVcwRyxPQUN4QkMsV0FBWSxDQUNWLElBQU8sRUFDUCxlQUFrQixFQUNsQixTQUFZLEVBQ1osU0FBWSxFQUNaLFNBQVksR0FFZEMsT0FBUSxDQUNOLFFBQVduSCxLQUFLc0MsY0FBYzhFLEtBQU1wSCxNQUNwQyxjQUFpQkEsS0FBS2dELG9CQUFvQm9FLEtBQU1wSCxRQUd0RCxDQUVVNUIsNEJBRVYsMkJBQVl5SSxHQUNWLE1BQU8sQ0FDTCxDQUFDLGVBQWdCN0csS0FBS3hCLElBQ3RCLENBQUMsdUJBQXdCd0IsS0FBS3RCLFdBQzlCLENBQUMsK0JBQWdDc0IsS0FBS25CLGFBQ3RDLENBQUMsNEJBQTZCbUIsS0FBS3JCLFlBQ25DLENBQUMsOEJBQStCcUIsS0FBS3BCLFlBRXpDLENBRUEsOEJBQWF5SSxDQUFtQkMsR0FDOUIsSUFBTXZKLFNBQVM0RSxlQUFnQix3QkFBMkIsQ0FDeEQsSUFBSTRFLEVBQU14SixTQUFTNEgsY0FBZSxVQUNsQzRCLEVBQUkvSSxHQUFLLHVCQUVUK0ksRUFBSUMsSUFBTSxxQ0FDVixJQUFJQyxFQUFpQjFKLFNBQVMySixxQkFBc0IsVUFBVyxHQUMxREQsR0FBa0JBLEVBQWVFLFlBQ3BDRixFQUFlRSxXQUFXQyxhQUFjTCxFQUFLRSxFQUVqRCxDQWVBLGFBZE0sSUFBQUksd0JBQXdCLCtCQUV4QixJQUFBQyxzQkFBMkIsTUFDN0JDLEdBQytCLG1CQUFqQkEsRUFBTWhCLFFBQ2ZnQixFQUFNaEIsT0FBT2lCLFdBQ2JELEVBQU1oQixPQUFPaUIsVUFBVXRJLGNBQWdCcUksRUFBTWhCLFFBQzdDZ0IsRUFBTUUsU0FFWEYsSUFDQXBLLEVBQWNzRixxQkFBdUI4RSxFQUNyQ1QsRUFBY1ksT0FBTyxJQUdsQlosQ0FDVCxDQUVBLG1CQUFPYSxHQUNMLElBQU1wSyxTQUFTNEUsZUFBZ0Isd0JBQTJCLENBQ3hELElBQUk0RSxFQUFNeEosU0FBUzRILGNBQWUsVUFDbEM0QixFQUFJL0ksR0FBSyx1QkFFVCtJLEVBQUlDLElBQU0scUNBQ1YsSUFBSUMsRUFBaUIxSixTQUFTMkoscUJBQXNCLFVBQVcsR0FDMURELEdBQWtCQSxFQUFlRSxZQUNwQ0YsRUFBZUUsV0FBV0MsYUFBY0wsRUFBS0UsRUFFakQsRUFFQSxJQUFBSSx3QkFBd0IseUJBQTBCbEgsTUFBTSxNQUN0RCxJQUFBeUgsaUJBQXNCLE1BQ2xCTCxHQUMrQixtQkFBakJBLEVBQU1oQixRQUNmZ0IsRUFBTWhCLE9BQU9pQixXQUNiRCxFQUFNaEIsT0FBT2lCLFVBQVV0SSxjQUFnQnFJLEVBQU1oQixRQUM3Q2dCLEVBQU1FLFNBRVhGLElBQ0FwSyxFQUFjc0YscUJBQXVCOEUsRUFDckNwSyxFQUFjMEssMEJBQTBCLEdBQ3ZDLEdBRVQsQ0FFTyxLQUFBSCxHQUNMbEksS0FBSytGLDBCQUNML0YsS0FBSzhHLFlBQ1AsQ0FFQSwrQkFBT3VCLEdBQ0xySSxLQUFLSix1QkFBdUIwRixTQUFTLENBQUVkLEVBQUtpQixLQUNwQ2pCLEVBQUlaLGVBQ1JZLEVBQUkwRCxPQUNOLEdBRUosQ0FFQSx5QkFBTzdCLENBQW9CaUMsR0FDekIsT0FBTyxJQUFBQywrQkFBK0IsQ0FDcEMvSyxjQUFlTyxTQUFTNEUsZUFBZ0IyRixFQUFTOUosSUFBTWhCLGNBQ3ZEZ0IsR0FBSSw0QkFBNkI4SixFQUFTOUosS0FDMUNnSyxTQUFVLENBQUVDLElBQUssRUFBR0MsS0FBTSxHQUMxQm5JLFdBQVksQ0FBRXlHLE1BQU9zQixFQUFTL0gsV0FBV3lHLE1BQU9DLE9BQXFDLEdBQTdCcUIsRUFBUy9ILFdBQVcwRyxTQUVoRixDQUdBLHNDQUFPVCxDQUFpQzhCLEdBQ3RDLE1BQU1LLEdBQXNCLElBQUFKLCtCQUErQixDQUN6RC9LLGNBQWVPLFNBQVM0RSxlQUFnQjJGLEVBQVM5SixJQUFNaEIsY0FDdkRnQixHQUFJLCtCQUFnQzhKLEVBQVM5SixLQUM3Q2dLLFNBQVUsQ0FBRUMsSUFBSyxFQUFHQyxLQUFNLEdBQzFCbkksV0FBWSxDQUFFeUcsTUFBT3NCLEVBQVMvSCxXQUFXeUcsTUFBT0MsT0FBUXFCLEVBQVMvSCxXQUFXMEcsVUFLOUUsT0FGQTBCLEVBQW9CbEwsVUFBVStGLElBQUssNEJBRTVCbUYsQ0FDVCxFLDhFQzNrQkssTUFBTUMsVUFBOEIsRUFBQXpLLG9CQUNsQzBLLGNBRVAsV0FBQW5KLENBQWFvSixHQUNYL0ksUUFFQUMsS0FBSzZJLGNBQWdCQyxFQUFjRCxjQUVuQyxFQUFBbEwsY0FBYzBILGlDQUFpQzNDLEtBQU0xQyxLQUN2RCxDQUdBLEtBQUF3RixDQUFPdUQsR0FDTC9JLEtBQUs2SSxjQUFjdkQsU0FBVzBELEdBQWtCQSxFQUFhdEMsaUJBQWtCLFVBQVUsS0FDdkYsTUFBTXVDLEVBQWlCakosS0FBSzZJLGNBQWNLLFFBQVFDLEdBQUtBLEVBQUUzSyxLQUFPd0ssRUFBYXhLLEtBRTdFeUssRUFBZTNELFNBQVM4RCxHQUFLQSxFQUFFMUUsVUFFL0IxRSxLQUFLOEMsaUJBQWtCLGNBQWU5QyxLQUFNZ0osRUFBY0MsR0FDMURELEVBQWFsRyxpQkFBa0IsY0FBZTlDLEtBQU1nSixFQUFjQyxFQUFnQixLQUV0RixFLDBFQ3BCSyxNQUFNSSxVQUEwQixFQUFBbEwsb0JBRXJCbUwsV0FHQUMsV0FFaEIsV0FBQTdKLENBQWFvSixHQUNYL0ksUUFFQUMsS0FBS3NKLFdBQWFSLEVBQWNRLFdBQ2hDdEosS0FBS3VKLFdBQWFDLE1BQU1DLFFBQVNYLEVBQWNTLFlBQWVULEVBQWNTLFdBQWEsQ0FBQ1QsRUFBY1MsWUFFeEcsRUFBQTVMLGNBQWMwSCxpQ0FBaUMzQyxLQUFNMUMsS0FDdkQsQ0FHQSxLQUFBd0YsQ0FBT3VELEdBQ0wvSSxLQUFLMEosaUJBQ0wxSixLQUFLMkosMEJBQ1AsQ0FFQSxjQUFBRCxHQUNFMUosS0FBS3VKLFdBQVdqRSxTQUFTc0UsSUFDdkJBLEVBQVUxRixLQUFNbEUsS0FBS3NKLFdBQVcvTCxVQUFVLEdBQzFDcU0sRUFBVWxGLFFBRVZrRixFQUFVbEQsaUJBQWtCLHVCQUF1QixLQUNqRGtELEVBQVUxRixLQUFNbEUsS0FBS3NKLFdBQVdsRixtQkFBbUIsR0FDOUNwRSxLQUFLc0osV0FBVzdILFVBQ25CbUksRUFBVWxJLDJCQUVWa0ksRUFBVWpJLDJCQUNaLElBR0ZpSSxFQUFVbEQsaUJBQWtCLFVBQVUsS0FDcEMxRyxLQUFLc0osV0FBVzNFLE9BQ2hCaUYsRUFBVTlHLGlCQUFrQixTQUFVOEcsRUFBVzVKLEtBQUtzSixXQUFZLE9BQVF0SixLQUFLdUosV0FBWSxJQUc3RkssRUFBVWxELGlCQUFrQixXQUFXLEtBQ3JDMUcsS0FBS3NKLFdBQVc1RSxRQUNoQmtGLEVBQVU5RyxpQkFBa0IsU0FBVThHLEVBQVc1SixLQUFLc0osV0FBWSxPQUFRdEosS0FBS3VKLFdBQVksR0FDMUYsR0FFUCxDQUVBLHdCQUFBSSxHQUNFM0osS0FBS3NKLFdBQVc1QyxpQkFBa0IsdUJBQXVCLEtBQ3ZEMUcsS0FBS3VKLFdBQVdqRSxTQUFTc0UsSUFDdkJBLEVBQVUxRixLQUFNbEUsS0FBS3NKLFdBQVdsRixtQkFBbUIsR0FDOUNwRSxLQUFLc0osV0FBVzdILFVBQ25CbUksRUFBVWxJLDJCQUVWa0ksRUFBVWpJLDJCQUNaLEdBQ0MsSUFHTDNCLEtBQUtzSixXQUFXNUMsaUJBQWtCLFVBQVUsS0FDMUMxRyxLQUFLdUosV0FBV2pFLFNBQVNzRSxJQUN2QkEsRUFBVTFGLEtBQU1sRSxLQUFLc0osV0FBV2xGLG1CQUFtQixHQUNuRHdGLEVBQVVsSSwyQkFDVmtJLEVBQVU5RyxpQkFBa0IsU0FBVTlDLEtBQUtzSixXQUFZTSxFQUFXLE9BQVE1SixLQUFLdUosV0FBWSxHQUMxRixJQUdMdkosS0FBS3NKLFdBQVc1QyxpQkFBa0IsV0FBVyxLQUMzQzFHLEtBQUt1SixXQUFXakUsU0FBU3NFLElBQ3ZCQSxFQUFVakksNEJBQ1ZpSSxFQUFVOUcsaUJBQWtCLFNBQVU5QyxLQUFLc0osV0FBWU0sRUFBVyxRQUFTNUosS0FBS3VKLFdBQVksR0FDM0YsSUFHTHZKLEtBQUtzSixXQUFXNUMsaUJBQWtCLFVBQVUsQ0FBRTdCLEVBQWtCQyxFQUF1QkMsS0FDckYvRSxLQUFLdUosV0FBV2pFLFNBQVNzRSxJQUN2Qi9FLEdBQVlFLEVBQW1CL0UsS0FBS3NKLFdBQVcvTCxTQUFXLEVBRTFEcU0sRUFBVTFGLEtBQU1XLEVBQVVDLEdBQzFCOEUsRUFBVTlHLGlCQUFrQixTQUFVOUMsS0FBS3NKLFdBQVlNLEVBQVcsT0FBUTVKLEtBQUt1SixXQUFZLEdBQzFGLEdBRVAsRSx5RUN6RUssTUFBTTFMLFVBQXlCLEVBQUFnTSxlQUM3QjVMLDRCQUNDNkwsY0FFREMsZUFDQTdMLE9BQ0E4TCxPQUVDQyxVQUFvQixFQUU1QixXQUFBdkssQ0FBYUMsR0FDWCxJQUFNQSxFQUFRN0IsUUFDWixNQUFNLElBQUlnQyxNQUFPLHVFQUduQkMsTUFBT0osR0FFUEssS0FBSy9CLDZCQUE4QjBCLEVBQVExQiw2QkFBOEIwQixFQUFRMUIsNEJBRWpGK0IsS0FBSzhKLGNBQWdCLENBQ25CSSxVQUFVLEdBR1psSyxLQUFLZ0ssT0FBU3JLLEVBQVFxSyxPQUN0QmhLLEtBQUs5QixPQUFTeUIsRUFBUXpCLE9BRXRCOEIsS0FBS2xDLFFBQVE0SSxpQkFBa0IsY0FBZTFHLEtBQUttSyxNQUFNL0MsS0FBTXBILE9BQy9EQSxLQUFLbEMsUUFBUTRJLGlCQUFrQixZQUFhMUcsS0FBS29LLElBQUloRCxLQUFNcEgsT0FDM0RBLEtBQUtsQyxRQUFRNEksaUJBQWtCLGdCQUFpQjFHLEtBQUtvSyxJQUFJaEQsS0FBTXBILE9BQy9EQSxLQUFLbEMsUUFBUTRJLGlCQUFrQixjQUFlMUcsS0FBS3FLLEtBQUtqRCxLQUFNcEgsT0FDOURBLEtBQUtsQyxRQUFRNEksaUJBQWtCLGNBQWdCNEQsR0FBT0EsRUFBRUMsbUJBQ3hEdkssS0FBS2xDLFFBQVE0SSxpQkFBa0IsYUFBZTRELEdBQU9BLEVBQUVDLG1CQUV2RHZLLEtBQUt3Syx1QkFBeUJwSCxZQUFhcEQsS0FBS3lLLGVBQWVyRCxLQUFNcEgsTUFBUSxJQUMvRSxDQUVBLFdBQVcwSyxHQUNULE9BQU8xSyxLQUFLaUssUUFDZCxDQUVBLFdBQVdTLENBQVMzQyxHQUNsQi9ILEtBQUtpSyxTQUFXbEMsQ0FDbEIsQ0FFQSxZQUFJbUMsQ0FBVTFGLEdBQ054RSxLQUFLMEssVUFJWDFLLEtBQUs4SixjQUFjSSxTQUFXMUYsRUFFekJ4RSxLQUFLa0ssU0FDUmxLLEtBQUtsQyxRQUFRTCxVQUFVK0YsSUFBSyxZQUU1QnhELEtBQUtsQyxRQUFRTCxVQUFVOEYsT0FBUSxZQUVuQyxDQUVBLFlBQUkyRyxHQUNGLE9BQU9sSyxLQUFLOEosY0FBY0ksUUFDNUIsQ0FFUSxLQUFBQyxDQUFPNUgsR0FDYixJQUFNdkMsS0FBSzBLLFFBQ1QsT0FHRixNQUFNQyxFQUFlcEksYUFBaUJxSSxXQUNoQ0MsRUFBZUYsR0FBaUMsSUFBakJwSSxFQUFNdUksT0FDckNDLEVBQWlCeEksYUFBaUJ5SSxhQUV4QyxHQUFLTCxJQUFpQkUsRUFDcEIsT0FHRixJQUFNN0ssS0FBSy9CLDZCQUNlc0UsRUFBTTBJLFNBQVdqTCxLQUFLbEMsUUFFNUMsT0FJSmtDLEtBQUs4QyxpQkFBa0IsU0FBVTlDLEtBQUtsQyxRQUFTa0MsTUFDMUNBLEtBQUtnSyxRQUNSaEssS0FBS2dLLE9BQVFoSyxLQUFLbEMsUUFBU2tDLE1BRzdCQSxLQUFLa0ssVUFBVyxFQUVoQjNILEVBQU0ySSxrQkFFTixJQUFJLEVBQUVDLEVBQUMsRUFBRUMsSUFBTSxJQUFBQyx5QkFBeUI5SSxHQUV4Q3ZDLEtBQUsrSixlQUFpQixDQUNwQm9CLEVBQUdBLEVBQ0hDLEVBQUdBLEdBR0xwTCxLQUFLc0wsWUFBWUMsTUFBUSxDQUFFQyxHQUFJeEwsS0FBS3NMLFlBQVlHLElBQUlOLEVBQUlBLEVBQUdPLEdBQUkxTCxLQUFLc0wsWUFBWUcsSUFBSUwsRUFBSUEsR0FFbkZMLElBQ0gvSyxLQUFLOEosY0FBYzZCLFVBQVlwSixFQUFNb0osVUFDckMzTCxLQUFLbEMsUUFBUThOLGtCQUFtQnJKLEVBQU1vSixZQUd4QzNMLEtBQUtsQyxRQUFRd0ksTUFBTXVGLFdBQWEsTUFDbEMsQ0FFUSxHQUFBekIsR0FDTnBLLEtBQUtrSyxVQUFXLEVBRWhCbEssS0FBS2xDLFFBQVF3SSxNQUFNdUYsV0FBYSxHQUVoQzdMLEtBQUs4QyxpQkFBa0IsU0FBVTlDLEtBQUtsQyxRQUFTa0MsTUFDMUNBLEtBQUs5QixRQUNSOEIsS0FBSzlCLE9BQVE4QixLQUFLbEMsUUFBU2tDLEtBRS9CLENBRVUsY0FBQXlLLEdBQ0h6SyxLQUFLa0ssVUFJVm5LLE1BQU0wSyxnQkFDUixDQUVVLElBQUFKLENBQU05SCxHQUNkLElBQU12QyxLQUFLMEssUUFDVCxPQUdGLE1BQU1LLEVBQWlCeEksYUFBaUJ5SSxhQUV4QyxJQUFNaEwsS0FBS2tLLFNBQ1QsT0FHRixJQUFNbEssS0FBSy9CLCtCQUNlc0UsRUFBTTBJLFNBQVdqTCxLQUFLbEMsU0FBYWlOLEdBQWtCL0ssS0FBSzhKLGNBQWM2QixZQUFjcEosRUFBTW9KLFdBRWxILE9BSUpwSixFQUFNMkksa0JBRU4sSUFBSSxFQUFFQyxFQUFDLEVBQUVDLElBQU0sSUFBQUMseUJBQXlCOUksR0FFeEN4QyxNQUFNK0wsZUFBZ0JYLEVBQUdDLEVBQzNCLENBRU8sMkJBQU9XLENBQXNCak8sR0FDbEMsT0FBTyxJQUFJRCxFQUFrQixDQUFFQyxXQUNqQyxDQUVPLDBDQUFPa08sQ0FBcUNDLEdBQ2pELE1BQU1uTyxFQUFVQyxTQUFTa08sY0FBZUEsR0FFeEMsT0FBTW5PLEVBSUMsSUFBSUQsRUFBa0IsQ0FBRUMsUUFBU0EsSUFIL0IsSUFJWCxFLHVFQ3BLSyxNQUFNK0wsVUFBdUIsRUFBQTFMLG9CQUNsQkwsUUFDTndOLFlBQ0hkLHVCQUNBMEIsYUFDQUMsWUFFUCxXQUFBek0sQ0FBYUMsR0FHWCxHQUZBSSxTQUVNSixFQUFRN0IsUUFDWixNQUFNLElBQUlnQyxNQUFPLHFFQUduQkUsS0FBS2xDLFFBQVU2QixFQUFRN0IsUUFDdkJrQyxLQUFLa00sYUFBZXZNLEVBQVF1TSxhQUM1QmxNLEtBQUttTSxZQUFjeE0sRUFBUXdNLFlBRTNCbk0sS0FBS3NMLFlBQWMsQ0FDakJHLElBQUssQ0FDSE4sRUFBRyxFQUNIQyxFQUFHLEdBRUxHLE1BQU8sQ0FDTEMsR0FBSSxFQUNKRSxHQUFJLElBSVIxTCxLQUFLd0ssdUJBQXlCcEgsWUFBYXBELEtBQUt5SyxlQUFlckQsS0FBTXBILE1BQVEsSUFDL0UsQ0FFQSxZQUFXd0ksR0FDVCxPQUFPeEksS0FBS3NMLFlBQVlHLEdBQzFCLENBRUEsWUFBV2pELENBQVU0RCxHQUNuQnBNLEtBQUs4TCxlQUFnQk0sRUFBT2pCLEVBQUdpQixFQUFPaEIsRUFDeEMsQ0FFQSxLQUFXRCxHQUNULE9BQU9uTCxLQUFLc0wsWUFBWUcsSUFBSU4sQ0FDOUIsQ0FFQSxLQUFXQSxDQUFHa0IsR0FDWnJNLEtBQUs4TCxlQUFnQk8sRUFBTXJNLEtBQUtvTCxFQUNsQyxDQUVBLEtBQVdBLEdBQ1QsT0FBT3BMLEtBQUtzTCxZQUFZRyxJQUFJTCxDQUM5QixDQUVBLEtBQVdBLENBQUdrQixHQUNadE0sS0FBSzhMLGVBQWdCOUwsS0FBS21MLEVBQUdtQixFQUMvQixDQUVRLFlBQUFDLENBQWNGLEVBQWNDLEdBQ2xDdE0sS0FBSzhDLGlCQUFrQixlQUFnQjlDLEtBQUtsQyxRQUFTa0MsTUFDaERBLEtBQUtrTSxjQUNSbE0sS0FBS2tNLGFBQWNsTSxLQUFLbEMsUUFBU2tDLE1BR25DQSxLQUFLd00saUJBQ0x4TSxLQUFLbEMsUUFBUXdJLE1BQU1tRyxXQUFhLGFBQWNKLFFBQWFDLE9BRTNEdE0sS0FBSzhDLGlCQUFrQixjQUFlOUMsS0FBS2xDLFFBQVNrQyxNQUMvQ0EsS0FBS21NLGFBQ1JuTSxLQUFLbU0sWUFBYW5NLEtBQUtsQyxRQUFTa0MsS0FFcEMsQ0FFUSxxQkFBQTBNLENBQXVCQyxHQUM3QjNNLEtBQUt1TSxhQUFjSSxFQUFNeEIsRUFBR3dCLEVBQU12QixFQUNwQyxDQUVVLGNBQUFYLEdBQ1J6SyxLQUFLc0wsWUFBWUcsS0FBTSxJQUFBbUIsK0JBQStCNU0sS0FBS2xDLFNBQzNEa0MsS0FBS3NMLFlBQVlDLE1BQU1DLEdBQUssRUFDNUJ4TCxLQUFLc0wsWUFBWUMsTUFBTUcsR0FBSyxDQUM5QixDQUVRLGNBQUFjLEdBQ054TSxLQUFLbEMsUUFBUXdJLE1BQU1tRyxVQUFZek0sS0FBS2xDLFFBQVF3SSxNQUFNbUcsVUFBVUksUUFBUyxFQUFBQyxrQ0FBbUMsR0FDMUcsQ0FFTyxjQUFBaEIsQ0FBZ0JYLEVBQVdDLEdBQ2hDcEwsS0FBS3NMLFlBQVlHLElBQU0sQ0FBRU4sRUFBR0EsRUFBSW5MLEtBQUtzTCxZQUFZQyxNQUFNQyxHQUFJSixFQUFHQSxFQUFJcEwsS0FBS3NMLFlBQVlDLE1BQU1HLElBQ3pGMUwsS0FBSzBNLHNCQUF1QjFNLEtBQUtzTCxZQUFZRyxJQUMvQyxDQUVPLGFBQUFzQixDQUFlSixHQUNwQjNNLEtBQUtzTCxZQUFZRyxJQUFNLENBQUVOLEVBQUd3QixFQUFNeEIsRUFBSW5MLEtBQUtzTCxZQUFZQyxNQUFNQyxHQUFJSixFQUFHdUIsRUFBTXZCLEVBQUlwTCxLQUFLc0wsWUFBWUMsTUFBTUcsSUFDckcxTCxLQUFLME0sc0JBQXVCMU0sS0FBS3NMLFlBQVlHLElBQy9DLENBRU8sbUJBQUF1QixDQUFxQi9CLEdBQzFCLE1BQU1nQyxFQUFhaEMsRUFBT2lDLHdCQUNwQkMsR0FBMkIsSUFBQVAsK0JBQStCNU0sS0FBS2xDLFNBQy9Ec1AsR0FBcUIsSUFBQUMsdUJBQXVCck4sS0FBS2xDLFFBQVNtTixHQUMxRHFDLEVBQXNCSCxFQUF5QmhDLEVBQUlpQyxFQUFtQkcsTUFDdEVDLEVBQXVCTCxFQUF5Qi9CLEVBQUlnQyxFQUFtQkssT0FFN0V6TixLQUFLME0sc0JBQXVCLENBQzFCdkIsRUFBR3VDLEtBQUtDLE1BQU9MLEVBQXNCTCxFQUFXakcsT0FDaERvRSxFQUFHc0MsS0FBS0MsTUFBT0gsRUFBdUJQLEVBQVdoRyxTQUVyRCxDQUVPLDJCQUFBMkcsQ0FBNkIzQyxHQUNsQyxNQUFNZ0MsRUFBYWhDLEVBQU9pQyx3QkFDcEJDLEdBQTJCLElBQUFQLCtCQUErQjVNLEtBQUtsQyxTQUMvRHNQLEdBQXFCLElBQUFDLHVCQUF1QnJOLEtBQUtsQyxRQUFTbU4sR0FDMURxQyxFQUFzQkgsRUFBeUJoQyxFQUFJaUMsRUFBbUJHLE1BQ3RFQyxFQUF1QkwsRUFBeUIvQixFQUFJZ0MsRUFBbUJLLE9BRTdFek4sS0FBSzBNLHNCQUF1QixDQUMxQnZCLEVBQUd1QyxLQUFLQyxNQUFPTCxFQUF3QkwsRUFBV2pHLE1BQVEsR0FDMURvRSxFQUFHc0MsS0FBS0MsTUFBT0gsRUFBeUJQLEVBQVdoRyxPQUFTLElBRWhFLENBRU8seUJBQU80RyxDQUFvQi9QLEdBQ2hDLE9BQU8sSUFBSStMLEVBQWdCLENBQUUvTCxXQUMvQixFLG9EQzlJSyxNQUFNSyxFQUNKMlAsYUFBd0MsSUFBSXpQLElBRTVDLGdCQUFBcUksQ0FBa0JxSCxFQUFtQnhMLEdBQ3BDdkMsS0FBSzhOLGFBQWFqTyxJQUFLa08sRUFBVUMsZUFLdkNoTyxLQUFLOE4sYUFBYUcsSUFBS0YsRUFBVUMsZUFBaUJ0TCxLQUFNSCxHQUp0RHZDLEtBQUs4TixhQUFhck4sSUFBS3NOLEVBQVVDLGNBQWUsQ0FBQ3pMLEdBS3JELENBRU8sZUFBQTJMLENBQWlCSCxHQUt0QixPQUpNL04sS0FBSzhOLGFBQWFqTyxJQUFLa08sRUFBVUMsZ0JBQ3JDaE8sS0FBSzhOLGFBQWFyTixJQUFLc04sRUFBVUMsY0FBZSxJQUczQ2hPLEtBQUs4TixhQUFhRyxJQUFLRixFQUFVQyxjQUMxQyxDQUdPLGdCQUFBbEwsQ0FBa0JpTCxLQUFzQkksR0FDN0NuTyxLQUFLa08sZ0JBQWlCSCxHQUFZekksU0FBU2dGLEdBQUtBLEtBQU02RCxJQUN4RCxFLGthQ25CSyxNQUFNckIsRUFBb0Msc0JBQ3BDc0IsRUFBd0IsNkJBQ3hCQyxFQUF5Qiw4QkFDekJDLEVBQXlCLDhCQUN6QkMsRUFBeUIsOEJBRXpCQyxFQUE4QixJQUFJblEsSUFDbENvUSxFQUFnQyxJQUFJcFEsSUFDcENxUSxFQUF3QixJQUFJclEsSUFlbENzUSxlQUFlNU0sRUFBa0I2TSxHQUN0QyxJQUNFLE1BQU16TSxRQUFheU0sRUFFbkIsTUFBTyxDQUNMek0sS0FBTSxJQUFNQSxFQUNaRCxNQUFPLEtBRVgsQ0FBRSxNQUFRQSxHQUdSLE9BRkFHLFFBQVFILE1BQU9BLEdBRVIsQ0FDTEMsS0FBTSxLQUFRLE1BQU0sSUFBSXJDLE1BQU8sdURBQXdELEVBQ3ZGb0MsTUFBT0EsYUFBaUJwQyxNQUFRb0MsRUFBUSxJQUFJcEMsTUFBTytPLE9BQVEzTSxJQUUvRCxDQUNGLENBRU8sU0FBU2IsRUFBdUJ5TixHQUlyQyxNQUhtQix3REFHREMsS0FBTUQsSUFGTixzQkFFMkJDLEtBQU1ELEVBQ3JELENBUU8sU0FBU2pPLEVBQWtCaU8sR0FDaEMsTUFDTUUsRUFBUUYsRUFBTUUsTUFETixrQkFFZCxPQUFLQSxHQUFTQSxFQUFNLEdBQ1hBLEVBQU0sR0FHVyxLQUFqQkYsRUFBTUcsT0FBZ0JILEVBQVEsSUFFekMsQ0FHTyxTQUFTbEksRUFBNEI5SSxFQUFzQm9SLEdBQ2hFQSxFQUFTNUosU0FBUyxFQUFHRyxFQUFLakIsTUFDeEIxRyxFQUFRcVIsYUFBYzFKLEVBQUtqQixFQUFLLEdBRXBDLENBOEJPLFNBQVNoRSxFQUFzQjFDLEdBQ3BDLElBQUlzUixFQUFPdFIsRUFBUW9QLHdCQUVuQixNQUFPLENBQ0xsRyxNQUFPb0ksRUFBS3BJLE1BQ1pDLE9BQVFtSSxFQUFLbkksT0FFakIsQ0FFTyxTQUFTb0ksRUFBMEN2UixHQUN4RCxNQUFNc1IsRUFBT3RSLEVBQVFvUCx3QkFDZm9DLEVBQVVGLEVBQUsxRyxLQUFPMEcsRUFBS3BJLE1BQVEsRUFDbkN1SSxFQUFVSCxFQUFLM0csSUFBTTJHLEVBQUtuSSxPQUFTLEVBR25DdUksRUFtUEQsV0FDTCxNQUFNUixFQWFELFNBQTRDUyxHQUNqRCxPQUFTQSxHQUNQLElBQUssSUFDSCxPQUFPcEIsRUFDVCxJQUFLLElBQ0gsT0FBT0MsRUFDVCxJQUFLLElBQ0gsT0FBT0MsRUFDVCxRQUNFLE9BQU9ILEVBRWIsQ0FkU3NCLENBaUJBQyxFQUF3QjVSLFNBQVNDLE9BM0JPNFIsS0FBTTdSLFNBQVNDLEtBQUtzSSxNQUFNbUcsV0FDekUsT0FBS3VDLEVBQ21CYSxXQUFZYixFQUFNLElBR2pDLENBRVgsQ0EzUHdCYyxHQUVoQkMsRUFBWXJDLEtBQUtzQyxHQUFLLElBQVFSLEVBQzlCUyxFQUFXdkMsS0FBS3dDLElBQUtILEdBQ3JCSSxFQUFXekMsS0FBSzBDLElBQUtMLEdBR3JCTSxFQUFZZixHQUFZRixFQUFLMUcsS0FBTzRHLEdBQVlXLEdBQWFiLEVBQUszRyxJQUFNOEcsR0FBWVksRUFDcEZHLEVBQVlmLEdBQVlILEVBQUsxRyxLQUFPNEcsR0FBWWEsR0FBYWYsRUFBSzNHLElBQU04RyxHQUFZVSxFQUVwRk0sRUFBWWpCLEdBQVlGLEVBQUs3QixNQUFRK0IsR0FBWVcsR0FBYWIsRUFBSzNCLE9BQVM4QixHQUFZWSxFQUN4RkssRUFBWWpCLEdBQVlILEVBQUs3QixNQUFRK0IsR0FBWWEsR0FBYWYsRUFBSzNCLE9BQVM4QixHQUFZVSxFQUd4RlEsRUFBYy9DLEtBQUtnRCxJQUFLTCxFQUFXRSxHQUNuQ0ksRUFBYWpELEtBQUtnRCxJQUFLSixFQUFXRSxHQUNsQ0ksRUFBZ0JsRCxLQUFLbUQsSUFBS1AsRUFBV0UsR0FDckNNLEVBQWVwRCxLQUFLbUQsSUFBS1IsRUFBV0UsR0FFMUMsTUFBTyxDQUNMcEYsRUFBR3NGLEVBQ0hyRixFQUFHdUYsRUFDSDNKLE1BQU9vSSxFQUFLcEksTUFDWkMsT0FBUW1JLEVBQUtuSSxPQUNiOEosT0FBUTNCLEVBQUsyQixPQUNickksS0FBTStILEVBQ05oSSxJQUFLa0ksRUFDTGxELE9BQVFtRCxFQUNSckQsTUFBT3VELEVBRVgsQ0FnRE8sU0FBUzFJLEVBQW9CNEksRUFBc0JDLEVBQXlDQyxHQUNqRyxNQUNNQyxFQUFPL04sYUFBYSxVQUNpQmdPLElBQWxDQyxPQUFnQkwsSUFBK0JDLEVBQWtCSSxPQUFnQkwsTUFFdEYxTixjQUFlNk4sR0FDZkQsRUFBWUcsT0FBZ0JMLElBQzlCLEdBTm1CLElBUXZCLENBRU9yQyxlQUFlN0csRUFBeUJrSixFQUFzQkMsRUFBeUNDLEdBRTVHLE9BQU8sSUFBSUksU0FBaUJDLElBQzFCLE1BQU1KLEVBQU8vTixhQUFhLFVBQ2lCZ08sSUFBbENDLE9BQWdCTCxJQUErQkMsRUFBa0JJLE9BQWdCTCxNQUV0RjFOLGNBQWU2TixHQUNmRCxFQUFZRyxPQUFnQkwsSUFDNUJPLElBQ0YsR0FSaUIsSUFTRixHQUVyQixDQUVPLFNBQVMxSixFQUF3QjJKLEdBQ3RDLE9BQU8sSUFBSUYsU0FBU0MsSUFDbEIsR0FBS3hULFNBQVNrTyxjQUFldUYsR0FDM0IsT0FBT0QsRUFBU3hULFNBQVNrTyxjQUFldUYsSUFHMUMsTUFBTUMsRUFBVyxJQUFJQyxrQkFBa0JDLElBQ2hDNVQsU0FBU2tPLGNBQWV1RixLQUMzQkMsRUFBU0csYUFDVEwsRUFBU3hULFNBQVNrTyxjQUFldUYsSUFDbkMsSUFHRkMsRUFBU0ksUUFBUzlULFNBQVNDLEtBQU0sQ0FDL0I4VCxXQUFXLEVBQ1hDLFNBQVMsR0FDUixHQUVQLENBNENPLFNBQVMxRSxFQUF1QnpQLEVBQXdCcU4sRUFBcUIrRyxHQUE2QixHQUMvRyxNQUFNQyxFQUFTRCxFQUF3RDNDLEVBQTBDelIsR0FBOUVBLEVBQVVzUCx3QkFDdkNnRixFQUFTRixFQUFxRDNDLEVBQTBDcEUsR0FBM0VBLEVBQU9pQyx3QkFFcENpRixFQUNERixFQUFNdkosS0FBT3VKLEVBQU1qTCxNQUFRLEVBRDFCbUwsRUFFREYsRUFBTXhKLElBQU13SixFQUFNaEwsT0FBUyxFQVVoQyxNQVAyQyxDQUN6Q3dCLElBQUswSixFQUFXRCxFQUFNekosSUFDdEI4RSxNQUFPMkUsRUFBTTNFLE1BQVE0RSxFQUNyQjFFLE9BQVF5RSxFQUFNekUsT0FBUzBFLEVBQ3ZCekosS0FBTXlKLEVBQVdELEVBQU14SixLQUkzQixDQTRGTyxTQUFTaUgsRUFBd0I3UixHQUN0QyxNQUFNc1UsRUFBbUJ0VSxFQUFRd0ksTUFBTW1HLFVBQVV1QixjQUNqRCxPQUFLb0UsRUFBaUJoTixTQUFVLEtBQ3ZCLElBQ0dnTixFQUFpQmhOLFNBQVUsS0FDOUIsSUFFQSxHQUVYLENBRU8sU0FBU3dILEVBQStCOU8sRUFBc0JrVSxHQUE2QixHQUNoRyxNQUFNSyxHQUFrQ2hCLE9BQU9pQixpQkFBa0J4VSxHQUFVMk8sVUFBVXVDLE1BQU8sRUFBQXVELHFCQUF3QixDQUFDLEVBQUcsSUFBS0MsS0FBS0MsSUFBTUEsSUFFeEksSUFBSUMsRUFBUyxDQUNYdkgsT0FBd0NpRyxJQUFyQ2lCLEVBQThCLEdBQW1CM0UsS0FBS0MsTUFBTzBFLEVBQThCLElBQU8sRUFDckdqSCxPQUF3Q2dHLElBQXJDaUIsRUFBOEIsR0FBbUIzRSxLQUFLQyxNQUFPMEUsRUFBOEIsSUFBTyxHQUd2RyxHQUFLTCxFQUFvQixDQUN2QixNQUFNVyxFQTdFSCxTQUFzQzdVLEVBQXNCMlIsRUFBd0IsS0FDekYsSUFBSW1ELEVBQ0osT0FBU25ELEdBQ1AsSUFBSyxJQUNIbUQsRUFBd0J2RSxFQUN4QixNQUNGLElBQUssSUFDSHVFLEVBQXdCdEUsRUFDeEIsTUFDRixJQUFLLElBQ0hzRSxFQUF3QnJFLEVBQ3hCLE1BQ0YsUUFDRXFFLEVBQXdCeEUsRUFJNUIsTUFBTVksRUFBUTRELEVBQXNCaEQsS0FBTTlSLEVBQVF3SSxNQUFNbUcsV0FDeEQsT0FBS3VDLEVBQ21CYSxXQUFZYixFQUFNLElBR2pDLENBRVgsQ0FxRHNCNkQsQ0FBNkI5VSxTQUFTQyxLQUFNMlIsRUFBd0I3UixLQUFlLEVBQ3JHLE9BQU8sSUFBQWdWLG1CQUFtQkosRUFBT3ZILEVBQUd1SCxFQUFPdEgsRUFBR3VILEVBQ2hELENBQ0UsT0FBT0QsQ0FFWCxDQUVPLFNBQVNySCxFQUF5QjlJLEdBQ3ZDLEdBQUtBLGFBQWlCcUksV0FDcEIsTUFBTyxDQUNMTyxFQUFHNUksRUFBTXdRLFFBQ1QzSCxFQUFHN0ksRUFBTXlRLFNBRU4sR0FBS3pRLGFBQWlCMFEsV0FBYSxDQUN4QyxNQUFNQyxFQUFRM1EsRUFBTTRRLGVBQWUsR0FDbkMsTUFBTyxDQUNMaEksRUFBRytILEVBQU1ILFFBQ1QzSCxFQUFHOEgsRUFBTUYsUUFFYixDQUNFLEtBQU0saUJBRVYsQ0FHTyxTQUFTekssR0FBK0IsY0FBRS9LLEVBQWEsR0FBRWdCLEVBQUUsU0FBRWdLLEVBQVEsV0FBRWpJLElBQzVFLElBQUk2UyxFQUFlclYsU0FBUzRILGNBQWUsT0FpQjNDLE9BZk1uSSxFQUFjOEksTUFBTWtDLFdBQ3hCaEwsRUFBYzhJLE1BQU1rQyxTQUFXLFlBR2pDNEssRUFBYTVVLEdBQUtBLEVBQ2xCNFUsRUFBYTlNLE1BQU1rQyxTQUFXLFdBQzlCNEssRUFBYTlNLE1BQU1VLE1BQVF6RyxHQUFjQSxFQUFXeUcsTUFBUXpHLEVBQVd5RyxNQUFNcU0sV0FBYSxLQUFPLE9BQ2pHRCxFQUFhOU0sTUFBTVcsT0FBUzFHLEdBQWNBLEVBQVcwRyxPQUFTMUcsRUFBVzBHLE9BQU9vTSxXQUFhLEtBQU8sT0FDcEdELEVBQWE5TSxNQUFNbUMsS0FBUUQsR0FBVUMsSUFBSTRLLFlBQWMsS0FBUSxLQUMvREQsRUFBYTlNLE1BQU1vQyxNQUFTRixHQUFVRSxLQUFLMkssWUFBYyxLQUFRLEtBQ2pFRCxFQUFhOU0sTUFBTWdOLFFBQVUsSUFDN0JGLEVBQWE5TSxNQUFNaU4sY0FBZ0IsT0FFbkMvVixFQUFjZ1csWUFBYUosR0FFcEJBLENBQ1QsQ0FwTjZDLElBQUkvVSxJQTBFakRnVCxPQUFPM0ssaUJBQWtCLFdBQVdDLElBQzVCQSxFQUFJOE0sUUFqQlosU0FBb0M5TSxHQUNsQyxJQUFNLE1BQU0rTSxLQUFRbEYsRUFDYjdILEVBQUlnTixPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUdwTyxTQUFTc08sR0FBV0EsRUFBU2pOLElBRzNDLENBWUlrTixDQUEyQmxOLEdBVi9CLFNBQWtDQSxHQUNoQyxJQUFNLE1BQU0rTSxLQUFRakYsRUFDYjlILEVBQUlnTixPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUdwTyxTQUFTc08sR0FBV0EsRUFBU2pOLElBRzNDLENBT0VtTixDQUF5Qm5OLEVBQUssSUFHaEMwSyxPQUFPM0ssaUJBQWtCLFNBQVNDLElBQ2hDLElBQU0sTUFBTStNLEtBQVFoRixFQUNiL0gsRUFBSWdOLE9BQVNELEVBQUssSUFDckJBLEVBQUssR0FBR3BPLFNBQVNzTyxHQUFXQSxFQUFTak4sSUFFekMsRyxzRkM3VUssTUFBTTRMLEVBQXFCLGVBZ0MzQixTQUFTTyxFQUFtQjNILEVBQVdDLEVBQVcySSxHQUN2RCxNQUFNaEUsRUFBWXJDLEtBQUtzQyxHQUFLLElBQVErRCxFQUdwQyxNQUFPLENBQUU1SSxFQUZJQSxFQUFJdUMsS0FBS3dDLElBQUtILEdBQVkzRSxFQUFJc0MsS0FBSzBDLElBQUtMLEdBRW5DM0UsRUFETEQsRUFBSXVDLEtBQUswQyxJQUFLTCxHQUFZM0UsRUFBSXNDLEtBQUt3QyxJQUFLSCxHQUV2RCxDQXNETyxTQUFTeEwsRUFBT3lQLEVBQWMsRUFBR3RELEVBQWMsRUFBR0csRUFBYyxLQUNyRSxPQUFPbkQsS0FBS21ELElBQUtILEVBQUtoRCxLQUFLZ0QsSUFBS3NELEVBQUtuRCxHQUN2QyxDLEdDNUZJb0QsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCL0MsSUFBakJnRCxFQUNILE9BQU9BLEVBQWFDLFFBR3JCLElBQUlDLEVBQVNMLEVBQXlCRSxHQUFZLENBR2pERSxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkosR0FBVUcsRUFBUUEsRUFBT0QsUUFBU0gsR0FHL0NJLEVBQU9ELE9BQ2YsQ0NyQkFILEVBQW9CTSxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSWhQLEtBQU9nUCxFQUNYUCxFQUFvQjNPLEVBQUVrUCxFQUFZaFAsS0FBU3lPLEVBQW9CM08sRUFBRThPLEVBQVM1TyxJQUM1RWlQLE9BQU9DLGVBQWVOLEVBQVM1TyxFQUFLLENBQUVtUCxZQUFZLEVBQU0zRyxJQUFLd0csRUFBV2hQLElBRTFFLEVDTkR5TyxFQUFvQjNPLEVBQUksQ0FBQ3NQLEVBQUtDLElBQVVKLE9BQU8xTSxVQUFVK00sZUFBZUMsS0FBS0gsRUFBS0MsR0NDbEZaLEVBQW9CL08sRUFBS2tQLElBQ0gsb0JBQVhZLFFBQTBCQSxPQUFPQyxhQUMxQ1IsT0FBT0MsZUFBZU4sRUFBU1ksT0FBT0MsWUFBYSxDQUFFbk4sTUFBTyxXQUU3RDJNLE9BQU9DLGVBQWVOLEVBQVMsYUFBYyxDQUFFdE0sT0FBTyxHQUFPLEVDRjlELElBQUlvTixFQUFzQmpCLEVBQW9CLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Zb3V0dWJlSWZyYW1lL1RlbXBsYXRlc1lvdXR1YmVJZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvWW91dHViZUlmcmFtZVN3aXRjaGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvWW91dHViZUlmcmFtZVN5bmMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9EcmFnZ2FibGVFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9FeHRyYXMvTW92YWJsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9ET01Ub29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvTWF0aFRvb2xzLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1cIj5cclxuICA8L2Rpdj5cclxuICBgLnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlWW91dHViZUlmcmFtZVRhYmxlSXRlbSggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1JZnJhbWVUYWJsZUl0ZW1cIiBjbGFzcz1cInl0LWlmcmFtZS10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59IiwiaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGV4dHJhY3RZb3VUdWJlSWQsIGdldEVsZW1lbnREaW1lbnNpb25zLCBoYW5kbGVQcm9taXNlLCBpc1ZhbGlkWW91VHViZVVybCwgaXNWYWxpZFlvdXR1YmVVcmxPcklkLCBwb2xsRm9yVmFyaWFibGUsIHBvbGxGb3JWYXJpYWJsZUFzeW5jLCBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCwgd2FpdFVudGlsRWxlbWVudEV4aXN0cyB9IGZyb20gJy4uLy4uL1Rvb2xzL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gJy4uLy4uL0V4dHJhcy9EcmFnZ2FibGVFbGVtZW50JztcclxuaW1wb3J0IHsgRGltZW5zaW9ucywgY2xhbXAgfSBmcm9tICcuLi8uLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCB9IGZyb20gJy4vVGVtcGxhdGVzWW91dHViZUlmcmFtZSc7XHJcbmltcG9ydCB7IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB9IGZyb20gJy4vVHlwZXMnO1xyXG5pbXBvcnQgeyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWVTd2l0Y2hlcic7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWVTeW5jIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lU3luYyc7XHJcbmltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcbmltcG9ydCB7IElNZWRpYVBsYXllckZ1bmN0aW9ucyB9IGZyb20gJy4uL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIFlvdXR1YmVJZnJhbWVPcHRpb25zID0ge1xyXG4gIGlmcmFtZUlkOiBzdHJpbmc7XHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIGRpbWVuc2lvbnM/OiBEaW1lbnNpb25zO1xyXG4gIHBhcmVudEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICBjbGFzc0xpc3Q/OiBzdHJpbmdbXTtcclxuICBzdGFydE11dGVkPzogYm9vbGVhbjtcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICByZXBsYXlPbkVuZD86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBZb3V0dWJlSWZyYW1lQ2hhbmdlVmlkZW9PcHRpb25zID0ge1xyXG4gIGlmcmFtZUlkOiBzdHJpbmc7XHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIHN0YXJ0c0F0PzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHJhZ2dhYmxlWW91dHViZUlmcmFtZSggeyBpZnJhbWVJZCwgdmlkZW9JZCwgc3RhcnRzQXQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCA9IFtdIH06IFlvdXR1YmVJZnJhbWVPcHRpb25zICkge1xyXG4gIGNvbnN0IGlmcmFtZUNvbnRyb2xsZXJSZXN1bHQgPSBuZXcgWW91dHViZUlmcmFtZSggeyBzdGFydHNBdCwgaWZyYW1lSWQsIHZpZGVvSWQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCB9ICk7XHJcblxyXG4gIGNvbnN0IGRyYWdnYWJsZVJlc3VsdCA9IG5ldyBEcmFnZ2FibGVFbGVtZW50KCB7XHJcbiAgICBlbGVtZW50OiBwYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksXHJcbiAgICBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ6IHRydWUsXHJcbiAgICBvbkRyb3A6ICgpID0+IHtcclxuXHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaWZyYW1lQ29udHJvbGxlcjogaWZyYW1lQ29udHJvbGxlclJlc3VsdCxcclxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlUmVzdWx0XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlSWZyYW1lIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBhcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeTogSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5W10gPSBbXTtcclxuXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfZGljdFlvdXR1YmVJZnJhbWVCeUlkOiBNYXA8c3RyaW5nLCBZb3V0dWJlSWZyYW1lPiA9IG5ldyBNYXAoKTtcclxuICBwcm90ZWN0ZWQgc3RhdGljIF9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeTogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgcHVibGljIHBsYXllcjogYW55IHwgbnVsbDtcclxuICBwcm90ZWN0ZWQgX2lzUGxheWVyUmVhZHk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgcHVibGljIGlkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBfdmlkZW9JZDogc3RyaW5nO1xyXG4gIHB1YmxpYyB2aWRlb05hbWU6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyB2aWRlb1RodW1iOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgY2hhbm5lbFVSTDogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGNoYW5uZWxOYW1lOiBzdHJpbmcgPSAnJztcclxuXHJcbiAgcHJvdGVjdGVkIF9pZnJhbWVFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAvLyBBIGRpdiB3aGljaCBpcyBjcmVhdGVkIGFmdGVyIGlmcmFtZSByZW5kZXIgYW5kIGhvbGRzIGlmcmFtZSBlbGVtZW50XHJcbiAgcHJvdGVjdGVkIF9pZnJhbWVDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuICAvLyBUaGUgZWxlbWVudCB0aGF0IGhvbGRzIHsgX2lmcmFtZUNvbnRhaW5lciB9XHJcbiAgcHJvdGVjdGVkIF9pZnJhbWVQYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgcHJvdGVjdGVkIF9pc1BsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcm90ZWN0ZWQgX2RpbWVuc2lvbnM6IERpbWVuc2lvbnM7XHJcblxyXG4gIC8vLyBDYW4gYmUgdXNlZCB0byBkcmFnLCBpcyBhbiBpbnZpc2libGUgZGl2IHBsYWNlZCBhdCB0aGUgdG9wIG9mIHRoZSBjb250YWluZXJcclxuICBwcm90ZWN0ZWQgdG9wRGl2PzogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3N0YXJ0c0F0OiBudW1iZXI7XHJcblxyXG4gIHByb3RlY3RlZCBfYmxvY2tJbnRlcmFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByb3RlY3RlZCBfZGl2QmxvY2tJbnRlcmFjdGlvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJvdGVjdGVkIF9zdGFydE11dGVkOiBib29sZWFuO1xyXG4gIHB1YmxpYyBfcGxheWluZ09ic2VydmVySW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHByb3RlY3RlZCBfZXZlbnRMaXN0ZW5lcjogT2JqZWN0RXZlbnRMaXN0ZW5lciA9IG5ldyBPYmplY3RFdmVudExpc3RlbmVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBZb3V0dWJlSWZyYW1lT3B0aW9ucyApIHtcclxuICAgIGlmICggWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmhhcyggb3B0aW9ucy5pZnJhbWVJZCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCBpZnJhbWUgdGhlcmUncyBhbHJlYWR5IGFuIGlmcmFtZSB3aXRoIHRoaXMgaWQuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlmcmFtZUlkO1xyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBvcHRpb25zLnN0YXJ0c0F0ID8/IDA7XHJcbiAgICB0aGlzLl92aWRlb0lkID0gb3B0aW9ucy52aWRlb0lkO1xyXG5cclxuICAgIHRoaXMuX3N0YXJ0TXV0ZWQgPSBvcHRpb25zLnN0YXJ0TXV0ZWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lciA9IFlvdXR1YmVJZnJhbWUuZ2V0WW91dHViZUlmcmFtZUVsZW1lbnQoIHtcclxuICAgICAgaWZyYW1lSWQ6IG9wdGlvbnMuaWZyYW1lSWQsXHJcbiAgICAgIGNsYXNzTGlzdDogb3B0aW9ucy5jbGFzc0xpc3RcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50ID0gWW91dHViZUlmcmFtZS5zZXR1cFBhcmVudEZyb21Zb3V0dWJlSWZyYW1lKCB7XHJcbiAgICAgIHBhcmVudEVsZW1lbnQ6IG9wdGlvbnMucGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5LFxyXG4gICAgICBpZnJhbWVDb250YWluZXI6IHRoaXMuX2lmcmFtZUNvbnRhaW5lclxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpO1xyXG5cclxuICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBvcHRpb25zLmRpbWVuc2lvbnMgPz8gZ2V0RWxlbWVudERpbWVuc2lvbnMoIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQgKTtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuc2V0KCBvcHRpb25zLmlmcmFtZUlkLCB0aGlzICk7XHJcbiAgICB0aGlzLnNldFZpZGVvSW5mbygpLnRoZW4oICgpID0+IHtcclxuICAgICAgdGhpcy5zZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgdmlkZW9JZCgpIHtcclxuICAgIHJldHVybiBleHRyYWN0WW91VHViZUlkKCB0aGlzLl92aWRlb0lkICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHNldFZpZGVvSW5mbygpIHtcclxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0aGlzLmdldFZpZGVvSW5mbygpO1xyXG4gICAgdGhpcy52aWRlb05hbWUgPSBpbmZvICYmIGluZm8udGl0bGUgPyBpbmZvLnRpdGxlIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgdGhpcy5jaGFubmVsTmFtZSA9IGluZm8gJiYgaW5mby5hdXRob3JfbmFtZSA/IGluZm8uYXV0aG9yX25hbWUgYXMgc3RyaW5nIDogJyc7XHJcbiAgICB0aGlzLnZpZGVvVGh1bWIgPSBpbmZvICYmIGluZm8udGh1bWJuYWlsX3VybCA/IGluZm8udGh1bWJuYWlsX3VybCBhcyBzdHJpbmcgOiAnJztcclxuICAgIHRoaXMuY2hhbm5lbFVSTCA9IGluZm8gJiYgaW5mby5hdXRob3JfdXJsID8gaW5mby5hdXRob3JfdXJsIGFzIHN0cmluZyA6ICcnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoYW5nZVZpZGVvKCBvcHRpb25zOiBZb3V0dWJlSWZyYW1lQ2hhbmdlVmlkZW9PcHRpb25zICk6IHZvaWQge1xyXG4gICAgaWYgKCAhaXNWYWxpZFlvdXR1YmVVcmxPcklkKCBvcHRpb25zLnZpZGVvSWQgKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMucGxheWVyIHx8ICF0aGlzLnBsYXllci5sb2FkVmlkZW9CeUlkICkge1xyXG4gICAgICBzZXRUaW1lb3V0KCAoKSA9PiB0aGlzLmNoYW5nZVZpZGVvKCBvcHRpb25zICksIDEwMCApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcmVwYXJlT3B0aW9ucyggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggdGhpcy5zdGFydHNBdCwgdHJ1ZSApO1xyXG4gICAgaWYgKCB0aGlzLmlzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmVwYXJlT3B0aW9ucyggb3B0aW9uczogWW91dHViZUlmcmFtZUNoYW5nZVZpZGVvT3B0aW9ucyApIHtcclxuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlmcmFtZUlkO1xyXG4gICAgdGhpcy5fdmlkZW9JZCA9IG9wdGlvbnMudmlkZW9JZDtcclxuICAgIHRoaXMuc3RhcnRzQXQgPSBvcHRpb25zLnN0YXJ0c0F0ID8/IHRoaXMuc3RhcnRzQXQ7XHJcblxyXG4gICAgdGhpcy5sb2FkVmlkZW8oKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZFZpZGVvKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIubG9hZFZpZGVvQnlJZCgge1xyXG4gICAgICAndmlkZW9JZCc6IHRoaXMudmlkZW9JZCxcclxuICAgICAgJ3N0YXJ0U2Vjb25kcyc6IHRoaXMuc3RhcnRzQXQsXHJcbiAgICAgICdzdWdnZXN0ZWRRdWFsaXR5JzogJ2hpZ2hyZXMnXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zZXRWaWRlb0luZm8oKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGFzeW5jIGdldFZpZGVvSW5mbygpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUHJvbWlzZTxSZXNwb25zZT4oIGZldGNoKCBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vb2VtYmVkP3VybD0keyB0aGlzLnZpZGVvVVJMIH0mZm9ybWF0PWpzb25gICkgKTtcclxuXHJcbiAgICBpZiAoIHJlc3BvbnNlLmVycm9yICkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCByZXNwb25zZS5lcnJvciApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmRhdGEoKS5qc29uKCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb25QbGF5ZXJSZWFkeSggZXZlbnQ6IGFueSApIHtcclxuICAgIGlmICggdGhpcy5fc3RhcnRNdXRlZCApIHtcclxuICAgICAgdGhpcy5wbGF5ZXIubXV0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuX2FycllvdXR1YmVJZnJhbWVJZFJlYWR5LnB1c2goIHRoaXMuaWQgKTtcclxuICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdGhpcy5pZCApITtcclxuXHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICB0aGlzLnBsYXllci5zZXRQbGF5YmFja1F1YWxpdHkoICdoaWdocmVzJyApO1xyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCB0aGlzLl9zdGFydHNBdCA/PyAwLCB0cnVlICk7XHJcbiAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICB0aGlzLl9pc1BsYXllclJlYWR5ID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmlmcmFtZXJlYWR5JywgdGhpcyApO1xyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSgpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG9uUGxheWVyU3RhdGVDaGFuZ2UoIGV2ZW50OiBhbnkgKSB7XHJcbiAgICBpZiAoIGV2ZW50LmRhdGEgPT09IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyU3RhdGUuUExBWUlORyApIHtcclxuICAgICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggKCkgPT4gdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5aW5nJywgdGhpcywgdGhpcy5pc1BsYXlpbmcgKSwgMTAwICk7XHJcbiAgICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmcoKTtcclxuICAgIH0gZWxzZSBpZiAoIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsICkge1xyXG4gICAgICBjbGVhckludGVydmFsKCB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCApO1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuICAgICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdwbGF5ZXJzdGF0ZWNoYW5nZScsIHRoaXMsIHRoaXMuaXNQbGF5aW5nICk7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBsYXllcnN0YXRlY2hhbmdlJywgdGhpcywgdGhpcy5pc1BsYXlpbmcgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXRDbGFzc2VzSWZyYW1lUGxheWluZygpIHtcclxuICAgIGlmICggdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpIHtcclxuICAgIGlmICggdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJvdGVjdGVkIG9uRXZlcnlZb3V0dWJlSWZyYW1lUmVhZHkoKSB7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmV2ZXJ5eW91dHViZWlmcmFtZXJlYWR5JyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkaXZCbG9ja0ludGVyYWN0aW9uKCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgdmlkZW9VUkwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0keyB0aGlzLnZpZGVvSWQgfWA7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhcmVudEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlmcmFtZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgaWYgKCAhdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIklmcmFtZSB3YXMgY2FsbGVkIGJ1dCBpdCdzIG5vdCByZWFkeS5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9pZnJhbWVFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpc1BsYXllclJlYWR5KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzUGxheWVyUmVhZHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGR1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKSAtIHRoaXMuX3N0YXJ0c0F0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGF5ZXJEdXJhdGlvbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGN1cnJlbnRUaW1lKCB0OiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLnNlZWsoIHQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllckN1cnJlbnRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllclByb2dyZXNzUGVyY2VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyQ3VycmVudFRpbWUgLyB0aGlzLnBsYXllckR1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdGFydE11dGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0TXV0ZWQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWluZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BsYXlpbmc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpbWVuc2lvbnMoKTogRGltZW5zaW9ucyB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGltZW5zaW9ucztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhcnRzQXQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBjbGFtcCggdGhpcy5fc3RhcnRzQXQsIDAsIHRoaXMuX3N0YXJ0c0F0ICk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc3RhcnRzQXQoIHZhbDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBjbGFtcCggdmFsLCAwLCB2YWwgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGUoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zIHtcclxuICAgIGlmICggdGhpcy5pc1BsYXlpbmcgKSB7XHJcbiAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBsYXkoKSB7XHJcbiAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheScsIHRoaXMgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB0aGlzLnBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICB0aGlzLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGF1c2UnLCB0aGlzICk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2Vlayggc2Vla1RpbWU6IG51bWJlciwgcmVsb2FkQnVmZmVyOiBib29sZWFuID0gZmFsc2UsIGNvbnNpZGVyU3RhcnRzQXQ6IGJvb2xlYW4gPSBmYWxzZSApIHtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uc2VlaycsIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIsIGNvbnNpZGVyU3RhcnRzQXQsIHRoaXMgKTtcclxuXHJcbiAgICBzZWVrVGltZSArPSBjb25zaWRlclN0YXJ0c0F0ID8gdGhpcy5fc3RhcnRzQXQgOiAwO1xyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCBzZWVrVGltZSwgcmVsb2FkQnVmZmVyICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIubXV0ZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5tdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIudW5tdXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCkge1xyXG4gICAgY29uc3QgYXJyRXZlcnlJZnJhbWVJZCA9IFsuLi5Zb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQua2V5cygpXTtcclxuICAgIGNvbnN0IGhhc0lmcmFtZU5vdFJlYWR5WWV0ID0gYXJyRXZlcnlJZnJhbWVJZC5zb21lKCByID0+ICF0aGlzLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5pbmNsdWRlcyggciApICk7XHJcblxyXG4gICAgaWYgKCAhaGFzSWZyYW1lTm90UmVhZHlZZXQgKSB7XHJcbiAgICAgIHRoaXMuYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkuZm9yRWFjaCggbyA9PiBvLnNldHVwKCBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQgKSApO1xyXG5cclxuICAgICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmZvckVhY2goICggdmFsLCBrZXkgKSA9PiB7XHJcbiAgICAgICAgdmFsLm9uRXZlcnlZb3V0dWJlSWZyYW1lUmVhZHkoKTtcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7IGlmcmFtZUlkLCBjbGFzc0xpc3QgfTogeyBpZnJhbWVJZDogc3RyaW5nOyBjbGFzc0xpc3Q/OiBzdHJpbmdbXTsgfSApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWlmcmFtZS1jb250YWluZXInICk7XHJcbiAgICBpZiAoIGNsYXNzTGlzdCApIHtcclxuICAgICAgY29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoIC4uLmNsYXNzTGlzdCApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5lckRpdi5pZCA9IGBjb250YWluZXJZb3V0dWJlSWZyYW1lJHsgaWZyYW1lSWQgfWA7XHJcbiAgICBjb250YWluZXJEaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKCAnYWZ0ZXJiZWdpbicsIHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50KCBpZnJhbWVJZCApICk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyRGl2O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUoIHsgcGFyZW50RWxlbWVudCwgaWZyYW1lQ29udGFpbmVyIH06IHsgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7IGlmcmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IH0gKSB7XHJcbiAgICBjb25zdCBpZnJhbWVQYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5O1xyXG4gICAgaWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtaWZyYW1lLXBhcmVudCcgKTtcclxuICAgIGlmcmFtZVBhcmVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYWZ0ZXJiZWdpbicsIGlmcmFtZUNvbnRhaW5lciApO1xyXG4gICAgcmV0dXJuIGlmcmFtZVBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvLyBTZXRzIGRpdiB0byBibG9jayBpbnRlcmFjdGlvbiwgdG9wIGRpdiwgY29udGFpbmVyIGFuZCBhbnkgb3RoZXIgZWxlbWVudCB0aGF0IGlzIG5vdCB0aGUgbWFpbiBpZnJhbWVcclxuICBwcml2YXRlIHNldEV4dGVybmFsSFRNTEVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5jcmVhdGVJbnZpc2libGVEaXZUb3AoKTtcclxuICAgIHRoaXMuY3JlYXRlSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpO1xyXG5cclxuICAgIHRoaXMuc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpIHtcclxuICAgIHRoaXMuc2V0SWZyYW1lQ29udGFpbmVyQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5zZXRUb3BEaXZBdHRyaWJ1dGVzKCk7XHJcbiAgICB0aGlzLnNldERpdkJsb2NrSW50ZXJhY3Rpb25BdHRyaWJ1dGVzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUludmlzaWJsZURpdlRvcCgpIHtcclxuICAgIHRoaXMudG9wRGl2ID0gWW91dHViZUlmcmFtZS5nZXRJbnZpc2libGVUb3BEaXYoIHRoaXMgKTtcclxuICAgIHRoaXMudG9wRGl2LnN0eWxlLnpJbmRleCA9ICc5OTAnO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiA9IFlvdXR1YmVJZnJhbWUuZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggdGhpcyApO1xyXG5cclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuZGlzcGxheSA9IHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS56SW5kZXggPSAnOTk1JztcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICggZXZ0ICkgPT4ge1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmNsaWNraW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmludGVyYWN0aW9uYmxvY2tlZCcsIHRoaXMsIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0RGl2QmxvY2tJbnRlcmFjdGlvbkF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLmRpdkJsb2NrSW50ZXJhY3Rpb24gKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5kaXZCbG9ja0ludGVyYWN0aW9uLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldElmcmFtZUNvbnRhaW5lckF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLl9pZnJhbWVDb250YWluZXIgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5faWZyYW1lQ29udGFpbmVyLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRvcERpdkF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLnRvcERpdiApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLnRvcERpdiwgdGhpcy5fdmlkZW9JbmZvQXR0cmlidXRlTGlzdCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBibG9ja0ludGVyYWN0aW9uKCB2YWw6IGJvb2xlYW4gKSB7XHJcbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gdmFsO1xyXG5cclxuICAgIGlmICggdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApIHtcclxuICAgICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaW5pdFBsYXllcigpIHtcclxuICAgIHRoaXMucGxheWVyID0gbmV3IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyKCB0aGlzLmlkLCB7XHJcbiAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9JZCxcclxuICAgICAgd2lkdGg6IHRoaXMuZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0LFxyXG4gICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgJ3JlbCc6IDAsICAgICAgICAgICAgLy8gRGVzYXRpdmEgdsOtZGVvcyByZWxhY2lvbmFkb3NcclxuICAgICAgICAnaXZfbG9hZF9wb2xpY3knOiAzLCAvLyBEZXNhdGl2YSBzdWdlc3TDtWVzIGRlIHbDrWRlb3MgZHVyYW50ZSBhIHBhdXNhXHJcbiAgICAgICAgJ3Nob3dpbmZvJzogMCwgICAgICAgLy8gUmVtb3ZlIGluZm9ybWHDp8O1ZXMgZG8gdsOtZGVvICh0w610dWxvLCBldGMuKVxyXG4gICAgICAgICdjb250cm9scyc6IDAsICAgICAgIC8vIFJlbW92ZSBvcyBjb250cm9sZXMgZG8gcGxheWVyXHJcbiAgICAgICAgJ2F1dG9wbGF5JzogMCAgICAgICAgLy8gRGVzYXRpdmEgYSByZXByb2R1w6fDo28gYXV0b23DoXRpY2FcclxuICAgICAgfSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgJ29uUmVhZHknOiB0aGlzLm9uUGxheWVyUmVhZHkuYmluZCggdGhpcyApLFxyXG4gICAgICAgICdvblN0YXRlQ2hhbmdlJzogdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlLmJpbmQoIHRoaXMgKVxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc3RhdGljIF95b3V0dWJlQVBJUmVmZXJlbmNlOiBhbnk7XHJcblxyXG4gIHByaXZhdGUgZ2V0IF92aWRlb0luZm9BdHRyaWJ1dGVMaXN0KCk6IFtzdHJpbmcsIHN0cmluZ11bXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBbJ3l0LWlmcmFtZS1pZCcsIHRoaXMuaWRdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby1uYW1lJywgdGhpcy52aWRlb05hbWVdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby1jaGFubmVsLW5hbWUnLCB0aGlzLmNoYW5uZWxOYW1lXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tdGh1bWItdXJsJywgdGhpcy52aWRlb1RodW1iXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tY2hhbm5lbC11cmwnLCB0aGlzLmNoYW5uZWxVUkxdXHJcbiAgICBdXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgYnVpbGRTaW5nbGVJZnJhbWUoIHlvdXR1YmVJZnJhbWU6IFlvdXR1YmVJZnJhbWUgKSB7XHJcbiAgICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3l0SWZyYW1lQVBJU2NyaXB0VGFnJyApICkge1xyXG4gICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTtcclxuICAgICAgdGFnLmlkID0gJ3l0SWZyYW1lQVBJU2NyaXB0VGFnJztcclxuXHJcbiAgICAgIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIjtcclxuICAgICAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbMF07XHJcbiAgICAgIGlmICggZmlyc3RTY3JpcHRUYWcgJiYgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZSApIHtcclxuICAgICAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggdGFnLCBmaXJzdFNjcmlwdFRhZyApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBhd2FpdCB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCAnI3l0SWZyYW1lQVBJU2NyaXB0VGFnJyApO1xyXG5cclxuICAgIGF3YWl0IHBvbGxGb3JWYXJpYWJsZUFzeW5jPGFueT4oICdZVCcsXHJcbiAgICAgICggdmFsdWU6IGFueSApID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlLlBsYXllciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZVxyXG4gICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuUGxheWVyXHJcbiAgICAgICAgICAmJiB2YWx1ZS5sb2FkZWQ7XHJcbiAgICAgIH0sXHJcbiAgICAgICggdmFsdWUgKSA9PiB7XHJcbiAgICAgICAgWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZSA9IHZhbHVlO1xyXG4gICAgICAgIHlvdXR1YmVJZnJhbWUuYnVpbGQoKTtcclxuICAgICAgfSApO1xyXG5cclxuICAgIHJldHVybiB5b3V0dWJlSWZyYW1lO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGJ1aWxkSWZyYW1lcygpIHtcclxuICAgIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAneXRJZnJhbWVBUElTY3JpcHRUYWcnICkgKSB7XHJcbiAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc2NyaXB0JyApO1xyXG4gICAgICB0YWcuaWQgPSAneXRJZnJhbWVBUElTY3JpcHRUYWcnO1xyXG5cclxuICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gICAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ3NjcmlwdCcgKVswXTtcclxuICAgICAgaWYgKCBmaXJzdFNjcmlwdFRhZyAmJiBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlICkge1xyXG4gICAgICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0YWcsIGZpcnN0U2NyaXB0VGFnICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCAnI3l0SWZyYW1lQVBJU2NyaXB0VGFnJyApLnRoZW4oICgpID0+IHtcclxuICAgICAgcG9sbEZvclZhcmlhYmxlPGFueT4oICdZVCcsXHJcbiAgICAgICAgKCB2YWx1ZTogYW55ICkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5QbGF5ZXIgPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZVxyXG4gICAgICAgICAgICAmJiB2YWx1ZS5QbGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID09PSB2YWx1ZS5QbGF5ZXJcclxuICAgICAgICAgICAgJiYgdmFsdWUubG9hZGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKCB2YWx1ZSApID0+IHtcclxuICAgICAgICAgIFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgIFlvdXR1YmVJZnJhbWUuc2V0WW91dHViZUlmcmFtZUVsZW1lbnRzKCk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGJ1aWxkKCkge1xyXG4gICAgdGhpcy5zZXRFeHRlcm5hbEhUTUxFbGVtZW50cygpO1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0WW91dHViZUlmcmFtZUVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmZvckVhY2goICggdmFsLCBrZXkgKSA9PiB7XHJcbiAgICAgIGlmICggIXZhbC5pc1BsYXllclJlYWR5ICkge1xyXG4gICAgICAgIHZhbC5idWlsZCgpO1xyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW52aXNpYmxlVG9wRGl2KCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZVRvcERpdkhvbGRUb0RyYWckeyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgKiAwLjIgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcblxyXG4gIHN0YXRpYyBnZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBlbGVtZW50SW52aXNpYmxlRGl2ID0gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24keyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIGVsZW1lbnRJbnZpc2libGVEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWRpdi1ibG9jay1pbnRlcmFjdGlvbicgKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudEludmlzaWJsZURpdjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIsIFlvdXR1YmVJZnJhbWVTeW5jIH07IiwiaW1wb3J0IHsgWW91dHViZUlmcmFtZSwgWW91dHViZUlmcmFtZU9wdGlvbnMgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWUnO1xyXG5pbXBvcnQgeyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkgfSBmcm9tICcuL1R5cGVzJztcclxuaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFlvdXR1YmVJZnJhbWVTd2l0Y2hlck9wdGlvbnMge1xyXG4gIHN3aXRjaEJldHdlZW46IFlvdXR1YmVJZnJhbWVbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFlvdXR1YmVJZnJhbWVTd2l0Y2hlciBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIgaW1wbGVtZW50cyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkge1xyXG4gIHB1YmxpYyBzd2l0Y2hCZXR3ZWVuOiBZb3V0dWJlSWZyYW1lW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBpZnJhbWVPcHRpb25zOiBZb3V0dWJlSWZyYW1lU3dpdGNoZXJPcHRpb25zICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLnN3aXRjaEJldHdlZW4gPSBpZnJhbWVPcHRpb25zLnN3aXRjaEJldHdlZW47XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5hcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeS5wdXNoKCB0aGlzICk7XHJcbiAgfVxyXG5cclxuICAvLy8gQ2FsbGVkIG9uY2Ugd2hlbiB7IGNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKSB9IGZyb20gWW91dHViZUlmcmFtZSBkZXRlY3RzIHRoYXQgZXZlcnkgaWZyYW1lIGlzIHJlYWR5XHJcbiAgc2V0dXAoIF9kaWN0RXZlcnlJZnJhbWU6IE1hcDxzdHJpbmcsIFlvdXR1YmVJZnJhbWU+ICk6IHZvaWQge1xyXG4gICAgdGhpcy5zd2l0Y2hCZXR3ZWVuLmZvckVhY2goICggaWZyYW1lVG9QbGF5ICkgPT4gaWZyYW1lVG9QbGF5LmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXknLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlmcmFtZXNUb1BhdXNlID0gdGhpcy5zd2l0Y2hCZXR3ZWVuLmZpbHRlciggcyA9PiBzLmlkICE9PSBpZnJhbWVUb1BsYXkuaWQgKTtcclxuXHJcbiAgICAgIGlmcmFtZXNUb1BhdXNlLmZvckVhY2goIGkgPT4gaS5wYXVzZSgpICk7XHJcblxyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmFsdGVybmF0ZScsIHRoaXMsIGlmcmFtZVRvUGxheSwgaWZyYW1lc1RvUGF1c2UgKTtcclxuICAgICAgaWZyYW1lVG9QbGF5LmNhbGxFdmVudHNCeU5hbWUoICdvbmFsdGVybmF0ZScsIHRoaXMsIGlmcmFtZVRvUGxheSwgaWZyYW1lc1RvUGF1c2UgKTtcclxuICAgIH0gKSApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgWW91dHViZUlmcmFtZSB9OyIsImltcG9ydCB7IFlvdXR1YmVJZnJhbWUsIFlvdXR1YmVJZnJhbWVPcHRpb25zIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lJztcclxuaW1wb3J0IHsgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IH0gZnJvbSAnLi9UeXBlcyc7XHJcbmltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBZb3V0dWJlSWZyYW1lU3luY09wdGlvbnMgZXh0ZW5kcyBZb3V0dWJlSWZyYW1lT3B0aW9ucyB7XHJcbiAgbWFpbklmcmFtZTogWW91dHViZUlmcmFtZTtcclxuICBzdWJJZnJhbWVzOiBZb3V0dWJlSWZyYW1lIHwgWW91dHViZUlmcmFtZVtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUlmcmFtZVN5bmMgZXh0ZW5kcyBPYmplY3RFdmVudExpc3RlbmVyIGltcGxlbWVudHMgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IHtcclxuICAvLy8gV2hlbiBjaGFuZ2UgdHJpZ2dlciB0aGUgZXZlbnRzIG9mIGFsbCBzdWItaWZyYW1lcyBhbmQgY2hhbmdlIHRoZW0gYWxsXHJcbiAgcHVibGljIHJlYWRvbmx5IG1haW5JZnJhbWU6IFlvdXR1YmVJZnJhbWU7XHJcblxyXG4gIC8vLyBXaGVuIG9uZSBzdWItaWZyYW1lIGNoYW5nZSBpdCBjaGFuZ2VzIHRoZSBzdGF0ZSBvbmx5IG9mIG1haW5JZnJhbWUsIGJ1dCAgYWxsIG90aGVycyBzdWItaWZyYW1lcyB3aWxsIG5vdCBzeW5jXHJcbiAgcHVibGljIHJlYWRvbmx5IHN1YklmcmFtZXM6IFlvdXR1YmVJZnJhbWVbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoIGlmcmFtZU9wdGlvbnM6IFlvdXR1YmVJZnJhbWVTeW5jT3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5tYWluSWZyYW1lID0gaWZyYW1lT3B0aW9ucy5tYWluSWZyYW1lO1xyXG4gICAgdGhpcy5zdWJJZnJhbWVzID0gQXJyYXkuaXNBcnJheSggaWZyYW1lT3B0aW9ucy5zdWJJZnJhbWVzICkgPyBpZnJhbWVPcHRpb25zLnN1YklmcmFtZXMgOiBbaWZyYW1lT3B0aW9ucy5zdWJJZnJhbWVzXTtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5LnB1c2goIHRoaXMgKTtcclxuICB9XHJcblxyXG4gIC8vLyBDYWxsZWQgb25jZSB3aGVuIHsgY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSgpIH0gZnJvbSBZb3V0dWJlSWZyYW1lIGRldGVjdHMgdGhhdCBldmVyeSBpZnJhbWUgaXMgcmVhZHlcclxuICBzZXR1cCggX2RpY3RFdmVyeUlmcmFtZTogTWFwPHN0cmluZywgWW91dHViZUlmcmFtZT4gKTogdm9pZCB7XHJcbiAgICB0aGlzLnN5bmNTdWJJZnJhbWVzKCk7XHJcbiAgICB0aGlzLnN5bmNFdmVudHNXaXRoTWFpbklmcmFtZSgpO1xyXG4gIH1cclxuXHJcbiAgc3luY1N1YklmcmFtZXMoKSB7XHJcbiAgICB0aGlzLnN1YklmcmFtZXMuZm9yRWFjaCggc3ViSWZyYW1lID0+IHtcclxuICAgICAgc3ViSWZyYW1lLnNlZWsoIHRoaXMubWFpbklmcmFtZS5zdGFydHNBdCwgdHJ1ZSApO1xyXG4gICAgICBzdWJJZnJhbWUucGF1c2UoKTtcclxuXHJcbiAgICAgIHN1YklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5ZXJzdGF0ZWNoYW5nZScsICgpID0+IHtcclxuICAgICAgICBzdWJJZnJhbWUuc2VlayggdGhpcy5tYWluSWZyYW1lLnBsYXllckN1cnJlbnRUaW1lLCB0cnVlICk7XHJcbiAgICAgICAgaWYgKCB0aGlzLm1haW5JZnJhbWUuaXNQbGF5aW5nICkge1xyXG4gICAgICAgICAgc3ViSWZyYW1lLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdWJJZnJhbWUucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG5cclxuICAgICAgc3ViSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXknLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluSWZyYW1lLnBsYXkoKTtcclxuICAgICAgICBzdWJJZnJhbWUuY2FsbEV2ZW50c0J5TmFtZSggJ29uc3luYycsIHN1YklmcmFtZSwgdGhpcy5tYWluSWZyYW1lLCAncGxheScsIHRoaXMuc3ViSWZyYW1lcyApO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICBzdWJJZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluSWZyYW1lLnBhdXNlKCk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCBzdWJJZnJhbWUsIHRoaXMubWFpbklmcmFtZSwgJ3BsYXknLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgc3luY0V2ZW50c1dpdGhNYWluSWZyYW1lKCkge1xyXG4gICAgdGhpcy5tYWluSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXllcnN0YXRlY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnN1YklmcmFtZXMuZm9yRWFjaCggc3ViSWZyYW1lID0+IHtcclxuICAgICAgICBzdWJJZnJhbWUuc2VlayggdGhpcy5tYWluSWZyYW1lLnBsYXllckN1cnJlbnRUaW1lLCB0cnVlICk7XHJcbiAgICAgICAgaWYgKCB0aGlzLm1haW5JZnJhbWUuaXNQbGF5aW5nICkge1xyXG4gICAgICAgICAgc3ViSWZyYW1lLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzdWJJZnJhbWUucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubWFpbklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5JywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnN1YklmcmFtZXMuZm9yRWFjaCggc3ViSWZyYW1lID0+IHtcclxuICAgICAgICBzdWJJZnJhbWUuc2VlayggdGhpcy5tYWluSWZyYW1lLnBsYXllckN1cnJlbnRUaW1lLCB0cnVlICk7XHJcbiAgICAgICAgc3ViSWZyYW1lLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIHN1YklmcmFtZS5jYWxsRXZlbnRzQnlOYW1lKCAnb25zeW5jJywgdGhpcy5tYWluSWZyYW1lLCBzdWJJZnJhbWUsICdwbGF5JywgdGhpcy5zdWJJZnJhbWVzICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm1haW5JZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc3ViSWZyYW1lcy5mb3JFYWNoKCBzdWJJZnJhbWUgPT4ge1xyXG4gICAgICAgIHN1YklmcmFtZS5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCB0aGlzLm1haW5JZnJhbWUsIHN1YklmcmFtZSwgJ3BhdXNlJywgdGhpcy5zdWJJZnJhbWVzICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm1haW5JZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29uc2VlaycsICggc2Vla1RpbWU6IG51bWJlciwgcmVsb2FkQnVmZmVyOiBib29sZWFuLCBjb25zaWRlclN0YXJ0c0F0OiBib29sZWFuICkgPT4ge1xyXG4gICAgICB0aGlzLnN1YklmcmFtZXMuZm9yRWFjaCggc3ViSWZyYW1lID0+IHtcclxuICAgICAgICBzZWVrVGltZSArPSBjb25zaWRlclN0YXJ0c0F0ID8gdGhpcy5tYWluSWZyYW1lLnN0YXJ0c0F0IDogMDtcclxuXHJcbiAgICAgICAgc3ViSWZyYW1lLnNlZWsoIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIgKTtcclxuICAgICAgICBzdWJJZnJhbWUuY2FsbEV2ZW50c0J5TmFtZSggJ29uc3luYycsIHRoaXMubWFpbklmcmFtZSwgc3ViSWZyYW1lLCAnc2VlaycsIHRoaXMuc3ViSWZyYW1lcyApO1xyXG4gICAgICB9ICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lIH07IiwiaW1wb3J0IHsgY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMgfSBmcm9tICcuLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IFBvaW50MkQgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBNb3ZhYmxlRWxlbWVudCwgTW92YWJsZU9wdGlvbnMgfSBmcm9tICcuL01vdmFibGVFbGVtZW50JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudERyYWdnaW5nU3RhdGUge1xyXG4gIHBvaW50ZXJJZD86IG51bWJlcjtcclxuICBkcmFnZ2luZzogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIE9uRHJvcEV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IERyYWdnYWJsZUVsZW1lbnQgKSA9PiB2b2lkICk7XHJcbmV4cG9ydCB0eXBlIE9uR3JhYkV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IERyYWdnYWJsZUVsZW1lbnQgKSA9PiB2b2lkICk7XHJcblxyXG5leHBvcnQgdHlwZSBEcmFnZ2FibGVPcHRpb25zID0ge1xyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIG9uRHJvcD86IE9uRHJvcEV2ZW50O1xyXG4gIG9uRHJhZz86IE9uR3JhYkV2ZW50O1xyXG4gIGFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEcmFnZ2FibGVFbGVtZW50IGV4dGVuZHMgTW92YWJsZUVsZW1lbnQge1xyXG4gIHB1YmxpYyBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBkcmFnZ2luZ1N0YXRlOiBFbGVtZW50RHJhZ2dpbmdTdGF0ZTtcclxuXHJcbiAgcHVibGljIGxhc3RTdGFydFBvaW50PzogUG9pbnQyRDtcclxuICBwdWJsaWMgb25Ecm9wPzogT25Ecm9wRXZlbnQ7XHJcbiAgcHVibGljIG9uRHJhZz86IE9uR3JhYkV2ZW50O1xyXG5cclxuICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IERyYWdnYWJsZU9wdGlvbnMgJiBNb3ZhYmxlT3B0aW9ucyApIHtcclxuICAgIGlmICggIW9wdGlvbnMuZWxlbWVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIk51bGwgZHJhZ2dhYmxlIGVsZW1lbnQuIFBsZWFzZSBwYXNzIGEgdmFsaWQgZWxlbWVudCBpbiBjb25zdHJ1Y3Rvci5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5hbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQgPSBvcHRpb25zLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCA/IG9wdGlvbnMuYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50IDogdHJ1ZTtcclxuXHJcbiAgICB0aGlzLmRyYWdnaW5nU3RhdGUgPSB7XHJcbiAgICAgIGRyYWdnaW5nOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vbkRyYWcgPSBvcHRpb25zLm9uRHJhZztcclxuICAgIHRoaXMub25Ecm9wID0gb3B0aW9ucy5vbkRyb3A7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIHRoaXMuc3RhcnQuYmluZCggdGhpcyApICk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIHRoaXMuZW5kLmJpbmQoIHRoaXMgKSApO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyY2FuY2VsJywgdGhpcy5lbmQuYmluZCggdGhpcyApICk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlLmJpbmQoIHRoaXMgKSApXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoc3RhcnQnLCAoIGUgKSA9PiBlLnByZXZlbnREZWZhdWx0KCkgKTtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnZHJhZ3N0YXJ0JywgKCBlICkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpICk7XHJcblxyXG4gICAgdGhpcy5pbnRlcnZhbFVwZGF0ZVBvc2l0aW9uID0gc2V0SW50ZXJ2YWwoIHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCggdGhpcyApLCAxMDAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBlbmFibGVkKCB2YWx1ZTogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHNldCBkcmFnZ2luZyggdmFsOiBib29sZWFuICkge1xyXG4gICAgaWYgKCAhdGhpcy5lbmFibGVkICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZ1N0YXRlLmRyYWdnaW5nID0gdmFsO1xyXG5cclxuICAgIGlmICggdGhpcy5kcmFnZ2luZyApIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoIFwiZHJhZ2dpbmdcIiApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIFwiZHJhZ2dpbmdcIiApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGRyYWdnaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2luZztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhcnQoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzTW91c2VFdmVudCA9IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudDtcclxuICAgIGNvbnN0IGlzTGVmdEJ1dHRvbiA9IGlzTW91c2VFdmVudCAmJiBldmVudC5idXR0b24gPT09IDA7XHJcbiAgICBjb25zdCBpc1BvaW50ZXJFdmVudCA9IGV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50O1xyXG5cclxuICAgIGlmICggaXNNb3VzZUV2ZW50ICYmICFpc0xlZnRCdXR0b24gKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoICF0aGlzLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCApIHtcclxuICAgICAgY29uc3QgaXNDb3JyZWN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQ7XHJcbiAgICAgIGlmICggIWlzQ29ycmVjdFRhcmdldCApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbkRyYWcnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkRyYWcgKSB7XHJcbiAgICAgIHRoaXMub25EcmFnKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gZm9yIG5lc3RlZCBkcmFnZ2FibGVzXHJcblxyXG4gICAgbGV0IHsgeCwgeSB9ID0gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50ICk7XHJcblxyXG4gICAgdGhpcy5sYXN0U3RhcnRQb2ludCA9IHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhID0geyBkeDogdGhpcy5tb3ZpbmdTdGF0ZS5wb3MueCAtIHgsIGR5OiB0aGlzLm1vdmluZ1N0YXRlLnBvcy55IC0geSB9O1xyXG5cclxuICAgIGlmICggaXNQb2ludGVyRXZlbnQgKSB7XHJcbiAgICAgIHRoaXMuZHJhZ2dpbmdTdGF0ZS5wb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7IC8vIGtlZXAgdHJhY2sgb2YgZmluZ2VyXHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZSggZXZlbnQucG9pbnRlcklkICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7IC8vIGlmIHRoZXJlJ3MgdGV4dFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlbmQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnJzsgLy8gaWYgdGhlcmUncyB0ZXh0XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25Ecm9wJywgdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMub25Ecm9wICkge1xyXG4gICAgICB0aGlzLm9uRHJvcCggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgdXBkYXRlUG9zaXRpb24oKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuZHJhZ2dpbmcgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlci51cGRhdGVQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG1vdmUoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzUG9pbnRlckV2ZW50ID0gZXZlbnQgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQ7XHJcblxyXG4gICAgaWYgKCAhdGhpcy5kcmFnZ2luZyApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMuYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50ICkge1xyXG4gICAgICBjb25zdCBpc0NvcnJlY3RUYXJnZXQgPSBldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudCB8fCAoIGlzUG9pbnRlckV2ZW50ICYmIHRoaXMuZHJhZ2dpbmdTdGF0ZS5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCApO1xyXG4gICAgICBpZiAoICFpc0NvcnJlY3RUYXJnZXQgKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGZvciBuZXN0ZWQgZHJhZ2dhYmxlc1xyXG5cclxuICAgIGxldCB7IHgsIHkgfSA9IGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzKCBldmVudCApO1xyXG5cclxuICAgIHN1cGVyLm1vdmVUb1Bvc2l0aW9uKCB4LCB5ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIG1ha2VFbGVtZW50RHJhZ2dhYmxlKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBEcmFnZ2FibGVFbGVtZW50IHtcclxuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlRWxlbWVudCggeyBlbGVtZW50IH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgbWFrZUVsZW1lbnREcmFnZ2FibGVCeVF1ZXJ5U2VsZWN0b3IoIHF1ZXJ5U2VsZWN0b3I6IHN0cmluZyApOiBEcmFnZ2FibGVFbGVtZW50IHwgbnVsbCB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggcXVlcnlTZWxlY3RvciApO1xyXG5cclxuICAgIGlmICggIWVsZW1lbnQgKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlRWxlbWVudCggeyBlbGVtZW50OiBlbGVtZW50IGFzIEhUTUxFbGVtZW50IH0gKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcbmltcG9ydCB7IGdldERpc3RhbmNlRnJvbUJvcmRlciwgZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQsIHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSB9IGZyb20gJy4uL1Rvb2xzL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgUG9pbnQyRCB9IGZyb20gJy4uL1Rvb2xzL01hdGhUb29scyc7XHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudE1vdmluZ1N0YXRlIHtcclxuICBwb3M6IFBvaW50MkQ7XHJcbiAgZGVsdGE6IHtcclxuICAgIGR4OiBudW1iZXIsXHJcbiAgICBkeTogbnVtYmVyXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTW92YWJsZU9wdGlvbnMgPSB7XHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgb25CZWZvcmVNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcbiAgb25BZnRlck1vdmU/OiBPbk1vdmVFdmVudDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIE9uTW92ZUV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IE1vdmFibGVFbGVtZW50ICkgPT4gdm9pZCApO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmFibGVFbGVtZW50IGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciB7XHJcbiAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHByb3RlY3RlZCBtb3ZpbmdTdGF0ZTogRWxlbWVudE1vdmluZ1N0YXRlO1xyXG4gIHB1YmxpYyBpbnRlcnZhbFVwZGF0ZVBvc2l0aW9uOiBOb2RlSlMuVGltZW91dDtcclxuICBwdWJsaWMgb25CZWZvcmVNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcbiAgcHVibGljIG9uQWZ0ZXJNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBNb3ZhYmxlT3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgaWYgKCAhb3B0aW9ucy5lbGVtZW50ICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiTnVsbCBtb3ZhYmxlIGVsZW1lbnQuIFBsZWFzZSBwYXNzIGEgdmFsaWQgZWxlbWVudCBpbiBjb25zdHJ1Y3Rvci5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcclxuICAgIHRoaXMub25CZWZvcmVNb3ZlID0gb3B0aW9ucy5vbkJlZm9yZU1vdmU7XHJcbiAgICB0aGlzLm9uQWZ0ZXJNb3ZlID0gb3B0aW9ucy5vbkFmdGVyTW92ZTtcclxuXHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlID0ge1xyXG4gICAgICBwb3M6IHtcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IDBcclxuICAgICAgfSxcclxuICAgICAgZGVsdGE6IHtcclxuICAgICAgICBkeDogMCxcclxuICAgICAgICBkeTogMFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbiA9IHNldEludGVydmFsKCB0aGlzLnVwZGF0ZVBvc2l0aW9uLmJpbmQoIHRoaXMgKSwgMjAwICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCk6IFBvaW50MkQge1xyXG4gICAgcmV0dXJuIHRoaXMubW92aW5nU3RhdGUucG9zO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBwb3NpdGlvbiggbmV3UG9zOiBQb2ludDJEICkge1xyXG4gICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbiggbmV3UG9zLngsIG5ld1Bvcy55IClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgeCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubW92aW5nU3RhdGUucG9zLng7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IHgoIG5ld1g6IG51bWJlciApIHtcclxuICAgIHRoaXMubW92ZVRvUG9zaXRpb24oIG5ld1gsIHRoaXMueSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB5KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5tb3ZpbmdTdGF0ZS5wb3MueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgeSggbmV3WTogbnVtYmVyICkge1xyXG4gICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbiggdGhpcy54LCBuZXdZICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRyYW5zbGF0ZSggbmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbkJlZm9yZU1vdmUnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkJlZm9yZU1vdmUgKSB7XHJcbiAgICAgIHRoaXMub25CZWZvcmVNb3ZlKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2V0VHJhbnNsYXRlKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtICs9IGB0cmFuc2xhdGUoJHsgbmV3WCB9cHgsICR7IG5ld1kgfXB4KWA7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25BZnRlck1vdmUnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkFmdGVyTW92ZSApIHtcclxuICAgICAgdGhpcy5vbkFmdGVyTW92ZSggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRyYW5zbGF0ZUJ5UG9pbnQyRCggcG9pbnQ6IFBvaW50MkQgKSB7XHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZSggcG9pbnQueCwgcG9pbnQueSApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHVwZGF0ZVBvc2l0aW9uKCk6IHZvaWQge1xyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgPSBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggdGhpcy5lbGVtZW50ICk7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR4ID0gMDtcclxuICAgIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHkgPSAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNldFRyYW5zbGF0ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLnJlcGxhY2UoIHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSwgJycgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtb3ZlVG9Qb3NpdGlvbiggeDogbnVtYmVyLCB5OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLnBvcyA9IHsgeDogeCArIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHgsIHk6IHkgKyB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR5IH07XHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZUJ5UG9pbnQyRCggdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtb3ZlVG9Qb2ludDJEKCBwb2ludDogUG9pbnQyRCApOiB2b2lkIHtcclxuICAgIHRoaXMubW92aW5nU3RhdGUucG9zID0geyB4OiBwb2ludC54ICsgdGhpcy5tb3ZpbmdTdGF0ZS5kZWx0YS5keCwgeTogcG9pbnQueSArIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHkgfTtcclxuICAgIHRoaXMuc2V0VHJhbnNsYXRlQnlQb2ludDJEKCB0aGlzLm1vdmluZ1N0YXRlLnBvcyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdmVUb1RhcmdldEVsZW1lbnQoIHRhcmdldDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uID0gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIHRoaXMuZWxlbWVudCApO1xyXG4gICAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyID0gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCB0aGlzLmVsZW1lbnQsIHRhcmdldCApO1xyXG4gICAgY29uc3QgdGFyZ2V0UmlnaHRQb3NpdGlvbiA9IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbi54ICsgZGlzdGFuY2VGcm9tQm9yZGVyLnJpZ2h0O1xyXG4gICAgY29uc3QgdGFyZ2V0Qm90dG9tUG9zaXRpb24gPSBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24ueSArIGRpc3RhbmNlRnJvbUJvcmRlci5ib3R0b207XHJcblxyXG4gICAgdGhpcy5zZXRUcmFuc2xhdGVCeVBvaW50MkQoIHtcclxuICAgICAgeDogTWF0aC5yb3VuZCggdGFyZ2V0UmlnaHRQb3NpdGlvbiAtIHRhcmdldFJlY3Qud2lkdGggKSxcclxuICAgICAgeTogTWF0aC5yb3VuZCggdGFyZ2V0Qm90dG9tUG9zaXRpb24gLSB0YXJnZXRSZWN0LmhlaWdodCApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbW92ZVRvQ2VudGVyT2ZUYXJnZXRFbGVtZW50KCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IHZvaWQge1xyXG4gICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbiA9IGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50KCB0aGlzLmVsZW1lbnQgKTtcclxuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlciA9IGdldERpc3RhbmNlRnJvbUJvcmRlciggdGhpcy5lbGVtZW50LCB0YXJnZXQgKTtcclxuICAgIGNvbnN0IHRhcmdldFJpZ2h0UG9zaXRpb24gPSBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24ueCArIGRpc3RhbmNlRnJvbUJvcmRlci5yaWdodDtcclxuICAgIGNvbnN0IHRhcmdldEJvdHRvbVBvc2l0aW9uID0gZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uLnkgKyBkaXN0YW5jZUZyb21Cb3JkZXIuYm90dG9tO1xyXG5cclxuICAgIHRoaXMuc2V0VHJhbnNsYXRlQnlQb2ludDJEKCB7XHJcbiAgICAgIHg6IE1hdGgucm91bmQoIHRhcmdldFJpZ2h0UG9zaXRpb24gLSAoIHRhcmdldFJlY3Qud2lkdGggLyAyICkgKSxcclxuICAgICAgeTogTWF0aC5yb3VuZCggdGFyZ2V0Qm90dG9tUG9zaXRpb24gLSAoIHRhcmdldFJlY3QuaGVpZ2h0IC8gMiApIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgbWFrZUVsZW1lbnRNb3ZhYmxlKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBNb3ZhYmxlRWxlbWVudCB7XHJcbiAgICByZXR1cm4gbmV3IE1vdmFibGVFbGVtZW50KCB7IGVsZW1lbnQgfSApO1xyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgY2xhc3MgT2JqZWN0RXZlbnRMaXN0ZW5lciB7XHJcbiAgcHVibGljIGV2ZW50c0J5TmFtZTogTWFwPHN0cmluZywgRnVuY3Rpb25bXT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWU6IHN0cmluZywgZXZlbnQ6IEZ1bmN0aW9uICkge1xyXG4gICAgaWYgKCAhdGhpcy5ldmVudHNCeU5hbWUuaGFzKCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApICkge1xyXG4gICAgICB0aGlzLmV2ZW50c0J5TmFtZS5zZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBbZXZlbnRdICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmV2ZW50c0J5TmFtZS5nZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkhLnB1c2goIGV2ZW50ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0RXZlbnRzQnlOYW1lKCBldmVudE5hbWU6IHN0cmluZyApOiBGdW5jdGlvbltdIHtcclxuICAgIGlmICggIXRoaXMuZXZlbnRzQnlOYW1lLmhhcyggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSApIHtcclxuICAgICAgdGhpcy5ldmVudHNCeU5hbWUuc2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSwgW10gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ldmVudHNCeU5hbWUuZ2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApITtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgY2FsbEV2ZW50c0J5TmFtZSggZXZlbnROYW1lOiBzdHJpbmcsIC4uLmV2ZW50QXJnczogYW55W10gKTogdm9pZCB7XHJcbiAgICB0aGlzLmdldEV2ZW50c0J5TmFtZSggZXZlbnROYW1lICkuZm9yRWFjaCggZSA9PiBlKCAuLi5ldmVudEFyZ3MgKSApO1xyXG4gIH1cclxufSIsImltcG9ydCB7IERpbWVuc2lvbnMsIFBvaW50MkQsIGxlcnAsIHJlZ2V4TnVtYmVyUGF0dGVybiwgcm90YXRlQ29vcmRpbmF0ZXMsIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRvUGhvbmVOdW1iZXIgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIEJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi4vRXh0cmFzL0NvbGxpc2lvbkV2ZW50cy9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcbmV4cG9ydCBjb25zdCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0gPSAvdHJhbnNsYXRlXFwoW14pXSpcXCkvZztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSA9IC9yb3RhdGVcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUgPSAvcm90YXRlWFxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSA9IC9yb3RhdGVZXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWlZhbHVlID0gL3JvdGF0ZVpcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuXHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXl1cCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSggeyBrZXksIGtleWRvd246IGV2ZW50S2V5ZG93biwga2V5dXA6IGV2ZW50S2V5dXAsIGV4ZWN1dGVPbmx5T25jZSA9IHRydWUgfTogeyBrZXk6IHN0cmluZzsga2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBrZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjazsgZXhlY3V0ZU9ubHlPbmNlPzogYm9vbGVhbjsgfSApIHtcclxuICBpZiAoIGV4ZWN1dGVPbmx5T25jZSApIHtcclxuICAgIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleSwgZXZlbnRLZXlkb3duLCBldmVudEtleXVwICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2FmZVByb21pc2U8VD4gPSB7XHJcbiAgZGF0YTogKCkgPT4gVDtcclxuICBlcnJvcjogRXJyb3IgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHJvbWlzZTxUPiggcHJvbWlzZTogUHJvbWlzZTxUPiApOiBQcm9taXNlPFNhZmVQcm9taXNlPFQ+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwcm9taXNlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6ICgpID0+IGRhdGEsXHJcbiAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKCBlcnJvciApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoIFwiQ291bGRuJ3QgZmV0Y2gsIGNoZWNrIFNhZmVQcm9taXNlLmVycm9yIGZvciBkZXRhaWxzLlwiICk7IH0sXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoIFN0cmluZyggZXJyb3IgKSApXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3V0dWJlVXJsT3JJZCggaW5wdXQ6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCB1cmxQYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgY29uc3QgaWRQYXR0ZXJuID0gL15bYS16QS1aMC05Xy1dezExfSQvO1xyXG5cclxuICByZXR1cm4gdXJsUGF0dGVybi50ZXN0KCBpbnB1dCApIHx8IGlkUGF0dGVybi50ZXN0KCBpbnB1dCApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3VUdWJlVXJsKCB1cmw6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCBwYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCggdXJsICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0WW91VHViZUlkKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB8IG51bGwge1xyXG4gIGNvbnN0IHJlZ2V4ID0gL1s/Jl12PShbXj8mXSspLztcclxuICBjb25zdCBtYXRjaCA9IGlucHV0Lm1hdGNoKCByZWdleCApO1xyXG4gIGlmICggbWF0Y2ggJiYgbWF0Y2hbMV0gKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hbMV07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIElmIGRpcmVjdCB2aWRlbyBJRCBpcyBwcm92aWRlZFxyXG4gICAgcmV0dXJuIGlucHV0Lmxlbmd0aCA9PT0gMTEgPyBpbnB1dCA6IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0ckxpc3Q6IFtzdHJpbmcsIHN0cmluZ11bXSApIHtcclxuICBhdHRyTGlzdC5mb3JFYWNoKCAoIFtrZXksIHZhbF0gKSA9PiB7XHJcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgga2V5LCB2YWwgKTtcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RnJvbUhUTUwoIGh0bWw6IHN0cmluZywgdHJpbTogYm9vbGVhbiA9IHRydWUgKSB7XHJcbiAgaHRtbCA9IHRyaW0gPyBodG1sLnRyaW0oKSA6IGh0bWw7XHJcblxyXG4gIGlmICggIWh0bWwgKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RlbXBsYXRlJyApO1xyXG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUuY29udGVudC5jaGlsZHJlbjtcclxuXHJcbiAgaWYgKCByZXN1bHQubGVuZ3RoID09PSAxICkge1xyXG4gICAgcmV0dXJuIHJlc3VsdFswXSBhcyBIVE1MRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHJldHVybiBBcnJheS5mcm9tKCByZXN1bHQgKSBhcyBIVE1MRWxlbWVudFtdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnNCeUlkKCBlbGVtZW50SWQ6IHN0cmluZyApOiBEaW1lbnNpb25zIHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGVsZW1lbnRJZCApO1xyXG5cclxuICBpZiAoICFlbGVtZW50ICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgZWxlbWVudCBhdCBnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQgd2l0aCBpZDogXCIgKyBlbGVtZW50SWQgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBnZXRFbGVtZW50RGltZW5zaW9ucyggZWxlbWVudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERpbWVuc2lvbnMge1xyXG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERPTVJlY3Qge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IGNlbnRlclggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcclxuICBjb25zdCBjZW50ZXJZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XHJcblxyXG4gIC8vIFJvdGF0aW9uIGFuZ2xlIGluIGRlZ3JlZXMgKGV4dHJhY3RlZCBmcm9tIHN0eWxlLnRyYW5zZm9ybSBvciBhbnkgb3RoZXIgc291cmNlKVxyXG4gIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSBnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMoKTtcclxuXHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogcm90YXRpb25BbmdsZTtcclxuICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgY29uc3Qgc2luVGhldGEgPSBNYXRoLnNpbiggcmFkaWFucyApO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIHJvdGF0ZWQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkWDEgPSBjZW50ZXJYICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBjb3NUaGV0YSAtICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBzaW5UaGV0YTtcclxuICBjb25zdCByb3RhdGVkWTEgPSBjZW50ZXJZICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgY29uc3Qgcm90YXRlZFgyID0gY2VudGVyWCArICggcmVjdC5yaWdodCAtIGNlbnRlclggKSAqIGNvc1RoZXRhIC0gKCByZWN0LmJvdHRvbSAtIGNlbnRlclkgKSAqIHNpblRoZXRhO1xyXG4gIGNvbnN0IHJvdGF0ZWRZMiA9IGNlbnRlclkgKyAoIHJlY3QucmlnaHQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC5ib3R0b20gLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGxlZnQsIHRvcCwgYm90dG9tLCBhbmQgcmlnaHQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkTGVmdCA9IE1hdGgubWluKCByb3RhdGVkWDEsIHJvdGF0ZWRYMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRUb3AgPSBNYXRoLm1pbiggcm90YXRlZFkxLCByb3RhdGVkWTIgKTtcclxuICBjb25zdCByb3RhdGVkQm90dG9tID0gTWF0aC5tYXgoIHJvdGF0ZWRZMSwgcm90YXRlZFkyICk7XHJcbiAgY29uc3Qgcm90YXRlZFJpZ2h0ID0gTWF0aC5tYXgoIHJvdGF0ZWRYMSwgcm90YXRlZFgyICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4OiByb3RhdGVkTGVmdCxcclxuICAgIHk6IHJvdGF0ZWRUb3AsXHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICB0b0pTT046IHJlY3QudG9KU09OLFxyXG4gICAgbGVmdDogcm90YXRlZExlZnQsXHJcbiAgICB0b3A6IHJvdGF0ZWRUb3AsXHJcbiAgICBib3R0b206IHJvdGF0ZWRCb3R0b20sXHJcbiAgICByaWdodDogcm90YXRlZFJpZ2h0LFxyXG4gIH0gYXMgRE9NUmVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25jZSgga2V5OiBzdHJpbmcsIGV2ZW50S2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrLCBldmVudEtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrICkge1xyXG4gIGlmICggZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd24sIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5nZXQoIGtleSApIV0gKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25SZXBlYXQoIGtleTogc3RyaW5nLCBldmVudEtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjaywgZXZlbnRLZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjayApIHtcclxuICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0Lmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5zZXQoIGtleSwgW2V2ZW50S2V5ZG93biwgLi4uZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRWxlbWVudENvbGxpc2lvbiggZWxlbWVudDE6IEhUTUxFbGVtZW50LCBlbGVtZW50MjogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50MS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQxICk7XHJcbiAgY29uc3QgcmVjdDIgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQyICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9ICEoXHJcbiAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20gfHxcclxuICAgIHJlY3QxLnJpZ2h0IDwgcmVjdDIubGVmdCB8fFxyXG4gICAgcmVjdDEuYm90dG9tIDwgcmVjdDIudG9wIHx8XHJcbiAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHRcclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlPFQ+KCB2YXJpYWJsZU5hbWU6IHN0cmluZywgcmVhZHlDb25kaXRpb246ICggdmFsdWU6IFQgKSA9PiBib29sZWFuLCBjYWxsYmFjazogKCB2YWx1ZTogVCApID0+IHZvaWQgKSB7XHJcbiAgY29uc3QgcG9sbEludGVydmFsID0gMTAwO1xyXG4gIGNvbnN0IHBvbGwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgLy8gSWYgYm90aCBjb25kaXRpb25zIGFyZSBtZXQsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFuZCBzdG9wIHBvbGxpbmdcclxuICAgICAgY2xlYXJJbnRlcnZhbCggcG9sbCApO1xyXG4gICAgICBjYWxsYmFjayggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSApO1xyXG4gICAgfVxyXG4gIH0sIHBvbGxJbnRlcnZhbCApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlQXN5bmM8VD4oIHZhcmlhYmxlTmFtZTogc3RyaW5nLCByZWFkeUNvbmRpdGlvbjogKCB2YWx1ZTogVCApID0+IGJvb2xlYW4sIGNhbGxiYWNrOiAoIHZhbHVlOiBUICkgPT4gdm9pZCApOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCBwb2xsSW50ZXJ2YWwgPSAxMDA7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBwb2xsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgICAvLyBJZiBib3RoIGNvbmRpdGlvbnMgYXJlIG1ldCwgZXhlY3V0ZSB0aGUgY2FsbGJhY2ssIHN0b3AgcG9sbGluZywgYW5kIHJlc29sdmUgdGhlIHByb21pc2VcclxuICAgICAgICBjbGVhckludGVydmFsKCBwb2xsICk7XHJcbiAgICAgICAgY2FsbGJhY2soICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHBvbGxJbnRlcnZhbCApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoIHNlbGVjdG9yOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3Rvciggc2VsZWN0b3IgKSApIHtcclxuICAgICAgcmV0dXJuIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCBtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUoIGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG4vLy8gR2V0IHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSBvbiBtYXAgd2lsbCBzZXQgdGhlIGN1cnJlbnQgYXR0cmlidXRlIGFzIGRlZmF1bHRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSB3aWxsIHJldHVybiBhbiBlbXB0eSBzdHJpbmdcclxuZXhwb3J0IGNvbnN0IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgTWFwPHN0cmluZywgc3RyaW5nPj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldDogSFRNTEVsZW1lbnQsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGlmICggIW1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmhhcyggdGFyZ2V0ICkgKSB7XHJcbiAgICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5zZXQoIHRhcmdldCwgbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSApO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XHJcbiAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSA9IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhO1xyXG4gIGNvbnN0IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgPSAhZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZS5oYXMoIGF0dHJpYnV0ZU5hbWUgKSA/IHRhcmdldC5nZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUgKSA6IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuZ2V0KCBhdHRyaWJ1dGVOYW1lICkhO1xyXG5cclxuICByZXN1bHQgPSB0YXJnZXREZWZhdWx0QXR0cmlidXRlID8gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA6ICcnO1xyXG4gIHNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldCwgYXR0cmlidXRlTmFtZSwgcmVzdWx0ICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIG5ld0RlZmF1bHRBdHRyaWJ1dGU6IHN0cmluZyApOiB2b2lkIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhLnNldCggYXR0cmlidXRlTmFtZSwgbmV3RGVmYXVsdEF0dHJpYnV0ZSApO1xyXG59XHJcblxyXG4vLy8gRGl2aWRlIG8gZWxlbWVudG8gQHRhcmdldCBlbSA5IFwicXVhZHJhZG9zXCIgaWd1YWlzIGUgcmV0b3JuYSBlbSBxdWFpcyBxdWFkcmFkb3MgbyBkcmFnZ2FibGUgZXN0w6EgY29saWRpbmRvIGNvbSBvIHRhcmdldFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sbGlzaW9uRGlyZWN0aW9uKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IEJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGNlbnRlciA9IHtcclxuICAgIHg6IHJlY3QxLmxlZnQgKyByZWN0MS53aWR0aCAvIDIsXHJcbiAgICB5OiByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQgLyAyLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlcjogQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgICB0b3A6IGNlbnRlci55IC0gcmVjdDIudG9wLFxyXG4gICAgcmlnaHQ6IHJlY3QyLnJpZ2h0IC0gY2VudGVyLngsXHJcbiAgICBib3R0b206IHJlY3QyLmJvdHRvbSAtIGNlbnRlci55LFxyXG4gICAgbGVmdDogY2VudGVyLnggLSByZWN0Mi5sZWZ0LFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBkaXN0YW5jZUZyb21Cb3JkZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBldnQgPT4ge1xyXG4gIGlmICggIWV2dC5yZXBlYXQgKSB7XHJcbiAgICBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQgKTtcclxuICB9XHJcblxyXG4gIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQgKTtcclxufSApO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGV2dCA9PiB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5dXAgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXhpczogJ3gnIHwgJ3knIHwgJ3onID0gJ3gnICk6IG51bWJlciB7XHJcbiAgbGV0IHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZTogUmVnRXhwO1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0Y2ggPSByZWdleE1hdGNoUm90YXRlVmFsdWUuZXhlYyggZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk6IG51bWJlciB7XHJcbiAgY29uc3QgbWF0Y2ggPSBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKS5leGVjKCBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSApO1xyXG4gIGlmICggbWF0Y2ggKSB7XHJcbiAgICBjb25zdCByb3RhdGlvblZhbHVlID0gcGFyc2VGbG9hdCggbWF0Y2hbMV0gKTtcclxuICAgIHJldHVybiByb3RhdGlvblZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKSB7XHJcbiAgcmV0dXJuIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggZ2V0Qm9keVJvdGF0aW9uQXhpcygpIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggYXhpczogJ3gnIHwgJ3knIHwgJ3onICkge1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkF4aXMoKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICByZXR1cm4gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZG9jdW1lbnQuYm9keSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICBjb25zdCBlbGVtZW50VHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0udG9Mb3dlckNhc2UoKTtcclxuICBpZiAoIGVsZW1lbnRUcmFuc2Zvcm0uaW5jbHVkZXMoICd4JyApICkge1xyXG4gICAgcmV0dXJuICd4JztcclxuICB9IGVsc2UgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneScgKSApIHtcclxuICAgIHJldHVybiAneSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAneic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlID0gKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApLnRyYW5zZm9ybS5tYXRjaCggcmVnZXhOdW1iZXJQYXR0ZXJuICkgPz8gWzAsIDBdICkubWFwKCBuID0+ICtuICk7XHJcblxyXG4gIGxldCByZXN1bHQgPSB7XHJcbiAgICB4OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs0XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gKSA6IDAsXHJcbiAgICB5OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs1XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gKSA6IDBcclxuICB9XHJcblxyXG4gIGlmICggY2hlY2tCb2R5Um90YXRpb24gKSB7XHJcbiAgICBjb25zdCBib2R5QW5nbGUgPSBnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMoIGRvY3VtZW50LmJvZHksIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQgKSApIHx8IDA7XHJcbiAgICByZXR1cm4gcm90YXRlQ29vcmRpbmF0ZXMoIHJlc3VsdC54LCByZXN1bHQueSwgYm9keUFuZ2xlICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7IHBhcmVudEVsZW1lbnQsIGlkLCBwb3NpdGlvbiwgZGltZW5zaW9ucyB9OiB7IHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50OyBpZDogc3RyaW5nOyBwb3NpdGlvbj86IHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgfTsgZGltZW5zaW9ucz86IERpbWVuc2lvbnM7IH0gKSB7XHJcbiAgdmFyIGludmlzaWJsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gIGlmICggIXBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gKSB7XHJcbiAgICBwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICB9XHJcblxyXG4gIGludmlzaWJsZURpdi5pZCA9IGlkO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLndpZHRoID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLndpZHRoID8gZGltZW5zaW9ucy53aWR0aC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLmhlaWdodCA/IGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHgnIDogJzEwMCUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS50b3AgPSAoIHBvc2l0aW9uPy50b3AudG9TdHJpbmcoKSA/PyAnMCcgKSArICdweCc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmxlZnQgPSAoIHBvc2l0aW9uPy5sZWZ0LnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5vcGFjaXR5ID0gJzAnOyAvLyBNYWtlIHRoZSBkaXYgaW52aXNpYmxlXHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7IC8vIEFsbG93IHRoZSBkaXYgdG8gaW50ZXJjZXB0IG1vdXNlIGV2ZW50c1xyXG5cclxuICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBpbnZpc2libGVEaXYgKTtcclxuXHJcbiAgcmV0dXJuIGludmlzaWJsZURpdjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnaGlkZGVuJywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwQXN5bmMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiBzZXRUaW1lb3V0KCAoKSA9PiByZXNvbHZlKCksIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50c0J5Q2hlY2soIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCwgb25DaGVjazogRnVuY3Rpb24sIG9uVW5jaGVjazogRnVuY3Rpb24gKSB7XHJcbiAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdHJpZ2dlckdyb3VwID0gdHJpZ2dlckVsZW1lbnQubmFtZVxyXG4gICAgPyBBcnJheS5mcm9tKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBgW25hbWU9XCIkeyB0cmlnZ2VyRWxlbWVudC5uYW1lIH1cIl1gICkgKVxyXG4gICAgOiBbdHJpZ2dlckVsZW1lbnRdO1xyXG5cclxuICB0cmlnZ2VyR3JvdXAuZm9yRWFjaCggdCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoICdjaGFuZ2UnLCBldnQgPT4ge1xyXG4gICAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uVW5jaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9XHJcbiAgfSApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnB1dEZvcmNlUGhvbmVOdW1iZXJGb3JtYXQoIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCApIHtcclxuICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBob25lSW5wdXQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGNsZWFuUGhvbmVJbnB1dCA9IHBob25lSW5wdXQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG4gICAgaWYgKCBjbGVhblBob25lSW5wdXQubGVuZ3RoID4gMTEgKSB7XHJcbiAgICAgIHBob25lSW5wdXQgPSBjbGVhblBob25lSW5wdXQuc2xpY2UoIDAsIDExICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBob25lTnVtYmVyRm9ybWF0dGVkID0gdG9QaG9uZU51bWJlciggcGhvbmVJbnB1dCApO1xyXG5cclxuICAgIGlmICggcGhvbmVOdW1iZXJGb3JtYXR0ZWQubGVuZ3RoID09PSAxMCApIHtcclxuICAgICAgcGhvbmVOdW1iZXJGb3JtYXR0ZWQgPSBwaG9uZU51bWJlckZvcm1hdHRlZC5yZXBsYWNlQWxsKCAnLScsICcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHBob25lTnVtYmVyRm9ybWF0dGVkO1xyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZUJyb3dzZXIoKSB7XHJcbiAgcmV0dXJuIC9BbmRyb2lkfGlQaG9uZS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEZXZpY2VUeXBlKCk6ICdhbmRyb2lkJyB8ICdhcHBsZScgfCAnZGVza3RvcCcge1xyXG4gIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKCB3aW5kb3cgYXMgYW55ICkub3BlcmE7XHJcblxyXG4gIGlmICggL2FuZHJvaWQvaS50ZXN0KCB1c2VyQWdlbnQgKSApIHtcclxuICAgIHJldHVybiAnYW5kcm9pZCc7XHJcbiAgfSBlbHNlIGlmICggL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIHVzZXJBZ2VudCApICYmICEoIHdpbmRvdyBhcyBhbnkgKS5NU1N0cmVhbSApIHtcclxuICAgIHJldHVybiAnYXBwbGUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ2Rlc2t0b3AnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT25TY3JlZW4oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiAoXHJcbiAgICByZWN0LnRvcCA+PSAwICYmXHJcbiAgICByZWN0LmxlZnQgPj0gMCAmJlxyXG4gICAgcmVjdC5ib3R0b20gPD0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCApICYmXHJcbiAgICByZWN0LnJpZ2h0IDw9ICggd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIClcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRWaWV3SWZDaGVja2VkKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucyA9IHtcclxuICBvbkNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfSxcclxuICBvblVuY2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9XHJcbn0gKSB7XHJcbiAgYmluZEVsZW1lbnRzQnlDaGVjayhcclxuICAgIHRyaWdnZXJFbGVtZW50LFxyXG4gICAgdGFyZ2V0RWxlbWVudCxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vbkNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vblVuY2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZyb21SYWRpb0dyb3VwKCBncm91cE5hbWU6IHN0cmluZyApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggYFtuYW1lPSR7IGdyb3VwTmFtZSB9XTpjaGVja2VkYCApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgaWYgKCBlbCApIHtcclxuICAgIHJldHVybiBlbC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKCB0YXJnZXRZOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgY29uc3Qgc3RhcnRZID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gIGxldCBzdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzdGVwKCBjdXJyZW50VGltZTogbnVtYmVyICkge1xyXG4gICAgaWYgKCAhc3RhcnRUaW1lICkgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbiggZWxhcHNlZFRpbWUgLyBkdXJhdGlvbiwgMSApO1xyXG4gICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGxlcnAoIDAsIDEsIHByb2dyZXNzICk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIGxlcnAoIHN0YXJ0WSwgdGFyZ2V0WSwgZWFzZWRQcm9ncmVzcyApICk7XHJcbiAgICBpZiAoIGVsYXBzZWRUaW1lIDwgZHVyYXRpb24gKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzdGVwICk7XHJcbn1cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IHBvcyxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUb0VsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB1c2VCcm93c2VyRGVmYXVsdHM6IGJvb2xlYW4gPSB0cnVlICk6IHZvaWQge1xyXG4gIGlmICggIXVzZUJyb3dzZXJEZWZhdWx0cyApIHtcclxuICAgIGNvbnN0IHRhcmdldFkgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSAxMDAwOyAvLyBEdXJhw6fDo28gZml4YSBlbSBtaWxpc3NlZ3VuZG9zICgxIHNlZ3VuZG8pXHJcbiAgICBzbW9vdGhTY3JvbGwoIHRhcmdldFksIGR1cmF0aW9uICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSxcclxuICAgIGxlZnQ6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJleHBvcnQgY29uc3QgcmVnZXhOdW1iZXJQYXR0ZXJuID0gLy0/XFxkK1xcLj9cXGQqL2c7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50MkQge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9ucyB7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Sb3coIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBpbmRleCAvIGdyaWRXaWR0aCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb0NvbCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGluZGV4ICUgZ3JpZFdpZHRoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm93Q29sVG9JbmRleCggcm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCB3aWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiAoIHJvdyAqIHdpZHRoICkgKyBjb2w7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlc0Zyb21Qb2ludDJEKCBjb29yZHM6IFBvaW50MkQsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IGNvb3Jkcy54ICogTWF0aC5jb3MoIHJhZGlhbnMgKSAtIGNvb3Jkcy55ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0gY29vcmRzLnggKiBNYXRoLnNpbiggcmFkaWFucyApICsgY29vcmRzLnkgKiBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIHJldHVybiB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlcyggeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IHggKiBNYXRoLmNvcyggcmFkaWFucyApIC0geSAqIE1hdGguc2luKCByYWRpYW5zICk7XHJcbiAgY29uc3QgbmV3WSA9IHggKiBNYXRoLnNpbiggcmFkaWFucyApICsgeSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXJlRGlhZ29uYWxzKCBpbmRleDE6IG51bWJlciwgaW5kZXgyOiBudW1iZXIsIGdyaWRTaXplOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgaWYgKCBpbmRleDEgPCAwIHx8IGluZGV4MiA8IDAgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoICdJbnZhbGlkIGNlbGwgaW5kaWNlcycgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJvdzEgPSBpbmRleFRvUm93KCBpbmRleDEsIGdyaWRTaXplICk7XHJcbiAgY29uc3QgY29sMSA9IGluZGV4VG9Db2woIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuXHJcbiAgY29uc3Qgcm93MiA9IGluZGV4VG9Sb3coIGluZGV4MiwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wyID0gaW5kZXhUb0NvbCggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG5cclxuICByZXR1cm4gTWF0aC5hYnMoIHJvdzEgLSByb3cyICkgPT09IE1hdGguYWJzKCBjb2wxIC0gY29sMiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1BvaW50MkQoIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBpbmRleFRvQ29sKCBpbmRleCwgZ3JpZFdpZHRoICksXHJcbiAgICB5OiBpbmRleFRvUm93KCBpbmRleCwgZ3JpZFdpZHRoIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggMSAtIGFtb3VudCApICogbWluICsgYW1vdW50ICogbWF4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoIGE6IG51bWJlciwgYjogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIHZhbCAtIGEgKSAvICggYiAtIGEgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFwKCBpbk1pbjogbnVtYmVyLCBpbk1heDogbnVtYmVyLCBvdXRNaW46IG51bWJlciwgb3V0TWF4OiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIGxlcnAoIG91dE1pbiwgb3V0TWF4LCBpbnZlcnNlTGVycCggaW5NaW4sIGluTWF4LCB2YWwgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiApICsgbWluICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsU2V0czxUPiggc2V0MTogU2V0PFQ+LCBzZXQyOiBTZXQ8VD4gKSB7XHJcbiAgcmV0dXJuIHNldDEuc2l6ZSA9PT0gc2V0Mi5zaXplICYmXHJcbiAgICBbLi4uc2V0MV0uZXZlcnkoICggeCApID0+IHNldDIuaGFzKCB4ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEluY2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIG1pbiA9IE1hdGguY2VpbCggbWluICk7XHJcbiAgbWF4ID0gTWF0aC5mbG9vciggbWF4ICk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiArIDEgKSApICsgbWluO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRnJvbUFycmF5PFQ+KCBhcnI6IEFycmF5PFQ+ICkge1xyXG4gIHJldHVybiBhcnJbZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCBhcnIubGVuZ3RoICldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoIG51bTogbnVtYmVyID0gMCwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEwMCApOiBudW1iZXIge1xyXG4gIHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbnVtLCBtYXggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWludXRlc1RvTWlsbGlzZWNvbmRzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAqIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9NaW51dGVzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9Ib3VycyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyAzLjZlKzY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0RheXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gOC42NGUrNztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lZ2FieXRlVG9CeXRlKCBtYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBtYiAqIDEwMjQgKiAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVRvTWVnYWJ5dGUoIGI6IG51bWJlciApIHtcclxuICByZXR1cm4gYiAvIDEwMjQgLyAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlGcm9tUmFuZ2UoIHNpemU6IG51bWJlciwgc3RhcnRpbmdGcm9tOiBudW1iZXIgPSAwICk6IG51bWJlcltdIHtcclxuICBsZXQgcmVzdWx0ID0gWy4uLkFycmF5KCBzaXplICkua2V5cygpXVxyXG5cclxuICBpZiAoIHN0YXJ0aW5nRnJvbSAhPSAwICkge1xyXG4gICAgcmVzdWx0ID0gcmVzdWx0Lm1hcCggaSA9PiBpICsgc3RhcnRpbmdGcm9tICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNTEwMik7XG4iXSwibmFtZXMiOlsidGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQiLCJpZnJhbWVJZCIsInRyaW0iLCJjcmVhdGVEcmFnZ2FibGVZb3V0dWJlSWZyYW1lIiwidmlkZW9JZCIsInN0YXJ0c0F0IiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImlmcmFtZUNvbnRyb2xsZXIiLCJZb3V0dWJlSWZyYW1lIiwiZHJhZ2dhYmxlIiwiRHJhZ2dhYmxlRWxlbWVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImJvZHkiLCJhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQiLCJvbkRyb3AiLCJPYmplY3RFdmVudExpc3RlbmVyIiwic3RhdGljIiwiTWFwIiwicGxheWVyIiwiX2lzUGxheWVyUmVhZHkiLCJpZCIsIl92aWRlb0lkIiwidmlkZW9OYW1lIiwidmlkZW9UaHVtYiIsImNoYW5uZWxVUkwiLCJjaGFubmVsTmFtZSIsIl9pZnJhbWVFbGVtZW50IiwiX2lmcmFtZUNvbnRhaW5lciIsIl9pZnJhbWVQYXJlbnRFbGVtZW50IiwiX2lzUGxheWluZyIsIl9kaW1lbnNpb25zIiwidG9wRGl2IiwiX3N0YXJ0c0F0IiwiX2Jsb2NrSW50ZXJhY3Rpb24iLCJfZGl2QmxvY2tJbnRlcmFjdGlvbiIsIl9zdGFydE11dGVkIiwiX3BsYXlpbmdPYnNlcnZlckludGVydmFsIiwiX2V2ZW50TGlzdGVuZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJfZGljdFlvdXR1YmVJZnJhbWVCeUlkIiwiaGFzIiwiRXJyb3IiLCJzdXBlciIsInRoaXMiLCJzdGFydE11dGVkIiwiYmxvY2tJbnRlcmFjdGlvbiIsImdldFlvdXR1YmVJZnJhbWVFbGVtZW50Iiwic2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSIsImlmcmFtZUNvbnRhaW5lciIsInNldENsYXNzZXNJZnJhbWVQYXVzZWQiLCJkaW1lbnNpb25zIiwiZ2V0RWxlbWVudERpbWVuc2lvbnMiLCJzZXQiLCJzZXRWaWRlb0luZm8iLCJ0aGVuIiwic2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzIiwiZXh0cmFjdFlvdVR1YmVJZCIsImluZm8iLCJnZXRWaWRlb0luZm8iLCJ0aXRsZSIsImF1dGhvcl9uYW1lIiwidGh1bWJuYWlsX3VybCIsImF1dGhvcl91cmwiLCJjaGFuZ2VWaWRlbyIsImlzVmFsaWRZb3V0dWJlVXJsT3JJZCIsImxvYWRWaWRlb0J5SWQiLCJwcmVwYXJlT3B0aW9ucyIsInNlZWtUbyIsImlzUGxheWluZyIsInBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cyIsInBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMiLCJzZXRUaW1lb3V0IiwibG9hZFZpZGVvIiwicmVzcG9uc2UiLCJoYW5kbGVQcm9taXNlIiwiZmV0Y2giLCJ2aWRlb1VSTCIsImVycm9yIiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwib25QbGF5ZXJSZWFkeSIsImV2ZW50IiwibXV0ZSIsIl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeSIsInB1c2giLCJnZXRFbGVtZW50QnlJZCIsInNldFBsYXliYWNrUXVhbGl0eSIsInBhdXNlVmlkZW8iLCJjYWxsRXZlbnRzQnlOYW1lIiwiY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJfeW91dHViZUFQSVJlZmVyZW5jZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInNldEludGVydmFsIiwic2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmciLCJjbGVhckludGVydmFsIiwicmVtb3ZlIiwiYWRkIiwib25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSIsImRpdkJsb2NrSW50ZXJhY3Rpb24iLCJpZnJhbWVFbGVtZW50IiwiaXNQbGF5ZXJSZWFkeSIsImR1cmF0aW9uIiwiZ2V0RHVyYXRpb24iLCJwbGF5ZXJEdXJhdGlvbiIsImN1cnJlbnRUaW1lIiwidCIsInNlZWsiLCJnZXRDdXJyZW50VGltZSIsInBsYXllckN1cnJlbnRUaW1lIiwicHJvZ3Jlc3NQZXJjZW50IiwicGxheWVyUHJvZ3Jlc3NQZXJjZW50IiwiY2xhbXAiLCJ2YWwiLCJ0b2dnbGUiLCJwYXVzZSIsInBsYXkiLCJwbGF5VmlkZW8iLCJzZWVrVGltZSIsInJlbG9hZEJ1ZmZlciIsImNvbnNpZGVyU3RhcnRzQXQiLCJ1bm11dGUiLCJrZXlzIiwic29tZSIsInIiLCJpbmNsdWRlcyIsImFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5IiwiZm9yRWFjaCIsIm8iLCJzZXR1cCIsImtleSIsImNvbnRhaW5lckRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJpZnJhbWVQYXJlbnRFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic2V0RXh0ZXJuYWxIVE1MRWxlbWVudHMiLCJjcmVhdGVJbnZpc2libGVEaXZUb3AiLCJjcmVhdGVJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uIiwic2V0SWZyYW1lQ29udGFpbmVyQXR0cmlidXRlcyIsInNldFRvcERpdkF0dHJpYnV0ZXMiLCJzZXREaXZCbG9ja0ludGVyYWN0aW9uQXR0cmlidXRlcyIsImdldEludmlzaWJsZVRvcERpdiIsInN0eWxlIiwiekluZGV4IiwiZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwic2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQiLCJfdmlkZW9JbmZvQXR0cmlidXRlTGlzdCIsImluaXRQbGF5ZXIiLCJQbGF5ZXIiLCJ3aWR0aCIsImhlaWdodCIsInBsYXllclZhcnMiLCJldmVudHMiLCJiaW5kIiwiYnVpbGRTaW5nbGVJZnJhbWUiLCJ5b3V0dWJlSWZyYW1lIiwidGFnIiwic3JjIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ3YWl0VW50aWxFbGVtZW50RXhpc3RzIiwicG9sbEZvclZhcmlhYmxlQXN5bmMiLCJ2YWx1ZSIsInByb3RvdHlwZSIsImxvYWRlZCIsImJ1aWxkIiwiYnVpbGRJZnJhbWVzIiwicG9sbEZvclZhcmlhYmxlIiwic2V0WW91dHViZUlmcmFtZUVsZW1lbnRzIiwieXRJZnJhbWUiLCJjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImVsZW1lbnRJbnZpc2libGVEaXYiLCJZb3V0dWJlSWZyYW1lU3dpdGNoZXIiLCJzd2l0Y2hCZXR3ZWVuIiwiaWZyYW1lT3B0aW9ucyIsIl9kaWN0RXZlcnlJZnJhbWUiLCJpZnJhbWVUb1BsYXkiLCJpZnJhbWVzVG9QYXVzZSIsImZpbHRlciIsInMiLCJpIiwiWW91dHViZUlmcmFtZVN5bmMiLCJtYWluSWZyYW1lIiwic3ViSWZyYW1lcyIsIkFycmF5IiwiaXNBcnJheSIsInN5bmNTdWJJZnJhbWVzIiwic3luY0V2ZW50c1dpdGhNYWluSWZyYW1lIiwic3ViSWZyYW1lIiwiTW92YWJsZUVsZW1lbnQiLCJkcmFnZ2luZ1N0YXRlIiwibGFzdFN0YXJ0UG9pbnQiLCJvbkRyYWciLCJfZW5hYmxlZCIsImRyYWdnaW5nIiwic3RhcnQiLCJlbmQiLCJtb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbiIsInVwZGF0ZVBvc2l0aW9uIiwiZW5hYmxlZCIsImlzTW91c2VFdmVudCIsIk1vdXNlRXZlbnQiLCJpc0xlZnRCdXR0b24iLCJidXR0b24iLCJpc1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIngiLCJ5IiwiY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMiLCJtb3ZpbmdTdGF0ZSIsImRlbHRhIiwiZHgiLCJwb3MiLCJkeSIsInBvaW50ZXJJZCIsInNldFBvaW50ZXJDYXB0dXJlIiwidXNlclNlbGVjdCIsIm1vdmVUb1Bvc2l0aW9uIiwibWFrZUVsZW1lbnREcmFnZ2FibGUiLCJtYWtlRWxlbWVudERyYWdnYWJsZUJ5UXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJvbkJlZm9yZU1vdmUiLCJvbkFmdGVyTW92ZSIsIm5ld1BvcyIsIm5ld1giLCJuZXdZIiwic2V0VHJhbnNsYXRlIiwicmVzZXRUcmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJzZXRUcmFuc2xhdGVCeVBvaW50MkQiLCJwb2ludCIsImdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50IiwicmVwbGFjZSIsInJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSIsIm1vdmVUb1BvaW50MkQiLCJtb3ZlVG9UYXJnZXRFbGVtZW50IiwidGFyZ2V0UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbiIsImRpc3RhbmNlRnJvbUJvcmRlciIsImdldERpc3RhbmNlRnJvbUJvcmRlciIsInRhcmdldFJpZ2h0UG9zaXRpb24iLCJyaWdodCIsInRhcmdldEJvdHRvbVBvc2l0aW9uIiwiYm90dG9tIiwiTWF0aCIsInJvdW5kIiwibW92ZVRvQ2VudGVyT2ZUYXJnZXRFbGVtZW50IiwibWFrZUVsZW1lbnRNb3ZhYmxlIiwiZXZlbnRzQnlOYW1lIiwiZXZlbnROYW1lIiwidG9Mb3dlckNhc2UiLCJnZXQiLCJnZXRFdmVudHNCeU5hbWUiLCJldmVudEFyZ3MiLCJyZWdleEdyb3VwUm90YXRlVmFsdWUiLCJyZWdleEdyb3VwUm90YXRlWFZhbHVlIiwicmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSIsInJlZ2V4R3JvdXBSb3RhdGVaVmFsdWUiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCIsImRpY3RLZXlzQnlBY3Rpb25LZXl1cCIsImFzeW5jIiwicHJvbWlzZSIsIlN0cmluZyIsImlucHV0IiwidGVzdCIsIm1hdGNoIiwibGVuZ3RoIiwiYXR0ckxpc3QiLCJzZXRBdHRyaWJ1dGUiLCJyZWN0IiwiZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiIsImNlbnRlclgiLCJjZW50ZXJZIiwicm90YXRpb25BbmdsZSIsImF4aXMiLCJnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMiLCJnZXRFbGVtZW50Um90YXRpb25BeGlzIiwiZXhlYyIsInBhcnNlRmxvYXQiLCJnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMiLCJyYWRpYW5zIiwiUEkiLCJjb3NUaGV0YSIsImNvcyIsInNpblRoZXRhIiwic2luIiwicm90YXRlZFgxIiwicm90YXRlZFkxIiwicm90YXRlZFgyIiwicm90YXRlZFkyIiwicm90YXRlZExlZnQiLCJtaW4iLCJyb3RhdGVkVG9wIiwicm90YXRlZEJvdHRvbSIsIm1heCIsInJvdGF0ZWRSaWdodCIsInRvSlNPTiIsInZhcmlhYmxlTmFtZSIsInJlYWR5Q29uZGl0aW9uIiwiY2FsbGJhY2siLCJwb2xsIiwidW5kZWZpbmVkIiwid2luZG93IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZWxlY3RvciIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImNoZWNrQm9keVJvdGF0aW9uIiwicmVjdDEiLCJyZWN0MiIsImNlbnRlciIsImVsZW1lbnRUcmFuc2Zvcm0iLCJhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZSIsImdldENvbXB1dGVkU3R5bGUiLCJyZWdleE51bWJlclBhdHRlcm4iLCJtYXAiLCJuIiwicmVzdWx0IiwiYm9keUFuZ2xlIiwicmVnZXhNYXRjaFJvdGF0ZVZhbHVlIiwiZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzIiwicm90YXRlQ29vcmRpbmF0ZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIlRvdWNoRXZlbnQiLCJ0b3VjaCIsImNoYW5nZWRUb3VjaGVzIiwiaW52aXNpYmxlRGl2IiwidG9TdHJpbmciLCJvcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImFwcGVuZENoaWxkIiwicmVwZWF0IiwicGFpciIsImNvZGUiLCJrYkV2ZW50IiwicnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyIsInJ1bktleWRvd25BY3Rpb25zUmVwZWF0IiwiYW5nbGUiLCJudW0iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJzb3VyY2VSb290IjoiIn0=