var YoutubeIframe;(()=>{"use strict";var e={2152:(e,t,i)=>{function n(e){return`\n  <div id="${e}">\n  </div>\n  `.trim()}i.d(t,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(e,t,i)=>{i.r(t),i.d(t,{YoutubeIframe:()=>d,YoutubeIframeSwitcher:()=>o.YoutubeIframeSwitcher,YoutubeIframeSync:()=>l.YoutubeIframeSync,createDraggableYoutubeIframe:()=>m});var n=i(1319),s=i(4763),r=i(739),a=i(2152),o=i(4785),l=i(3362),h=i(7930);function m({iframeId:e,videoId:t,startsAt:i,parentElement:n,classList:r=[]}){return{iframeController:new d({startsAt:i,iframeId:e,videoId:t,parentElement:n,classList:r}),draggable:new s.DraggableElement({element:n??document.body,allowDraggingByInnerContent:!0,onDrop:()=>{}})}}class d extends h.ObjectEventListener{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;invisibleDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new h.ObjectEventListener;constructor(e){if(d._dictYoutubeIframeById.has(e.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=e.iframeId,this._startsAt=e.startsAt??0,this.videoId=e.videoId,this._startMuted=!!e.startMuted,this._blockInteraction=!!e.blockInteraction,this._iframeContainer=d.getYoutubeIframeElement({iframeId:e.iframeId,classList:e.classList}),this._iframeParentElement=d.setupParentFromYoutubeIframe({parentElement:e.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=e.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),d._dictYoutubeIframeById.set(e.iframeId,this),this.getVideoInfo().then((e=>{this.videoName=e&&e.title?e.title:"",this.channelName=e&&e.author_name?e.author_name:"",this.videoThumb=e&&e.thumbnail_url?e.thumbnail_url:"",this.channelURL=e&&e.author_url?e.author_url:""}))}async getVideoInfo(){const e=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));if(!e.error)return await e.data().json();console.error(e.error)}onPlayerReady(e){this._startMuted&&this.player.mute(),d._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),d.checkIfEveryIframeIsReady()}onPlayerStateChange(e){this._isPlaying=e.data===d._youtubeAPIReference.PlayerState.PLAYING,this._isPlaying?(this.setClassesIframePlaying(),this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this)),5)):this._playingObserverInterval&&(this.setClassesIframePaused(),clearInterval(this._playingObserverInterval),this._playingObserverInterval=null),this.callEventsByName("onplayerstatechange",this._isPlaying,this)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(e){this.seek(e)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,r.clamp)(this._startsAt,0,this._startsAt)}set startsAt(e){this._startsAt=(0,r.clamp)(e,0,e)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(e,t=!1,i=!1){return this.callEventsByName("onseek",e,t,i,this),e+=i?this._startsAt:0,this.player.seekTo(e,t),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...d._dictYoutubeIframeById.keys()].some((e=>!this._arrYoutubeIframeIdReady.includes(e)))||(this.arrObjectToSetOnEveryIframeReady.forEach((e=>e.setup(d._dictYoutubeIframeById))),d._dictYoutubeIframeById.forEach(((e,t)=>{e.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:e,classList:t}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),t&&i.classList.add(...t),i.id=`containerYoutubeIframe${e}`,i.insertAdjacentHTML("afterbegin",(0,a.templateBackgroundYoutubeIframeElement)(e)),i}static setupParentFromYoutubeIframe({parentElement:e,iframeContainer:t}){const i=e??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",t),i}setInvisibleTopDiv(e){this.invisibleDiv=e,this.invisibleDiv.style.zIndex="990"}setInvisibleDivBlockInteraction(e){this._divBlockInteraction=e,this._divBlockInteraction.setAttribute("yt-iframe-id",this.id),this._divBlockInteraction.setAttribute("yt-iframe-video-name",this.videoName),this._divBlockInteraction.setAttribute("yt-iframe-video-channel-name",this.channelName),this._divBlockInteraction.setAttribute("yt-iframe-video-thumb-url",this.videoThumb),this._divBlockInteraction.setAttribute("yt-iframe-video-channel-url",this.channelURL),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(e=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}set blockInteraction(e){this._blockInteraction=e,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new d._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;static buildIframes(){var e=document.createElement("script");e.id="ytIframeAPI",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t),(0,n.waitUntilElementExists)("#ytIframeAPI").then((()=>{(0,n.pollForVariable)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(e=>{d._youtubeAPIReference=e,d.setYoutubeIframeElements()}))}))}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((e,t)=>{e.setInvisibleTopDiv(this.getInvisibleTopDiv(e)),e.setInvisibleDivBlockInteraction(this.getInvisibleDivBlockInteraction(e)),e.initPlayer()}))}static getInvisibleTopDiv(e){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleTopDivHoldToDrag${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:.2*e.dimensions.height}})}static getInvisibleDivBlockInteraction(e){const t=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleDivBlockInteraction${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("yt-div-block-interaction"),t}}},4785:(e,t,i)=>{i.d(t,{YoutubeIframeSwitcher:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{switchBetween;constructor(e){super(),this.switchBetween=e.switchBetween,n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.switchBetween.forEach((e=>e.addEventListener("onplay",(()=>{const t=this.switchBetween.filter((t=>t.id!==e.id));t.forEach((e=>e.pause())),this.callEventsByName("onalternate",this,e,t),e.callEventsByName("onalternate",this,e,t)}))))}}},3362:(e,t,i)=>{i.d(t,{YoutubeIframeSync:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{mainIframe;subIframes;constructor(e){super(),this.mainIframe=e.mainIframe,this.subIframes=Array.isArray(e.subIframes)?e.subIframes:[e.subIframes],n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.syncSubIframes(),this.syncEventsWithMainIframe()}syncSubIframes(){this.subIframes.forEach((e=>{e.seek(this.mainIframe.startsAt,!0),e.pause(),e.addEventListener("onplay",(()=>{this.mainIframe.play(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)})),e.addEventListener("onpause",(()=>{this.mainIframe.pause(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)}))}))}syncEventsWithMainIframe(){this.mainIframe.addEventListener("onplay",(()=>{this.subIframes.forEach((e=>{e.seek(this.mainIframe.playerCurrentTime,!0),e.playWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"play",this.subIframes)}))})),this.mainIframe.addEventListener("onpause",(()=>{this.subIframes.forEach((e=>{e.pauseWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"pause",this.subIframes)}))})),this.mainIframe.addEventListener("onseek",((e,t,i)=>{this.subIframes.forEach((n=>{e+=i?this.mainIframe.startsAt:0,n.seek(e,t),n.callEventsByName("onsync",this.mainIframe,n,"seek",this.subIframes)}))}))}}},4763:(e,t,i)=>{i.d(t,{DraggableElement:()=>r});var n=i(1319),s=i(8586);class r extends s.MovableElement{allowDraggingByInnerContent;draggingState;lastStartPoint;onDrop;onDrag;_enabled=!0;constructor(e){if(!e.element)throw new Error("Null draggable element. Please pass a valid element in constructor.");super(e),this.allowDraggingByInnerContent=!e.allowDraggingByInnerContent||e.allowDraggingByInnerContent,this.draggingState={dragging:!1},this.onDrag=e.onDrag,this.onDrop=e.onDrop,this.element.addEventListener("pointerdown",this.start.bind(this)),this.element.addEventListener("pointerup",this.end.bind(this)),this.element.addEventListener("pointercancel",this.end.bind(this)),this.element.addEventListener("pointermove",this.move.bind(this)),this.element.addEventListener("touchstart",(e=>e.preventDefault())),this.element.addEventListener("dragstart",(e=>e.preventDefault())),this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),100)}get enabled(){return this._enabled}set enabled(e){this._enabled=e}set dragging(e){this.enabled&&(this.draggingState.dragging=e,this.dragging?this.element.classList.add("dragging"):this.element.classList.remove("dragging"))}get dragging(){return this.draggingState.dragging}start(e){if(!this.enabled)return;const t=e instanceof MouseEvent,i=t&&0===e.button,s=e instanceof PointerEvent;if(t&&!i)return;if(!this.allowDraggingByInnerContent&&e.target!==this.element)return;this.callEventsByName("onDrag",this.element,this),this.onDrag&&this.onDrag(this.element,this),this.dragging=!0,e.stopPropagation();let{x:r,y:a}=(0,n.clickEventToCoordinates)(e);this.lastStartPoint={x:r,y:a},this.movingState.delta={dx:this.movingState.pos.x-r,dy:this.movingState.pos.y-a},s&&(this.draggingState.pointerId=e.pointerId,this.element.setPointerCapture(e.pointerId)),this.element.style.userSelect="none"}end(){this.dragging=!1,this.element.style.userSelect="",this.callEventsByName("onDrop",this.element,this),this.onDrop&&this.onDrop(this.element,this)}updatePosition(){this.dragging||super.updatePosition()}move(e){if(!this.enabled)return;const t=e instanceof PointerEvent;if(!this.dragging)return;if(!this.allowDraggingByInnerContent&&!(e.target===this.element||t&&this.draggingState.pointerId===e.pointerId))return;e.stopPropagation();let{x:i,y:s}=(0,n.clickEventToCoordinates)(e);super.moveToPosition(i,s)}static makeElementDraggable(e){return new r({element:e})}static makeElementDraggableByQuerySelector(e){const t=document.querySelector(e);return t?new r({element:t}):null}}},8586:(e,t,i)=>{i.d(t,{MovableElement:()=>r});var n=i(7930),s=i(1319);class r extends n.ObjectEventListener{element;movingState;intervalUpdatePosition;onBeforeMove;onAfterMove;constructor(e){if(super(),!e.element)throw new Error("Null movable element. Please pass a valid element in constructor.");this.element=e.element,this.onBeforeMove=e.onBeforeMove,this.onAfterMove=e.onAfterMove,this.movingState={pos:{x:0,y:0},delta:{dx:0,dy:0}},this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),200)}get position(){return this.movingState.pos}set position(e){this.moveToPosition(e.x,e.y)}get x(){return this.movingState.pos.x}set x(e){this.moveToPosition(e,this.y)}get y(){return this.movingState.pos.y}set y(e){this.moveToPosition(this.x,e)}setTranslate(e,t){this.callEventsByName("onBeforeMove",this.element,this),this.onBeforeMove&&this.onBeforeMove(this.element,this),this.resetTranslate(),this.element.style.transform+=`translate(${e}px, ${t}px)`,this.callEventsByName("onAfterMove",this.element,this),this.onAfterMove&&this.onAfterMove(this.element,this)}setTranslateByPoint2D(e){this.setTranslate(e.x,e.y)}updatePosition(){this.movingState.pos=(0,s.getTransformCoordsFromElement)(this.element),this.movingState.delta.dx=0,this.movingState.delta.dy=0}resetTranslate(){this.element.style.transform=this.element.style.transform.replace(s.regexRemoveTranslateFromTransform,"")}moveToPosition(e,t){this.movingState.pos={x:e+this.movingState.delta.dx,y:t+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToPoint2D(e){this.movingState.pos={x:e.x+this.movingState.delta.dx,y:e.y+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width),y:Math.round(a-t.height)})}moveToCenterOfTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width/2),y:Math.round(a-t.height/2)})}static makeElementMovable(e){return new r({element:e})}}},7930:(e,t,i)=>{i.d(t,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(e,t){this.eventsByName.has(e.toLowerCase())?this.eventsByName.get(e.toLowerCase()).push(t):this.eventsByName.set(e.toLowerCase(),[t])}getEventsByName(e){return this.eventsByName.has(e.toLowerCase())||this.eventsByName.set(e.toLowerCase(),[]),this.eventsByName.get(e.toLowerCase())}callEventsByName(e,...t){this.getEventsByName(e).forEach((e=>e(...t)))}}},1319:(e,t,i)=>{i.d(t,{clickEventToCoordinates:()=>b,createInvisibleDivAboveParent:()=>E,getDistanceFromBorder:()=>f,getElementDimensions:()=>u,getTransformCoordsFromElement:()=>I,handlePromise:()=>c,pollForVariable:()=>g,regexRemoveTranslateFromTransform:()=>s,waitUntilElementExists:()=>v});var n=i(739);const s=/translate\([^)]*\)/g,r=/rotate\((-?\d+\.?\d*)deg\)/,a=/rotateX\((-?\d+\.?\d*)deg\)/,o=/rotateY\((-?\d+\.?\d*)deg\)/,l=/rotateZ\((-?\d+\.?\d*)deg\)/,h=new Map,m=new Map,d=new Map;async function c(e){try{const t=await e;return{data:()=>t,error:null}}catch(e){return console.error(e),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:e instanceof Error?e:new Error(String(e))}}}function u(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function y(e){const t=e.getBoundingClientRect(),i=t.left+t.width/2,n=t.top+t.height/2,s=function(){const e=function(e){switch(e){case"x":return a;case"y":return o;case"z":return l;default:return r}}(p(document.body)).exec(document.body.style.transform);return e?parseFloat(e[1]):0}(),h=Math.PI/180*s,m=Math.cos(h),d=Math.sin(h),c=i+(t.left-i)*m-(t.top-n)*d,u=n+(t.left-i)*d+(t.top-n)*m,y=i+(t.right-i)*m-(t.bottom-n)*d,g=n+(t.right-i)*d+(t.bottom-n)*m,v=Math.min(c,y),f=Math.min(u,g),I=Math.max(u,g),b=Math.max(c,y);return{x:v,y:f,width:t.width,height:t.height,toJSON:t.toJSON,left:v,top:f,bottom:I,right:b}}function g(e,t,i){const n=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(n),i(window[e]))}),100)}function v(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver((n=>{document.querySelector(e)&&(i.disconnect(),t(document.querySelector(e)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}function f(e,t,i=!1){const n=i?y(e):e.getBoundingClientRect(),s=i?y(t):t.getBoundingClientRect(),r=n.left+n.width/2,a=n.top+n.height/2;return{top:a-s.top,right:s.right-r,bottom:s.bottom-a,left:r-s.left}}function p(e){const t=e.style.transform.toLowerCase();return t.includes("x")?"x":t.includes("y")?"y":"z"}function I(e,t=!1){const i=(window.getComputedStyle(e).transform.match(n.regexNumberPattern)??[0,0]).map((e=>+e));let s={x:void 0!==i[4]?Math.round(i[4]):0,y:void 0!==i[5]?Math.round(i[5]):0};if(t){const t=function(e,t="x"){let i;switch(t){case"x":i=a;break;case"y":i=o;break;case"z":i=l;break;default:i=r}const n=i.exec(e.style.transform);return n?parseFloat(n[1]):0}(document.body,p(e))||0;return(0,n.rotateCoordinates)(s.x,s.y,t)}return s}function b(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const t=e.changedTouches[0];return{x:t.clientX,y:t.clientY}}throw"Event not Found"}function E({parentElement:e,id:t,position:i,dimensions:n}){var s=document.createElement("div");return e.style.position||(e.style.position="relative"),s.id=t,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",e.appendChild(s),s}new Map,window.addEventListener("keydown",(e=>{e.repeat||function(e){for(const t of h)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e),function(e){for(const t of m)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e)})),window.addEventListener("keyup",(e=>{for(const t of d)e.code===t[0]&&t[1].forEach((t=>t(e)))}))},739:(e,t,i)=>{i.d(t,{clamp:()=>r,regexNumberPattern:()=>n,rotateCoordinates:()=>s});const n=/-?\d+\.?\d*/g;function s(e,t,i){const n=Math.PI/180*i;return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function r(e=0,t=0,i=100){return Math.max(t,Math.min(e,i))}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=i(5102);YoutubeIframe=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FHakRFLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CSixHQUFVRyxFQUFRQSxFQUFPRCxRQUFTSCxHQUcvQ0ksRUFBT0QsT0FDZixDQ3JCQUgsRUFBb0JNLEVBQUksQ0FBQ0gsRUFBU0ksS0FDakMsSUFBSSxJQUFJbk8sS0FBT21PLEVBQ1hQLEVBQW9COU4sRUFBRXFPLEVBQVluTyxLQUFTNE4sRUFBb0I5TixFQUFFaU8sRUFBUy9OLElBQzVFb08sT0FBT0MsZUFBZU4sRUFBUy9OLEVBQUssQ0FBRXNPLFlBQVksRUFBTXJHLElBQUtrRyxFQUFXbk8sSUFFMUUsRUNORDROLEVBQW9COU4sRUFBSSxDQUFDeU8sRUFBS0MsSUFBVUosT0FBT25NLFVBQVV3TSxlQUFlQyxLQUFLSCxFQUFLQyxHQ0NsRlosRUFBb0JsTyxFQUFLcU8sSUFDSCxvQkFBWFksUUFBMEJBLE9BQU9DLGFBQzFDUixPQUFPQyxlQUFlTixFQUFTWSxPQUFPQyxZQUFhLENBQUU1TSxNQUFPLFdBRTdEb00sT0FBT0MsZUFBZU4sRUFBUyxhQUFjLENBQUUvTCxPQUFPLEdBQU8sRUNGOUQsSUFBSTZNLEVBQXNCakIsRUFBb0IsTSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvVGVtcGxhdGVzWW91dHViZUlmcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Zb3V0dWJlSWZyYW1lL1lvdXR1YmVJZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lU3dpdGNoZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lU3luYy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXh0cmFzL0RyYWdnYWJsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9Nb3ZhYmxlRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0RPTVRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9NYXRoVG9vbHMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50KCBpZnJhbWVJZDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGlkPVwiJHsgaWZyYW1lSWQgfVwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVZb3V0dWJlSWZyYW1lVGFibGVJdGVtKCBpZnJhbWVJZDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGlkPVwiJHsgaWZyYW1lSWQgfUlmcmFtZVRhYmxlSXRlbVwiIGNsYXNzPVwieXQtaWZyYW1lLXRhYmxlLWl0ZW0tY29udGFpbmVyXCI+XHJcbiAgPC9kaXY+XHJcbiAgYC50cmltKCk7XHJcbn0iLCJpbXBvcnQgeyBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCwgZ2V0RWxlbWVudERpbWVuc2lvbnMsIGhhbmRsZVByb21pc2UsIHBvbGxGb3JWYXJpYWJsZSwgd2FpdFVudGlsRWxlbWVudEV4aXN0cyB9IGZyb20gJy4uLy4uL1Rvb2xzL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgRHJhZ2dhYmxlRWxlbWVudCB9IGZyb20gJy4uLy4uL0V4dHJhcy9EcmFnZ2FibGVFbGVtZW50JztcclxuaW1wb3J0IHsgRGltZW5zaW9ucywgY2xhbXAgfSBmcm9tICcuLi8uLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCB9IGZyb20gJy4vVGVtcGxhdGVzWW91dHViZUlmcmFtZSc7XHJcbmltcG9ydCB7IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB9IGZyb20gJy4vVHlwZXMnO1xyXG5pbXBvcnQgeyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWVTd2l0Y2hlcic7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWVTeW5jIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lU3luYyc7XHJcbmltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcbmltcG9ydCB7IElNZWRpYVBsYXllckZ1bmN0aW9ucyB9IGZyb20gJy4uL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIFlvdXR1YmVJZnJhbWVPcHRpb25zID0ge1xyXG4gIGlmcmFtZUlkOiBzdHJpbmc7XHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIGRpbWVuc2lvbnM/OiBEaW1lbnNpb25zO1xyXG4gIHBhcmVudEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICBjbGFzc0xpc3Q/OiBzdHJpbmdbXTtcclxuICBzdGFydE11dGVkPzogYm9vbGVhbjtcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICByZXBsYXlPbkVuZD86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHJhZ2dhYmxlWW91dHViZUlmcmFtZSggeyBpZnJhbWVJZCwgdmlkZW9JZCwgc3RhcnRzQXQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCA9IFtdIH06IFlvdXR1YmVJZnJhbWVPcHRpb25zICkge1xyXG4gIGNvbnN0IGlmcmFtZUNvbnRyb2xsZXJSZXN1bHQgPSBuZXcgWW91dHViZUlmcmFtZSggeyBzdGFydHNBdCwgaWZyYW1lSWQsIHZpZGVvSWQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCB9ICk7XHJcblxyXG4gIGNvbnN0IGRyYWdnYWJsZVJlc3VsdCA9IG5ldyBEcmFnZ2FibGVFbGVtZW50KCB7XHJcbiAgICBlbGVtZW50OiBwYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksXHJcbiAgICBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ6IHRydWUsXHJcbiAgICBvbkRyb3A6ICgpID0+IHtcclxuXHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaWZyYW1lQ29udHJvbGxlcjogaWZyYW1lQ29udHJvbGxlclJlc3VsdCxcclxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlUmVzdWx0XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlSWZyYW1lIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBhcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeTogSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5W10gPSBbXTtcclxuXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfZGljdFlvdXR1YmVJZnJhbWVCeUlkOiBNYXA8c3RyaW5nLCBZb3V0dWJlSWZyYW1lPiA9IG5ldyBNYXAoKTtcclxuICBwcm90ZWN0ZWQgc3RhdGljIF9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeTogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgcHVibGljIHBsYXllcjogYW55IHwgbnVsbDtcclxuICBwcm90ZWN0ZWQgX2lzUGxheWVyUmVhZHk6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmc7XHJcbiAgcHVibGljIHJlYWRvbmx5IHZpZGVvSWQ6IHN0cmluZztcclxuICBwdWJsaWMgdmlkZW9OYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgdmlkZW9UaHVtYjogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGNoYW5uZWxVUkw6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyBjaGFubmVsTmFtZTogc3RyaW5nID0gJyc7XHJcblxyXG4gIHByb3RlY3RlZCBfaWZyYW1lRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgLy8gQSBkaXYgd2hpY2ggaXMgY3JlYXRlZCBhZnRlciBpZnJhbWUgcmVuZGVyIGFuZCBob2xkcyBpZnJhbWUgZWxlbWVudFxyXG4gIHByb3RlY3RlZCBfaWZyYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgLy8gVGhlIGVsZW1lbnQgdGhhdCBob2xkcyB7IF9pZnJhbWVDb250YWluZXIgfVxyXG4gIHByb3RlY3RlZCBfaWZyYW1lUGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByb3RlY3RlZCBfaXNQbGF5aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25zO1xyXG4gIHByb3RlY3RlZCBpbnZpc2libGVEaXY/OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgcHJpdmF0ZSBfc3RhcnRzQXQ6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIF9ibG9ja0ludGVyYWN0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaXZCbG9ja0ludGVyYWN0aW9uOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcm90ZWN0ZWQgX3N0YXJ0TXV0ZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIF9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJvdGVjdGVkIF9ldmVudExpc3RlbmVyOiBPYmplY3RFdmVudExpc3RlbmVyID0gbmV3IE9iamVjdEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IFlvdXR1YmVJZnJhbWVPcHRpb25zICkge1xyXG4gICAgaWYgKCBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuaGFzKCBvcHRpb25zLmlmcmFtZUlkICkgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIGlmcmFtZSB0aGVyZSdzIGFscmVhZHkgYW4gaWZyYW1lIHdpdGggdGhpcyBpZC5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWZyYW1lSWQ7XHJcbiAgICB0aGlzLl9zdGFydHNBdCA9IG9wdGlvbnMuc3RhcnRzQXQgPz8gMDtcclxuICAgIHRoaXMudmlkZW9JZCA9IG9wdGlvbnMudmlkZW9JZDtcclxuXHJcbiAgICB0aGlzLl9zdGFydE11dGVkID0gb3B0aW9ucy5zdGFydE11dGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA9IG9wdGlvbnMuYmxvY2tJbnRlcmFjdGlvbiA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIgPSBZb3V0dWJlSWZyYW1lLmdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7XHJcbiAgICAgIGlmcmFtZUlkOiBvcHRpb25zLmlmcmFtZUlkLFxyXG4gICAgICBjbGFzc0xpc3Q6IG9wdGlvbnMuY2xhc3NMaXN0XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudCA9IFlvdXR1YmVJZnJhbWUuc2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBvcHRpb25zLnBhcmVudEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSxcclxuICAgICAgaWZyYW1lQ29udGFpbmVyOiB0aGlzLl9pZnJhbWVDb250YWluZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICB0aGlzLl9kaW1lbnNpb25zID0gb3B0aW9ucy5kaW1lbnNpb25zID8/IGdldEVsZW1lbnREaW1lbnNpb25zKCB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50ICk7XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLnNldCggb3B0aW9ucy5pZnJhbWVJZCwgdGhpcyApO1xyXG5cclxuICAgIHRoaXMuZ2V0VmlkZW9JbmZvKCkudGhlbiggaW5mbyA9PiB7XHJcbiAgICAgIHRoaXMudmlkZW9OYW1lID0gaW5mbyAmJiBpbmZvLnRpdGxlID8gaW5mby50aXRsZSBhcyBzdHJpbmcgOiAnJztcclxuICAgICAgdGhpcy5jaGFubmVsTmFtZSA9IGluZm8gJiYgaW5mby5hdXRob3JfbmFtZSA/IGluZm8uYXV0aG9yX25hbWUgYXMgc3RyaW5nIDogJyc7XHJcbiAgICAgIHRoaXMudmlkZW9UaHVtYiA9IGluZm8gJiYgaW5mby50aHVtYm5haWxfdXJsID8gaW5mby50aHVtYm5haWxfdXJsIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgICB0aGlzLmNoYW5uZWxVUkwgPSBpbmZvICYmIGluZm8uYXV0aG9yX3VybCA/IGluZm8uYXV0aG9yX3VybCBhcyBzdHJpbmcgOiAnJztcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRWaWRlb0luZm8oKSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVByb21pc2U8UmVzcG9uc2U+KCBmZXRjaCggYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL29lbWJlZD91cmw9JHsgdGhpcy52aWRlb1VSTCB9JmZvcm1hdD1qc29uYCApICk7XHJcblxyXG4gICAgaWYgKCByZXNwb25zZS5lcnJvciApIHtcclxuICAgICAgY29uc29sZS5lcnJvciggcmVzcG9uc2UuZXJyb3IgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5kYXRhKCkuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG9uUGxheWVyUmVhZHkoIGV2ZW50OiBhbnkgKSB7XHJcbiAgICBpZiAoIHRoaXMuX3N0YXJ0TXV0ZWQgKSB7XHJcbiAgICAgIHRoaXMucGxheWVyLm11dGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5wdXNoKCB0aGlzLmlkICk7XHJcbiAgICB0aGlzLl9pZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRoaXMuaWQgKSE7XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuc2V0UGxheWJhY2tRdWFsaXR5KCAnaGlnaHJlcycgKTtcclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggdGhpcy5fc3RhcnRzQXQgPz8gMCwgdHJ1ZSApO1xyXG4gICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5ZXJSZWFkeSA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25pZnJhbWVyZWFkeScsIHRoaXMgKTtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBvblBsYXllclN0YXRlQ2hhbmdlKCBldmVudDogYW55ICkge1xyXG4gICAgdGhpcy5faXNQbGF5aW5nID0gZXZlbnQuZGF0YSA9PT0gWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZS5QbGF5ZXJTdGF0ZS5QTEFZSU5HO1xyXG5cclxuICAgIGlmICggdGhpcy5faXNQbGF5aW5nICkge1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcbiAgICAgIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsID0gc2V0SW50ZXJ2YWwoICgpID0+IHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheWluZycsIHRoaXMgKSwgNSApO1xyXG4gICAgfSBlbHNlIGlmICggdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgKSB7XHJcbiAgICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpO1xyXG4gICAgICBjbGVhckludGVydmFsKCB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCApO1xyXG4gICAgICB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5ZXJzdGF0ZWNoYW5nZScsIHRoaXMuX2lzUGxheWluZywgdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCkge1xyXG4gICAgaWYgKCB0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCkge1xyXG4gICAgaWYgKCB0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG5cclxuICBwcm90ZWN0ZWQgb25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSgpIHtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uZXZlcnl5b3V0dWJlaWZyYW1lcmVhZHknICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpdkJsb2NrSW50ZXJhY3Rpb24oKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2aWRlb1VSTCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PSR7IHRoaXMudmlkZW9JZCB9YDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGFyZW50RWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaWZyYW1lRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBpZiAoICF0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSWZyYW1lIHdhcyBjYWxsZWQgYnV0IGl0J3Mgbm90IHJlYWR5LlwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2lmcmFtZUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWVyUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNQbGF5ZXJSZWFkeTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllckR1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgY3VycmVudFRpbWUoIHQ6IG51bWJlciApIHtcclxuICAgIHRoaXMuc2VlayggdCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjdXJyZW50VGltZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgLSB0aGlzLl9zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyQ3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwcm9ncmVzc1BlcmNlbnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyUHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJDdXJyZW50VGltZSAvIHRoaXMucGxheWVyRHVyYXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHN0YXJ0TXV0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRNdXRlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaXNQbGF5aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzUGxheWluZztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGltZW5zaW9ucygpOiBEaW1lbnNpb25zIHtcclxuICAgIHJldHVybiB0aGlzLl9kaW1lbnNpb25zO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdGFydHNBdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIGNsYW1wKCB0aGlzLl9zdGFydHNBdCwgMCwgdGhpcy5fc3RhcnRzQXQgKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBzdGFydHNBdCggdmFsOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLl9zdGFydHNBdCA9IGNsYW1wKCB2YWwsIDAsIHZhbCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvZ2dsZSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMge1xyXG4gICAgaWYgKCB0aGlzLmlzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGxheSgpIHtcclxuICAgIHRoaXMucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5JywgdGhpcyApO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMucGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmcoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wYXVzZScsIHRoaXMgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZWVrKCBzZWVrVGltZTogbnVtYmVyLCByZWxvYWRCdWZmZXI6IGJvb2xlYW4gPSBmYWxzZSwgY29uc2lkZXJTdGFydHNBdDogYm9vbGVhbiA9IGZhbHNlICkge1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25zZWVrJywgc2Vla1RpbWUsIHJlbG9hZEJ1ZmZlciwgY29uc2lkZXJTdGFydHNBdCwgdGhpcyApO1xyXG5cclxuICAgIHNlZWtUaW1lICs9IGNvbnNpZGVyU3RhcnRzQXQgPyB0aGlzLl9zdGFydHNBdCA6IDA7XHJcbiAgICB0aGlzLnBsYXllci5zZWVrVG8oIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG11dGUoKSB7XHJcbiAgICB0aGlzLnBsYXllci5tdXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1bm11dGUoKSB7XHJcbiAgICB0aGlzLnBsYXllci51bm11dGUoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKSB7XHJcbiAgICBjb25zdCBhcnJFdmVyeUlmcmFtZUlkID0gWy4uLllvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5rZXlzKCldO1xyXG4gICAgY29uc3QgaGFzSWZyYW1lTm90UmVhZHlZZXQgPSBhcnJFdmVyeUlmcmFtZUlkLnNvbWUoIHIgPT4gIXRoaXMuX2FycllvdXR1YmVJZnJhbWVJZFJlYWR5LmluY2x1ZGVzKCByICkgKTtcclxuXHJcbiAgICBpZiAoICFoYXNJZnJhbWVOb3RSZWFkeVlldCApIHtcclxuICAgICAgdGhpcy5hcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeS5mb3JFYWNoKCBvID0+IG8uc2V0dXAoIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZCApICk7XHJcblxyXG4gICAgICBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZm9yRWFjaCggKCB2YWwsIGtleSApID0+IHtcclxuICAgICAgICB2YWwub25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSgpO1xyXG4gICAgICB9ICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0WW91dHViZUlmcmFtZUVsZW1lbnQoIHsgaWZyYW1lSWQsIGNsYXNzTGlzdCB9OiB7IGlmcmFtZUlkOiBzdHJpbmc7IGNsYXNzTGlzdD86IHN0cmluZ1tdOyB9ICkge1xyXG4gICAgY29uc3QgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCAneXQtaWZyYW1lLWNvbnRhaW5lcicgKTtcclxuICAgIGlmICggY2xhc3NMaXN0ICkge1xyXG4gICAgICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggLi4uY2xhc3NMaXN0ICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udGFpbmVyRGl2LmlkID0gYGNvbnRhaW5lcllvdXR1YmVJZnJhbWUkeyBpZnJhbWVJZCB9YDtcclxuICAgIGNvbnRhaW5lckRpdi5pbnNlcnRBZGphY2VudEhUTUwoICdhZnRlcmJlZ2luJywgdGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQoIGlmcmFtZUlkICkgKTtcclxuICAgIHJldHVybiBjb250YWluZXJEaXY7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSggeyBwYXJlbnRFbGVtZW50LCBpZnJhbWVDb250YWluZXIgfTogeyBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDsgaWZyYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDsgfSApIHtcclxuICAgIGNvbnN0IGlmcmFtZVBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHk7XHJcbiAgICBpZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1pZnJhbWUtcGFyZW50JyApO1xyXG4gICAgaWZyYW1lUGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaWZyYW1lQ29udGFpbmVyICk7XHJcbiAgICByZXR1cm4gaWZyYW1lUGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRJbnZpc2libGVUb3BEaXYoIHRvcERpdjogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICB0aGlzLmludmlzaWJsZURpdiA9IHRvcERpdjtcclxuICAgIHRoaXMuaW52aXNpYmxlRGl2LnN0eWxlLnpJbmRleCA9ICc5OTAnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIGJsb2NrSW50ZXJhY3Rpb25EaXY6IEhUTUxFbGVtZW50ICkge1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiA9IGJsb2NrSW50ZXJhY3Rpb25EaXY7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnNldEF0dHJpYnV0ZSggJ3l0LWlmcmFtZS1pZCcsIHRoaXMuaWQgKTtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24hLnNldEF0dHJpYnV0ZSggJ3l0LWlmcmFtZS12aWRlby1uYW1lJywgdGhpcy52aWRlb05hbWUgKTtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24hLnNldEF0dHJpYnV0ZSggJ3l0LWlmcmFtZS12aWRlby1jaGFubmVsLW5hbWUnLCB0aGlzLmNoYW5uZWxOYW1lICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uIS5zZXRBdHRyaWJ1dGUoICd5dC1pZnJhbWUtdmlkZW8tdGh1bWItdXJsJywgdGhpcy52aWRlb1RodW1iICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uIS5zZXRBdHRyaWJ1dGUoICd5dC1pZnJhbWUtdmlkZW8tY2hhbm5lbC11cmwnLCB0aGlzLmNoYW5uZWxVUkwgKTtcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuekluZGV4ID0gJzk5NSc7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoIGV2dCApID0+IHtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25jbGlja2ludGVyYWN0aW9uYmxvY2tlZCcsIHRoaXMsIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKTtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25pbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGJsb2NrSW50ZXJhY3Rpb24oIHZhbDogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSB2YWw7XHJcblxyXG4gICAgaWYgKCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICkge1xyXG4gICAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbml0UGxheWVyKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZS5QbGF5ZXIoIHRoaXMuaWQsIHtcclxuICAgICAgdmlkZW9JZDogdGhpcy52aWRlb0lkLFxyXG4gICAgICB3aWR0aDogdGhpcy5kaW1lbnNpb25zLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQsXHJcbiAgICAgIHBsYXllclZhcnM6IHtcclxuICAgICAgICAncmVsJzogMCwgICAgICAgICAgICAvLyBEZXNhdGl2YSB2w61kZW9zIHJlbGFjaW9uYWRvc1xyXG4gICAgICAgICdpdl9sb2FkX3BvbGljeSc6IDMsIC8vIERlc2F0aXZhIHN1Z2VzdMO1ZXMgZGUgdsOtZGVvcyBkdXJhbnRlIGEgcGF1c2FcclxuICAgICAgICAnc2hvd2luZm8nOiAwLCAgICAgICAvLyBSZW1vdmUgaW5mb3JtYcOnw7VlcyBkbyB2w61kZW8gKHTDrXR1bG8sIGV0Yy4pXHJcbiAgICAgICAgJ2NvbnRyb2xzJzogMCwgICAgICAgLy8gUmVtb3ZlIG9zIGNvbnRyb2xlcyBkbyBwbGF5ZXJcclxuICAgICAgICAnYXV0b3BsYXknOiAwICAgICAgICAvLyBEZXNhdGl2YSBhIHJlcHJvZHXDp8OjbyBhdXRvbcOhdGljYVxyXG4gICAgICB9LFxyXG4gICAgICBldmVudHM6IHtcclxuICAgICAgICAnb25SZWFkeSc6IHRoaXMub25QbGF5ZXJSZWFkeS5iaW5kKCB0aGlzICksXHJcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UuYmluZCggdGhpcyApXHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzdGF0aWMgX3lvdXR1YmVBUElSZWZlcmVuY2U6IGFueTtcclxuXHJcbiAgc3RhdGljIGJ1aWxkSWZyYW1lcygpIHtcclxuICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc2NyaXB0JyApO1xyXG4gICAgdGFnLmlkID0gJ3l0SWZyYW1lQVBJJztcclxuXHJcbiAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XHJcbiAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ3NjcmlwdCcgKVswXTtcclxuICAgIGlmICggZmlyc3RTY3JpcHRUYWcgJiYgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZSApIHtcclxuICAgICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHRhZywgZmlyc3RTY3JpcHRUYWcgKTtcclxuICAgIH1cclxuXHJcbiAgICB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCAnI3l0SWZyYW1lQVBJJyApLnRoZW4oICgpID0+IHtcclxuICAgICAgcG9sbEZvclZhcmlhYmxlPGFueT4oICdZVCcsXHJcbiAgICAgICAgKCB2YWx1ZTogYW55ICkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5QbGF5ZXIgPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZVxyXG4gICAgICAgICAgICAmJiB2YWx1ZS5QbGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID09PSB2YWx1ZS5QbGF5ZXJcclxuICAgICAgICAgICAgJiYgdmFsdWUubG9hZGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKCB2YWx1ZSApID0+IHtcclxuICAgICAgICAgIFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UgPSB2YWx1ZTtcclxuICAgICAgICAgIFlvdXR1YmVJZnJhbWUuc2V0WW91dHViZUlmcmFtZUVsZW1lbnRzKCk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldFlvdXR1YmVJZnJhbWVFbGVtZW50cygpIHtcclxuICAgIHRoaXMuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5mb3JFYWNoKCAoIHZhbCwga2V5ICkgPT4ge1xyXG4gICAgICB2YWwuc2V0SW52aXNpYmxlVG9wRGl2KCB0aGlzLmdldEludmlzaWJsZVRvcERpdiggdmFsICkgKTtcclxuICAgICAgdmFsLnNldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIHRoaXMuZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggdmFsICkgKTtcclxuICAgICAgdmFsLmluaXRQbGF5ZXIoKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnZpc2libGVUb3BEaXYoIHl0SWZyYW1lOiBZb3V0dWJlSWZyYW1lICk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggeXRJZnJhbWUuaWQgKSEucGFyZW50RWxlbWVudCEsXHJcbiAgICAgIGlkOiBgaW52aXNpYmxlVG9wRGl2SG9sZFRvRHJhZyR7IHl0SWZyYW1lLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogeXRJZnJhbWUuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiB5dElmcmFtZS5kaW1lbnNpb25zLmhlaWdodCAqIDAuMiB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc3RhdGljIGdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIHl0SWZyYW1lOiBZb3V0dWJlSWZyYW1lICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGVsZW1lbnRJbnZpc2libGVEaXYgPSBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggeXRJZnJhbWUuaWQgKSEucGFyZW50RWxlbWVudCEsXHJcbiAgICAgIGlkOiBgaW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiR7IHl0SWZyYW1lLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogeXRJZnJhbWUuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiB5dElmcmFtZS5kaW1lbnNpb25zLmhlaWdodCB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgZWxlbWVudEludmlzaWJsZURpdi5jbGFzc0xpc3QuYWRkKCAneXQtZGl2LWJsb2NrLWludGVyYWN0aW9uJyApO1xyXG5cclxuICAgIHJldHVybiBlbGVtZW50SW52aXNpYmxlRGl2O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IFlvdXR1YmVJZnJhbWVTd2l0Y2hlciwgWW91dHViZUlmcmFtZVN5bmMgfTsiLCJpbXBvcnQgeyBZb3V0dWJlSWZyYW1lLCBZb3V0dWJlSWZyYW1lT3B0aW9ucyB9IGZyb20gJy4vWW91dHViZUlmcmFtZSc7XHJcbmltcG9ydCB7IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB9IGZyb20gJy4vVHlwZXMnO1xyXG5pbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWW91dHViZUlmcmFtZVN3aXRjaGVyT3B0aW9ucyB7XHJcbiAgc3dpdGNoQmV0d2VlbjogWW91dHViZUlmcmFtZVtdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUlmcmFtZVN3aXRjaGVyIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB7XHJcbiAgcHVibGljIHN3aXRjaEJldHdlZW46IFlvdXR1YmVJZnJhbWVbXTtcclxuXHJcbiAgY29uc3RydWN0b3IoIGlmcmFtZU9wdGlvbnM6IFlvdXR1YmVJZnJhbWVTd2l0Y2hlck9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuc3dpdGNoQmV0d2VlbiA9IGlmcmFtZU9wdGlvbnMuc3dpdGNoQmV0d2VlbjtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5LnB1c2goIHRoaXMgKTtcclxuICB9XHJcblxyXG4gIC8vLyBDYWxsZWQgb25jZSB3aGVuIHsgY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSgpIH0gZnJvbSBZb3V0dWJlSWZyYW1lIGRldGVjdHMgdGhhdCBldmVyeSBpZnJhbWUgaXMgcmVhZHlcclxuICBzZXR1cCggX2RpY3RFdmVyeUlmcmFtZTogTWFwPHN0cmluZywgWW91dHViZUlmcmFtZT4gKTogdm9pZCB7XHJcbiAgICB0aGlzLnN3aXRjaEJldHdlZW4uZm9yRWFjaCggKCBpZnJhbWVUb1BsYXkgKSA9PiBpZnJhbWVUb1BsYXkuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGxheScsICgpID0+IHtcclxuICAgICAgY29uc3QgaWZyYW1lc1RvUGF1c2UgPSB0aGlzLnN3aXRjaEJldHdlZW4uZmlsdGVyKCBzID0+IHMuaWQgIT09IGlmcmFtZVRvUGxheS5pZCApO1xyXG5cclxuICAgICAgaWZyYW1lc1RvUGF1c2UuZm9yRWFjaCggaSA9PiBpLnBhdXNlKCkgKTtcclxuXHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uYWx0ZXJuYXRlJywgdGhpcywgaWZyYW1lVG9QbGF5LCBpZnJhbWVzVG9QYXVzZSApO1xyXG4gICAgICBpZnJhbWVUb1BsYXkuY2FsbEV2ZW50c0J5TmFtZSggJ29uYWx0ZXJuYXRlJywgdGhpcywgaWZyYW1lVG9QbGF5LCBpZnJhbWVzVG9QYXVzZSApO1xyXG4gICAgfSApICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lIH07IiwiaW1wb3J0IHsgWW91dHViZUlmcmFtZSwgWW91dHViZUlmcmFtZU9wdGlvbnMgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWUnO1xyXG5pbXBvcnQgeyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkgfSBmcm9tICcuL1R5cGVzJztcclxuaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFlvdXR1YmVJZnJhbWVTeW5jT3B0aW9ucyBleHRlbmRzIFlvdXR1YmVJZnJhbWVPcHRpb25zIHtcclxuICBtYWluSWZyYW1lOiBZb3V0dWJlSWZyYW1lO1xyXG4gIHN1YklmcmFtZXM6IFlvdXR1YmVJZnJhbWUgfCBZb3V0dWJlSWZyYW1lW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlSWZyYW1lU3luYyBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIgaW1wbGVtZW50cyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkge1xyXG4gIC8vLyBXaGVuIGNoYW5nZSB0cmlnZ2VyIHRoZSBldmVudHMgb2YgYWxsIHN1Yi1pZnJhbWVzIGFuZCBjaGFuZ2UgdGhlbSBhbGxcclxuICBwdWJsaWMgcmVhZG9ubHkgbWFpbklmcmFtZTogWW91dHViZUlmcmFtZTtcclxuXHJcbiAgLy8vIFdoZW4gb25lIHN1Yi1pZnJhbWUgY2hhbmdlIGl0IGNoYW5nZXMgdGhlIHN0YXRlIG9ubHkgb2YgbWFpbklmcmFtZSwgYnV0ICBhbGwgb3RoZXJzIHN1Yi1pZnJhbWVzIHdpbGwgbm90IHN5bmNcclxuICBwdWJsaWMgcmVhZG9ubHkgc3ViSWZyYW1lczogWW91dHViZUlmcmFtZVtdO1xyXG5cclxuICBjb25zdHJ1Y3RvciggaWZyYW1lT3B0aW9uczogWW91dHViZUlmcmFtZVN5bmNPcHRpb25zICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLm1haW5JZnJhbWUgPSBpZnJhbWVPcHRpb25zLm1haW5JZnJhbWU7XHJcbiAgICB0aGlzLnN1YklmcmFtZXMgPSBBcnJheS5pc0FycmF5KCBpZnJhbWVPcHRpb25zLnN1YklmcmFtZXMgKSA/IGlmcmFtZU9wdGlvbnMuc3ViSWZyYW1lcyA6IFtpZnJhbWVPcHRpb25zLnN1YklmcmFtZXNdO1xyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkucHVzaCggdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgLy8vIENhbGxlZCBvbmNlIHdoZW4geyBjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCkgfSBmcm9tIFlvdXR1YmVJZnJhbWUgZGV0ZWN0cyB0aGF0IGV2ZXJ5IGlmcmFtZSBpcyByZWFkeVxyXG4gIHNldHVwKCBfZGljdEV2ZXJ5SWZyYW1lOiBNYXA8c3RyaW5nLCBZb3V0dWJlSWZyYW1lPiApOiB2b2lkIHtcclxuICAgIHRoaXMuc3luY1N1YklmcmFtZXMoKTtcclxuICAgIHRoaXMuc3luY0V2ZW50c1dpdGhNYWluSWZyYW1lKCk7XHJcbiAgfVxyXG5cclxuICBzeW5jU3ViSWZyYW1lcygpIHtcclxuICAgIHRoaXMuc3ViSWZyYW1lcy5mb3JFYWNoKCBzdWJJZnJhbWUgPT4ge1xyXG4gICAgICBzdWJJZnJhbWUuc2VlayggdGhpcy5tYWluSWZyYW1lLnN0YXJ0c0F0LCB0cnVlICk7XHJcbiAgICAgIHN1YklmcmFtZS5wYXVzZSgpO1xyXG5cclxuICAgICAgc3ViSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXknLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluSWZyYW1lLnBsYXkoKTtcclxuICAgICAgICBzdWJJZnJhbWUuY2FsbEV2ZW50c0J5TmFtZSggJ29uc3luYycsIHN1YklmcmFtZSwgdGhpcy5tYWluSWZyYW1lLCAncGxheScsIHRoaXMuc3ViSWZyYW1lcyApO1xyXG4gICAgICB9ICk7XHJcblxyXG4gICAgICBzdWJJZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGF1c2UnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluSWZyYW1lLnBhdXNlKCk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCBzdWJJZnJhbWUsIHRoaXMubWFpbklmcmFtZSwgJ3BsYXknLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgc3luY0V2ZW50c1dpdGhNYWluSWZyYW1lKCkge1xyXG4gICAgdGhpcy5tYWluSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXknLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc3ViSWZyYW1lcy5mb3JFYWNoKCBzdWJJZnJhbWUgPT4ge1xyXG4gICAgICAgIHN1YklmcmFtZS5zZWVrKCB0aGlzLm1haW5JZnJhbWUucGxheWVyQ3VycmVudFRpbWUsIHRydWUgKTtcclxuICAgICAgICBzdWJJZnJhbWUucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCB0aGlzLm1haW5JZnJhbWUsIHN1YklmcmFtZSwgJ3BsYXknLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubWFpbklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25wYXVzZScsICgpID0+IHtcclxuICAgICAgdGhpcy5zdWJJZnJhbWVzLmZvckVhY2goIHN1YklmcmFtZSA9PiB7XHJcbiAgICAgICAgc3ViSWZyYW1lLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICBzdWJJZnJhbWUuY2FsbEV2ZW50c0J5TmFtZSggJ29uc3luYycsIHRoaXMubWFpbklmcmFtZSwgc3ViSWZyYW1lLCAncGF1c2UnLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMubWFpbklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25zZWVrJywgKCBzZWVrVGltZTogbnVtYmVyLCByZWxvYWRCdWZmZXI6IGJvb2xlYW4sIGNvbnNpZGVyU3RhcnRzQXQ6IGJvb2xlYW4gKSA9PiB7XHJcbiAgICAgIHRoaXMuc3ViSWZyYW1lcy5mb3JFYWNoKCBzdWJJZnJhbWUgPT4ge1xyXG4gICAgICAgIHNlZWtUaW1lICs9IGNvbnNpZGVyU3RhcnRzQXQgPyB0aGlzLm1haW5JZnJhbWUuc3RhcnRzQXQgOiAwO1xyXG5cclxuICAgICAgICBzdWJJZnJhbWUuc2Vlayggc2Vla1RpbWUsIHJlbG9hZEJ1ZmZlciApO1xyXG4gICAgICAgIHN1YklmcmFtZS5jYWxsRXZlbnRzQnlOYW1lKCAnb25zeW5jJywgdGhpcy5tYWluSWZyYW1lLCBzdWJJZnJhbWUsICdzZWVrJywgdGhpcy5zdWJJZnJhbWVzICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIGNvbnN0IGlmcmFtZVN5bmNXaXRoQ29udHJvbGxlciA9IFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5nZXQoIGlkSWZyYW1lU3luY1dpdGggKSE7XHJcblxyXG4vLyBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIuc2VlayggdGhpcy5zdGFydHNBdCA/PyAwLCB0cnVlICk7XHJcbi8vIGlmcmFtZVN5bmNXaXRoQ29udHJvbGxlci5wYXVzZSgpO1xyXG5cclxuLy8gdGhpcy5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5aW5nJywgKCBwbGF5aW5nT2JqZWN0OiBhbnkgKSA9PiB7XHJcbi8vICAgaWYgKCAhaWZyYW1lU3luY1dpdGhDb250cm9sbGVyLmlzUGxheWluZyApIHtcclxuLy8gICAgIGlmcmFtZVN5bmNXaXRoQ29udHJvbGxlci5zZWVrKCB0aGlzLnBsYXllckN1cnJlbnRUaW1lLCB0cnVlICk7XHJcbi8vICAgICBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbi8vICAgfVxyXG4vLyB9ICk7XHJcblxyXG4vLyB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBsYXknLCAoIHBsYXlpbmdPYmplY3Q6IGFueSApID0+IHtcclxuLy8gICBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbi8vIH0gKTtcclxuXHJcbi8vIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGF1c2UnLCAoIHBsYXlpbmdPYmplY3Q6IGFueSApID0+IHtcclxuLy8gICBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4vLyB9ICk7XHJcblxyXG4vLyBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGxheWluZycsICggcGxheWluZ09iamVjdDogYW55ICkgPT4ge1xyXG4vLyAgIGlmICggIXRoaXMuaXNQbGF5aW5nICkge1xyXG4vLyAgICAgdGhpcy5zZWVrKCBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIucGxheWVyQ3VycmVudFRpbWUsIHRydWUgKTtcclxuLy8gICAgIHRoaXMucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbi8vICAgfVxyXG4vLyB9ICk7XHJcblxyXG4vLyBpZnJhbWVTeW5jV2l0aENvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGxheScsICggcGxheWluZ09iamVjdDogYW55ICkgPT4ge1xyXG4vLyAgIHRoaXMucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbi8vIH0gKTtcclxuXHJcbi8vIGlmcmFtZVN5bmNXaXRoQ29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKCAnb25wYXVzZScsICggcGxheWluZ09iamVjdDogYW55ICkgPT4ge1xyXG4vLyAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4vLyB9ICk7XHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lIH07IiwiaW1wb3J0IHsgY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMgfSBmcm9tICcuLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IFBvaW50MkQgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBNb3ZhYmxlRWxlbWVudCwgTW92YWJsZU9wdGlvbnMgfSBmcm9tICcuL01vdmFibGVFbGVtZW50JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudERyYWdnaW5nU3RhdGUge1xyXG4gIHBvaW50ZXJJZD86IG51bWJlcjtcclxuICBkcmFnZ2luZzogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIE9uRHJvcEV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IERyYWdnYWJsZUVsZW1lbnQgKSA9PiB2b2lkICk7XHJcbmV4cG9ydCB0eXBlIE9uR3JhYkV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IERyYWdnYWJsZUVsZW1lbnQgKSA9PiB2b2lkICk7XHJcblxyXG5leHBvcnQgdHlwZSBEcmFnZ2FibGVPcHRpb25zID0ge1xyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIG9uRHJvcD86IE9uRHJvcEV2ZW50O1xyXG4gIG9uRHJhZz86IE9uR3JhYkV2ZW50O1xyXG4gIGFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEcmFnZ2FibGVFbGVtZW50IGV4dGVuZHMgTW92YWJsZUVsZW1lbnQge1xyXG4gIHB1YmxpYyBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBkcmFnZ2luZ1N0YXRlOiBFbGVtZW50RHJhZ2dpbmdTdGF0ZTtcclxuXHJcbiAgcHVibGljIGxhc3RTdGFydFBvaW50PzogUG9pbnQyRDtcclxuICBwdWJsaWMgb25Ecm9wPzogT25Ecm9wRXZlbnQ7XHJcbiAgcHVibGljIG9uRHJhZz86IE9uR3JhYkV2ZW50O1xyXG5cclxuICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IERyYWdnYWJsZU9wdGlvbnMgJiBNb3ZhYmxlT3B0aW9ucyApIHtcclxuICAgIGlmICggIW9wdGlvbnMuZWxlbWVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIk51bGwgZHJhZ2dhYmxlIGVsZW1lbnQuIFBsZWFzZSBwYXNzIGEgdmFsaWQgZWxlbWVudCBpbiBjb25zdHJ1Y3Rvci5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5hbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQgPSBvcHRpb25zLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCA/IG9wdGlvbnMuYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50IDogdHJ1ZTtcclxuXHJcbiAgICB0aGlzLmRyYWdnaW5nU3RhdGUgPSB7XHJcbiAgICAgIGRyYWdnaW5nOiBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5vbkRyYWcgPSBvcHRpb25zLm9uRHJhZztcclxuICAgIHRoaXMub25Ecm9wID0gb3B0aW9ucy5vbkRyb3A7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyZG93bicsIHRoaXMuc3RhcnQuYmluZCggdGhpcyApICk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIHRoaXMuZW5kLmJpbmQoIHRoaXMgKSApO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVyY2FuY2VsJywgdGhpcy5lbmQuYmluZCggdGhpcyApICk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlLmJpbmQoIHRoaXMgKSApXHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3RvdWNoc3RhcnQnLCAoIGUgKSA9PiBlLnByZXZlbnREZWZhdWx0KCkgKTtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnZHJhZ3N0YXJ0JywgKCBlICkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpICk7XHJcblxyXG4gICAgdGhpcy5pbnRlcnZhbFVwZGF0ZVBvc2l0aW9uID0gc2V0SW50ZXJ2YWwoIHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCggdGhpcyApLCAxMDAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBlbmFibGVkKCB2YWx1ZTogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHNldCBkcmFnZ2luZyggdmFsOiBib29sZWFuICkge1xyXG4gICAgaWYgKCAhdGhpcy5lbmFibGVkICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZ1N0YXRlLmRyYWdnaW5nID0gdmFsO1xyXG5cclxuICAgIGlmICggdGhpcy5kcmFnZ2luZyApIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoIFwiZHJhZ2dpbmdcIiApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIFwiZHJhZ2dpbmdcIiApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGRyYWdnaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2luZztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhcnQoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzTW91c2VFdmVudCA9IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudDtcclxuICAgIGNvbnN0IGlzTGVmdEJ1dHRvbiA9IGlzTW91c2VFdmVudCAmJiBldmVudC5idXR0b24gPT09IDA7XHJcbiAgICBjb25zdCBpc1BvaW50ZXJFdmVudCA9IGV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50O1xyXG5cclxuICAgIGlmICggaXNNb3VzZUV2ZW50ICYmICFpc0xlZnRCdXR0b24gKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoICF0aGlzLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCApIHtcclxuICAgICAgY29uc3QgaXNDb3JyZWN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQ7XHJcbiAgICAgIGlmICggIWlzQ29ycmVjdFRhcmdldCApIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbkRyYWcnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkRyYWcgKSB7XHJcbiAgICAgIHRoaXMub25EcmFnKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgLy8gZm9yIG5lc3RlZCBkcmFnZ2FibGVzXHJcblxyXG4gICAgbGV0IHsgeCwgeSB9ID0gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50ICk7XHJcblxyXG4gICAgdGhpcy5sYXN0U3RhcnRQb2ludCA9IHtcclxuICAgICAgeDogeCxcclxuICAgICAgeTogeVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhID0geyBkeDogdGhpcy5tb3ZpbmdTdGF0ZS5wb3MueCAtIHgsIGR5OiB0aGlzLm1vdmluZ1N0YXRlLnBvcy55IC0geSB9O1xyXG5cclxuICAgIGlmICggaXNQb2ludGVyRXZlbnQgKSB7XHJcbiAgICAgIHRoaXMuZHJhZ2dpbmdTdGF0ZS5wb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7IC8vIGtlZXAgdHJhY2sgb2YgZmluZ2VyXHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZSggZXZlbnQucG9pbnRlcklkICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7IC8vIGlmIHRoZXJlJ3MgdGV4dFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlbmQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnJzsgLy8gaWYgdGhlcmUncyB0ZXh0XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25Ecm9wJywgdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMub25Ecm9wICkge1xyXG4gICAgICB0aGlzLm9uRHJvcCggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgdXBkYXRlUG9zaXRpb24oKTogdm9pZCB7XHJcbiAgICBpZiAoIHRoaXMuZHJhZ2dpbmcgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlci51cGRhdGVQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG1vdmUoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApOiB2b2lkIHtcclxuICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzUG9pbnRlckV2ZW50ID0gZXZlbnQgaW5zdGFuY2VvZiBQb2ludGVyRXZlbnQ7XHJcblxyXG4gICAgaWYgKCAhdGhpcy5kcmFnZ2luZyApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMuYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50ICkge1xyXG4gICAgICBjb25zdCBpc0NvcnJlY3RUYXJnZXQgPSBldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudCB8fCAoIGlzUG9pbnRlckV2ZW50ICYmIHRoaXMuZHJhZ2dpbmdTdGF0ZS5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCApO1xyXG4gICAgICBpZiAoICFpc0NvcnJlY3RUYXJnZXQgKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGZvciBuZXN0ZWQgZHJhZ2dhYmxlc1xyXG5cclxuICAgIGxldCB7IHgsIHkgfSA9IGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzKCBldmVudCApO1xyXG5cclxuICAgIHN1cGVyLm1vdmVUb1Bvc2l0aW9uKCB4LCB5ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIG1ha2VFbGVtZW50RHJhZ2dhYmxlKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBEcmFnZ2FibGVFbGVtZW50IHtcclxuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlRWxlbWVudCggeyBlbGVtZW50IH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgbWFrZUVsZW1lbnREcmFnZ2FibGVCeVF1ZXJ5U2VsZWN0b3IoIHF1ZXJ5U2VsZWN0b3I6IHN0cmluZyApOiBEcmFnZ2FibGVFbGVtZW50IHwgbnVsbCB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggcXVlcnlTZWxlY3RvciApO1xyXG5cclxuICAgIGlmICggIWVsZW1lbnQgKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgRHJhZ2dhYmxlRWxlbWVudCggeyBlbGVtZW50OiBlbGVtZW50IGFzIEhUTUxFbGVtZW50IH0gKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcbmltcG9ydCB7IGdldERpc3RhbmNlRnJvbUJvcmRlciwgZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQsIHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSB9IGZyb20gJy4uL1Rvb2xzL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgUG9pbnQyRCB9IGZyb20gJy4uL1Rvb2xzL01hdGhUb29scyc7XHJcbmV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudE1vdmluZ1N0YXRlIHtcclxuICBwb3M6IFBvaW50MkQ7XHJcbiAgZGVsdGE6IHtcclxuICAgIGR4OiBudW1iZXIsXHJcbiAgICBkeTogbnVtYmVyXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTW92YWJsZU9wdGlvbnMgPSB7XHJcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgb25CZWZvcmVNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcbiAgb25BZnRlck1vdmU/OiBPbk1vdmVFdmVudDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIE9uTW92ZUV2ZW50ID0gKCAoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBkcmFnZ2FibGU6IE1vdmFibGVFbGVtZW50ICkgPT4gdm9pZCApO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmFibGVFbGVtZW50IGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciB7XHJcbiAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHByb3RlY3RlZCBtb3ZpbmdTdGF0ZTogRWxlbWVudE1vdmluZ1N0YXRlO1xyXG4gIHB1YmxpYyBpbnRlcnZhbFVwZGF0ZVBvc2l0aW9uOiBOb2RlSlMuVGltZW91dDtcclxuICBwdWJsaWMgb25CZWZvcmVNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcbiAgcHVibGljIG9uQWZ0ZXJNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBNb3ZhYmxlT3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgaWYgKCAhb3B0aW9ucy5lbGVtZW50ICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiTnVsbCBtb3ZhYmxlIGVsZW1lbnQuIFBsZWFzZSBwYXNzIGEgdmFsaWQgZWxlbWVudCBpbiBjb25zdHJ1Y3Rvci5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcclxuICAgIHRoaXMub25CZWZvcmVNb3ZlID0gb3B0aW9ucy5vbkJlZm9yZU1vdmU7XHJcbiAgICB0aGlzLm9uQWZ0ZXJNb3ZlID0gb3B0aW9ucy5vbkFmdGVyTW92ZTtcclxuXHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlID0ge1xyXG4gICAgICBwb3M6IHtcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IDBcclxuICAgICAgfSxcclxuICAgICAgZGVsdGE6IHtcclxuICAgICAgICBkeDogMCxcclxuICAgICAgICBkeTogMFxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbiA9IHNldEludGVydmFsKCB0aGlzLnVwZGF0ZVBvc2l0aW9uLmJpbmQoIHRoaXMgKSwgMjAwICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBvc2l0aW9uKCk6IFBvaW50MkQge1xyXG4gICAgcmV0dXJuIHRoaXMubW92aW5nU3RhdGUucG9zO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBwb3NpdGlvbiggbmV3UG9zOiBQb2ludDJEICkge1xyXG4gICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbiggbmV3UG9zLngsIG5ld1Bvcy55IClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgeCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubW92aW5nU3RhdGUucG9zLng7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IHgoIG5ld1g6IG51bWJlciApIHtcclxuICAgIHRoaXMubW92ZVRvUG9zaXRpb24oIG5ld1gsIHRoaXMueSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB5KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5tb3ZpbmdTdGF0ZS5wb3MueTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgeSggbmV3WTogbnVtYmVyICkge1xyXG4gICAgdGhpcy5tb3ZlVG9Qb3NpdGlvbiggdGhpcy54LCBuZXdZICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRyYW5zbGF0ZSggbmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbkJlZm9yZU1vdmUnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkJlZm9yZU1vdmUgKSB7XHJcbiAgICAgIHRoaXMub25CZWZvcmVNb3ZlKCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlc2V0VHJhbnNsYXRlKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtICs9IGB0cmFuc2xhdGUoJHsgbmV3WCB9cHgsICR7IG5ld1kgfXB4KWA7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25BZnRlck1vdmUnLCB0aGlzLmVsZW1lbnQsIHRoaXMgKTtcclxuICAgIGlmICggdGhpcy5vbkFmdGVyTW92ZSApIHtcclxuICAgICAgdGhpcy5vbkFmdGVyTW92ZSggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRyYW5zbGF0ZUJ5UG9pbnQyRCggcG9pbnQ6IFBvaW50MkQgKSB7XHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZSggcG9pbnQueCwgcG9pbnQueSApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHVwZGF0ZVBvc2l0aW9uKCk6IHZvaWQge1xyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgPSBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggdGhpcy5lbGVtZW50ICk7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR4ID0gMDtcclxuICAgIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHkgPSAwO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNldFRyYW5zbGF0ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLnJlcGxhY2UoIHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSwgJycgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtb3ZlVG9Qb3NpdGlvbiggeDogbnVtYmVyLCB5OiBudW1iZXIgKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLnBvcyA9IHsgeDogeCArIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHgsIHk6IHkgKyB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR5IH07XHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZUJ5UG9pbnQyRCggdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtb3ZlVG9Qb2ludDJEKCBwb2ludDogUG9pbnQyRCApOiB2b2lkIHtcclxuICAgIHRoaXMubW92aW5nU3RhdGUucG9zID0geyB4OiBwb2ludC54ICsgdGhpcy5tb3ZpbmdTdGF0ZS5kZWx0YS5keCwgeTogcG9pbnQueSArIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHkgfTtcclxuICAgIHRoaXMuc2V0VHJhbnNsYXRlQnlQb2ludDJEKCB0aGlzLm1vdmluZ1N0YXRlLnBvcyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdmVUb1RhcmdldEVsZW1lbnQoIHRhcmdldDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uID0gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIHRoaXMuZWxlbWVudCApO1xyXG4gICAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyID0gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCB0aGlzLmVsZW1lbnQsIHRhcmdldCApO1xyXG4gICAgY29uc3QgdGFyZ2V0UmlnaHRQb3NpdGlvbiA9IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbi54ICsgZGlzdGFuY2VGcm9tQm9yZGVyLnJpZ2h0O1xyXG4gICAgY29uc3QgdGFyZ2V0Qm90dG9tUG9zaXRpb24gPSBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24ueSArIGRpc3RhbmNlRnJvbUJvcmRlci5ib3R0b207XHJcblxyXG4gICAgdGhpcy5zZXRUcmFuc2xhdGVCeVBvaW50MkQoIHtcclxuICAgICAgeDogTWF0aC5yb3VuZCggdGFyZ2V0UmlnaHRQb3NpdGlvbiAtIHRhcmdldFJlY3Qud2lkdGggKSxcclxuICAgICAgeTogTWF0aC5yb3VuZCggdGFyZ2V0Qm90dG9tUG9zaXRpb24gLSB0YXJnZXRSZWN0LmhlaWdodCApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbW92ZVRvQ2VudGVyT2ZUYXJnZXRFbGVtZW50KCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IHZvaWQge1xyXG4gICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbiA9IGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50KCB0aGlzLmVsZW1lbnQgKTtcclxuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlciA9IGdldERpc3RhbmNlRnJvbUJvcmRlciggdGhpcy5lbGVtZW50LCB0YXJnZXQgKTtcclxuICAgIGNvbnN0IHRhcmdldFJpZ2h0UG9zaXRpb24gPSBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24ueCArIGRpc3RhbmNlRnJvbUJvcmRlci5yaWdodDtcclxuICAgIGNvbnN0IHRhcmdldEJvdHRvbVBvc2l0aW9uID0gZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uLnkgKyBkaXN0YW5jZUZyb21Cb3JkZXIuYm90dG9tO1xyXG5cclxuICAgIHRoaXMuc2V0VHJhbnNsYXRlQnlQb2ludDJEKCB7XHJcbiAgICAgIHg6IE1hdGgucm91bmQoIHRhcmdldFJpZ2h0UG9zaXRpb24gLSAoIHRhcmdldFJlY3Qud2lkdGggLyAyICkgKSxcclxuICAgICAgeTogTWF0aC5yb3VuZCggdGFyZ2V0Qm90dG9tUG9zaXRpb24gLSAoIHRhcmdldFJlY3QuaGVpZ2h0IC8gMiApIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGF0aWMgbWFrZUVsZW1lbnRNb3ZhYmxlKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBNb3ZhYmxlRWxlbWVudCB7XHJcbiAgICByZXR1cm4gbmV3IE1vdmFibGVFbGVtZW50KCB7IGVsZW1lbnQgfSApO1xyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgY2xhc3MgT2JqZWN0RXZlbnRMaXN0ZW5lciB7XHJcbiAgcHVibGljIGV2ZW50c0J5TmFtZTogTWFwPHN0cmluZywgRnVuY3Rpb25bXT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWU6IHN0cmluZywgZXZlbnQ6IEZ1bmN0aW9uICkge1xyXG4gICAgaWYgKCAhdGhpcy5ldmVudHNCeU5hbWUuaGFzKCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApICkge1xyXG4gICAgICB0aGlzLmV2ZW50c0J5TmFtZS5zZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBbZXZlbnRdICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmV2ZW50c0J5TmFtZS5nZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkhLnB1c2goIGV2ZW50ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0RXZlbnRzQnlOYW1lKCBldmVudE5hbWU6IHN0cmluZyApOiBGdW5jdGlvbltdIHtcclxuICAgIGlmICggIXRoaXMuZXZlbnRzQnlOYW1lLmhhcyggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSApIHtcclxuICAgICAgdGhpcy5ldmVudHNCeU5hbWUuc2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSwgW10gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5ldmVudHNCeU5hbWUuZ2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApITtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgY2FsbEV2ZW50c0J5TmFtZSggZXZlbnROYW1lOiBzdHJpbmcsIC4uLmV2ZW50QXJnczogYW55W10gKTogdm9pZCB7XHJcbiAgICB0aGlzLmdldEV2ZW50c0J5TmFtZSggZXZlbnROYW1lICkuZm9yRWFjaCggZSA9PiBlKCAuLi5ldmVudEFyZ3MgKSApO1xyXG4gIH1cclxufSIsImltcG9ydCB7IERpbWVuc2lvbnMsIFBvaW50MkQsIGxlcnAsIHJlZ2V4TnVtYmVyUGF0dGVybiwgcm90YXRlQ29vcmRpbmF0ZXMsIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRvUGhvbmVOdW1iZXIgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIEJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi4vRXh0cmFzL0NvbGxpc2lvbkV2ZW50cy9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcbmV4cG9ydCBjb25zdCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0gPSAvdHJhbnNsYXRlXFwoW14pXSpcXCkvZztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSA9IC9yb3RhdGVcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUgPSAvcm90YXRlWFxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSA9IC9yb3RhdGVZXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWlZhbHVlID0gL3JvdGF0ZVpcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuXHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXl1cCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSggeyBrZXksIGtleWRvd246IGV2ZW50S2V5ZG93biwga2V5dXA6IGV2ZW50S2V5dXAsIGV4ZWN1dGVPbmx5T25jZSA9IHRydWUgfTogeyBrZXk6IHN0cmluZzsga2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBrZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjazsgZXhlY3V0ZU9ubHlPbmNlPzogYm9vbGVhbjsgfSApIHtcclxuICBpZiAoIGV4ZWN1dGVPbmx5T25jZSApIHtcclxuICAgIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleSwgZXZlbnRLZXlkb3duLCBldmVudEtleXVwICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2FmZVByb21pc2U8VD4gPSB7XHJcbiAgZGF0YTogKCkgPT4gVDtcclxuICBlcnJvcjogRXJyb3IgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHJvbWlzZTxUPiggcHJvbWlzZTogUHJvbWlzZTxUPiApOiBQcm9taXNlPFNhZmVQcm9taXNlPFQ+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwcm9taXNlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6ICgpID0+IGRhdGEsXHJcbiAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKCBlcnJvciApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoIFwiQ291bGRuJ3QgZmV0Y2gsIGNoZWNrIFNhZmVQcm9taXNlLmVycm9yIGZvciBkZXRhaWxzLlwiICk7IH0sXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoIFN0cmluZyggZXJyb3IgKSApXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tSFRNTCggaHRtbDogc3RyaW5nLCB0cmltOiBib29sZWFuID0gdHJ1ZSApIHtcclxuICBodG1sID0gdHJpbSA/IGh0bWwudHJpbSgpIDogaHRtbDtcclxuXHJcbiAgaWYgKCAhaHRtbCApIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGVtcGxhdGUnICk7XHJcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbDtcclxuICBjb25zdCByZXN1bHQgPSB0ZW1wbGF0ZS5jb250ZW50LmNoaWxkcmVuO1xyXG5cclxuICBpZiAoIHJlc3VsdC5sZW5ndGggPT09IDEgKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0WzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEFycmF5LmZyb20oIHJlc3VsdCApIGFzIEhUTUxFbGVtZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQoIGVsZW1lbnRJZDogc3RyaW5nICk6IERpbWVuc2lvbnMge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggZWxlbWVudElkICk7XHJcblxyXG4gIGlmICggIWVsZW1lbnQgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCBlbGVtZW50IGF0IGdldEVsZW1lbnREaW1lbnNpb25zQnlJZCB3aXRoIGlkOiBcIiArIGVsZW1lbnRJZCApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdldEVsZW1lbnREaW1lbnNpb25zKCBlbGVtZW50ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGltZW5zaW9ucyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogRGltZW5zaW9ucyB7XHJcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogRE9NUmVjdCB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgY2VudGVyWCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xyXG4gIGNvbnN0IGNlbnRlclkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuXHJcbiAgLy8gUm90YXRpb24gYW5nbGUgaW4gZGVncmVlcyAoZXh0cmFjdGVkIGZyb20gc3R5bGUudHJhbnNmb3JtIG9yIGFueSBvdGhlciBzb3VyY2UpXHJcbiAgY29uc3Qgcm90YXRpb25BbmdsZSA9IGdldEJvZHlSb3RhdGlvbkluRGVncmVlcygpO1xyXG5cclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiByb3RhdGlvbkFuZ2xlO1xyXG4gIGNvbnN0IGNvc1RoZXRhID0gTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICBjb25zdCBzaW5UaGV0YSA9IE1hdGguc2luKCByYWRpYW5zICk7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgcm90YXRlZCBjb29yZGluYXRlc1xyXG4gIGNvbnN0IHJvdGF0ZWRYMSA9IGNlbnRlclggKyAoIHJlY3QubGVmdCAtIGNlbnRlclggKSAqIGNvc1RoZXRhIC0gKCByZWN0LnRvcCAtIGNlbnRlclkgKSAqIHNpblRoZXRhO1xyXG4gIGNvbnN0IHJvdGF0ZWRZMSA9IGNlbnRlclkgKyAoIHJlY3QubGVmdCAtIGNlbnRlclggKSAqIHNpblRoZXRhICsgKCByZWN0LnRvcCAtIGNlbnRlclkgKSAqIGNvc1RoZXRhO1xyXG5cclxuICBjb25zdCByb3RhdGVkWDIgPSBjZW50ZXJYICsgKCByZWN0LnJpZ2h0IC0gY2VudGVyWCApICogY29zVGhldGEgLSAoIHJlY3QuYm90dG9tIC0gY2VudGVyWSApICogc2luVGhldGE7XHJcbiAgY29uc3Qgcm90YXRlZFkyID0gY2VudGVyWSArICggcmVjdC5yaWdodCAtIGNlbnRlclggKSAqIHNpblRoZXRhICsgKCByZWN0LmJvdHRvbSAtIGNlbnRlclkgKSAqIGNvc1RoZXRhO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgbGVmdCwgdG9wLCBib3R0b20sIGFuZCByaWdodCBjb29yZGluYXRlc1xyXG4gIGNvbnN0IHJvdGF0ZWRMZWZ0ID0gTWF0aC5taW4oIHJvdGF0ZWRYMSwgcm90YXRlZFgyICk7XHJcbiAgY29uc3Qgcm90YXRlZFRvcCA9IE1hdGgubWluKCByb3RhdGVkWTEsIHJvdGF0ZWRZMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRCb3R0b20gPSBNYXRoLm1heCggcm90YXRlZFkxLCByb3RhdGVkWTIgKTtcclxuICBjb25zdCByb3RhdGVkUmlnaHQgPSBNYXRoLm1heCggcm90YXRlZFgxLCByb3RhdGVkWDIgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHJvdGF0ZWRMZWZ0LFxyXG4gICAgeTogcm90YXRlZFRvcCxcclxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcclxuICAgIHRvSlNPTjogcmVjdC50b0pTT04sXHJcbiAgICBsZWZ0OiByb3RhdGVkTGVmdCxcclxuICAgIHRvcDogcm90YXRlZFRvcCxcclxuICAgIGJvdHRvbTogcm90YXRlZEJvdHRvbSxcclxuICAgIHJpZ2h0OiByb3RhdGVkUmlnaHQsXHJcbiAgfSBhcyBET01SZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRBY3Rpb25LZXlSdW5PbmNlKCBrZXk6IHN0cmluZywgZXZlbnRLZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2ssIGV2ZW50S2V5dXA/OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UuaGFzKCBrZXkgKSApIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5zZXQoIGtleSwgW2V2ZW50S2V5ZG93biwgLi4uZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLmdldCgga2V5ICkhXSApXHJcbiAgfSBlbHNlIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5zZXQoIGtleSwgW2V2ZW50S2V5ZG93bl0gKVxyXG4gIH1cclxuXHJcbiAgaWYgKCBldmVudEtleXVwICkge1xyXG4gICAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuaGFzKCBrZXkgKSApIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cCwgLi4uZGljdEtleXNCeUFjdGlvbktleXVwLmdldCgga2V5ICkhXSApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwXSApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5OiBzdHJpbmcsIGV2ZW50S2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrLCBldmVudEtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrICkge1xyXG4gIGlmICggZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuaGFzKCBrZXkgKSApIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LnNldCgga2V5LCBbZXZlbnRLZXlkb3duLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5nZXQoIGtleSApIV0gKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5zZXQoIGtleSwgW2V2ZW50S2V5ZG93bl0gKVxyXG4gIH1cclxuXHJcbiAgaWYgKCBldmVudEtleXVwICkge1xyXG4gICAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuaGFzKCBrZXkgKSApIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cCwgLi4uZGljdEtleXNCeUFjdGlvbktleXVwLmdldCgga2V5ICkhXSApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwXSApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDEgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGVsZW1lbnQyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDIgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gIShcclxuICAgIHJlY3QxLnRvcCA+IHJlY3QyLmJvdHRvbSB8fFxyXG4gICAgcmVjdDEucmlnaHQgPCByZWN0Mi5sZWZ0IHx8XHJcbiAgICByZWN0MS5ib3R0b20gPCByZWN0Mi50b3AgfHxcclxuICAgIHJlY3QxLmxlZnQgPiByZWN0Mi5yaWdodFxyXG4gICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb2xsRm9yVmFyaWFibGU8VD4oIHZhcmlhYmxlTmFtZTogc3RyaW5nLCByZWFkeUNvbmRpdGlvbjogKCB2YWx1ZTogVCApID0+IGJvb2xlYW4sIGNhbGxiYWNrOiAoIHZhbHVlOiBUICkgPT4gdm9pZCApIHtcclxuICBjb25zdCBwb2xsSW50ZXJ2YWwgPSAxMDA7XHJcbiAgY29uc3QgcG9sbCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICBpZiAoICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gIT09IHVuZGVmaW5lZCAmJiByZWFkeUNvbmRpdGlvbiggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSApICkge1xyXG4gICAgICAvLyBJZiBib3RoIGNvbmRpdGlvbnMgYXJlIG1ldCwgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgYW5kIHN0b3AgcG9sbGluZ1xyXG4gICAgICBjbGVhckludGVydmFsKCBwb2xsICk7XHJcbiAgICAgIGNhbGxiYWNrKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICk7XHJcbiAgICB9XHJcbiAgfSwgcG9sbEludGVydmFsICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCBzZWxlY3Rvcjogc3RyaW5nICkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgIHJldHVybiByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlciggbXV0YXRpb25zID0+IHtcclxuICAgICAgaWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICkge1xyXG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKCBkb2N1bWVudC5ib2R5LCB7XHJcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgfSApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBkcmFnZ2FibGUgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIHRhcmdldCApO1xyXG5cclxuICBjb25zdCBpc1RvcCA9IHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS50b3AgPCByZWN0Mi50b3AgKyByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzUmlnaHQgPSByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5yaWdodCAtIHJlY3QyLndpZHRoIC8gMztcclxuICBjb25zdCBpc0NlbnRlciA9IHJlY3QxLnRvcCA8IHJlY3QyLmJvdHRvbSAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi50b3AgJiYgcmVjdDEubGVmdCA8IHJlY3QyLnJpZ2h0ICYmIHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdDtcclxuICBjb25zdCBpc0JvdHRvbSA9IHJlY3QxLnRvcCA8IHJlY3QyLmJvdHRvbSAtIHJlY3QyLmhlaWdodCAvIDMgJiYgcmVjdDEuYm90dG9tID4gcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMztcclxuICBjb25zdCBpc0xlZnQgPSByZWN0MS5yaWdodCA+IHJlY3QyLmxlZnQgJiYgcmVjdDEubGVmdCA8IHJlY3QyLmxlZnQgKyByZWN0Mi53aWR0aCAvIDM7XHJcblxyXG4gIHJldHVybiB7IHRvcDogaXNUb3AsIHJpZ2h0OiBpc1JpZ2h0LCBjZW50ZXI6IGlzQ2VudGVyLCBib3R0b206IGlzQm90dG9tLCBsZWZ0OiBpc0xlZnQgfTtcclxufVxyXG5cclxuLy8vIHJldHVybiB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkcmFnZ2FibGUgdG8gdGhlIGNlbnRlciBvZiB0aGUgdGFyZ2V0IGVsZW1lbnQgZnJvbSBlYWNoIGJvcmRlciBcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlRnJvbUJvcmRlciggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBCb3JkZXJEaXN0YW5jZSB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBkcmFnZ2FibGUgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIHRhcmdldCApO1xyXG5cclxuICBjb25zdCBjZW50ZXIgPSB7XHJcbiAgICB4OiByZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGggLyAyLFxyXG4gICAgeTogcmVjdDEudG9wICsgcmVjdDEuaGVpZ2h0IC8gMixcclxuICB9O1xyXG5cclxuICBjb25zdCBkaXN0YW5jZUZyb21Cb3JkZXI6IEJvcmRlckRpc3RhbmNlID0ge1xyXG4gICAgdG9wOiBjZW50ZXIueSAtIHJlY3QyLnRvcCxcclxuICAgIHJpZ2h0OiByZWN0Mi5yaWdodCAtIGNlbnRlci54LFxyXG4gICAgYm90dG9tOiByZWN0Mi5ib3R0b20gLSBjZW50ZXIueSxcclxuICAgIGxlZnQ6IGNlbnRlci54IC0gcmVjdDIubGVmdCxcclxuICB9O1xyXG5cclxuICByZXR1cm4gZGlzdGFuY2VGcm9tQm9yZGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQ6IEtleWJvYXJkRXZlbnQgKSB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQ6IEtleWJvYXJkRXZlbnQgKSB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBpZiAoICFldnQucmVwZWF0ICkge1xyXG4gICAgcnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyggZXZ0ICk7XHJcbiAgfVxyXG5cclxuICBydW5LZXlkb3duQWN0aW9uc1JlcGVhdCggZXZ0ICk7XHJcbn0gKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5dXAnLCBldnQgPT4ge1xyXG4gIGZvciAoIGNvbnN0IHBhaXIgb2YgZGljdEtleXNCeUFjdGlvbktleXVwICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59ICk7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSb3RhdGlvbkluRGVncmVlcyggZWxlbWVudDogSFRNTEVsZW1lbnQsIGF4aXM6ICd4JyB8ICd5JyB8ICd6JyA9ICd4JyApOiBudW1iZXIge1xyXG4gIGxldCByZWdleE1hdGNoUm90YXRlVmFsdWU6IFJlZ0V4cDtcclxuICBzd2l0Y2ggKCBheGlzICkge1xyXG4gICAgY2FzZSAneCc6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAneSc6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAneic6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcblxyXG4gIGNvbnN0IG1hdGNoID0gcmVnZXhNYXRjaFJvdGF0ZVZhbHVlLmV4ZWMoIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtICk7XHJcbiAgaWYgKCBtYXRjaCApIHtcclxuICAgIGNvbnN0IHJvdGF0aW9uVmFsdWUgPSBwYXJzZUZsb2F0KCBtYXRjaFsxXSApO1xyXG4gICAgcmV0dXJuIHJvdGF0aW9uVmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkluRGVncmVlcygpOiBudW1iZXIge1xyXG4gIGNvbnN0IG1hdGNoID0gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkZyb21Cb2R5KCkuZXhlYyggZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkZyb21Cb2R5KCkge1xyXG4gIHJldHVybiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMoIGdldEJvZHlSb3RhdGlvbkF4aXMoKSApXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMoIGF4aXM6ICd4JyB8ICd5JyB8ICd6JyApIHtcclxuICBzd2l0Y2ggKCBheGlzICkge1xyXG4gICAgY2FzZSAneCc6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWFZhbHVlO1xyXG4gICAgY2FzZSAneSc6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWVZhbHVlO1xyXG4gICAgY2FzZSAneic6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWlZhbHVlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCb2R5Um90YXRpb25BeGlzKCk6ICd4JyB8ICd5JyB8ICd6JyB7XHJcbiAgcmV0dXJuIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGRvY3VtZW50LmJvZHkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6ICd4JyB8ICd5JyB8ICd6JyB7XHJcbiAgY29uc3QgZWxlbWVudFRyYW5zZm9ybSA9IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLnRvTG93ZXJDYXNlKCk7XHJcbiAgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneCcgKSApIHtcclxuICAgIHJldHVybiAneCc7XHJcbiAgfSBlbHNlIGlmICggZWxlbWVudFRyYW5zZm9ybS5pbmNsdWRlcyggJ3knICkgKSB7XHJcbiAgICByZXR1cm4gJ3knO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ3onO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBQb2ludDJEIHtcclxuICBjb25zdCBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZSA9ICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGVsZW1lbnQgKS50cmFuc2Zvcm0ubWF0Y2goIHJlZ2V4TnVtYmVyUGF0dGVybiApID8/IFswLCAwXSApLm1hcCggbiA9PiArbiApO1xyXG5cclxuICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG5cclxuICBpZiAoIGNoZWNrQm9keVJvdGF0aW9uICkge1xyXG4gICAgY29uc3QgYm9keUFuZ2xlID0gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBkb2N1bWVudC5ib2R5LCBnZXRFbGVtZW50Um90YXRpb25BeGlzKCBlbGVtZW50ICkgKSB8fCAwO1xyXG4gICAgcmV0dXJuIHJvdGF0ZUNvb3JkaW5hdGVzKCByZXN1bHQueCwgcmVzdWx0LnksIGJvZHlBbmdsZSApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzKCBldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgKSB7XHJcbiAgaWYgKCBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiBldmVudC5jbGllbnRYLFxyXG4gICAgICB5OiBldmVudC5jbGllbnRZXHJcbiAgICB9O1xyXG4gIH0gZWxzZSBpZiAoIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCApIHtcclxuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB0b3VjaC5jbGllbnRYLFxyXG4gICAgICB5OiB0b3VjaC5jbGllbnRZXHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBcIkV2ZW50IG5vdCBGb3VuZFwiO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCggeyBwYXJlbnRFbGVtZW50LCBpZCwgcG9zaXRpb24sIGRpbWVuc2lvbnMgfTogeyBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDsgaWQ6IHN0cmluZzsgcG9zaXRpb24/OiB7IHRvcDogbnVtYmVyOyBsZWZ0OiBudW1iZXI7IH07IGRpbWVuc2lvbnM/OiBEaW1lbnNpb25zOyB9ICkge1xyXG4gIHZhciBpbnZpc2libGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG5cclxuICBpZiAoICFwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uICkge1xyXG4gICAgcGFyZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcbiAgfVxyXG5cclxuICBpbnZpc2libGVEaXYuaWQgPSBpZDtcclxuICBpbnZpc2libGVEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS53aWR0aCA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9ucy53aWR0aCA/IGRpbWVuc2lvbnMud2lkdGgudG9TdHJpbmcoKSArICdweCcgOiAnMTAwJSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9ucy5oZWlnaHQgPyBkaW1lbnNpb25zLmhlaWdodC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUudG9wID0gKCBwb3NpdGlvbj8udG9wLnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5sZWZ0ID0gKCBwb3NpdGlvbj8ubGVmdC50b1N0cmluZygpID8/ICcwJyApICsgJ3B4JztcclxuICBpbnZpc2libGVEaXYuc3R5bGUub3BhY2l0eSA9ICcwJzsgLy8gTWFrZSB0aGUgZGl2IGludmlzaWJsZVxyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nOyAvLyBBbGxvdyB0aGUgZGl2IHRvIGludGVyY2VwdCBtb3VzZSBldmVudHNcclxuXHJcbiAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCggaW52aXNpYmxlRGl2ICk7XHJcblxyXG4gIHJldHVybiBpbnZpc2libGVEaXY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICBlbGVtZW50LnN0eWxlLnpJbmRleCA9ICctMSc7XHJcbiAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSggJ2hpZGRlbicsICcnICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzbGVlcEFzeW5jKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPiggKCByZXNvbHZlICkgPT4gc2V0VGltZW91dCggKCkgPT4gcmVzb2x2ZSgpLCBtcyApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudHNCeUNoZWNrKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIG9uQ2hlY2s6IEZ1bmN0aW9uLCBvblVuY2hlY2s6IEZ1bmN0aW9uICkge1xyXG4gIGlmICggdHJpZ2dlckVsZW1lbnQuY2hlY2tlZCApIHtcclxuICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRyaWdnZXJHcm91cCA9IHRyaWdnZXJFbGVtZW50Lm5hbWVcclxuICAgID8gQXJyYXkuZnJvbSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggYFtuYW1lPVwiJHsgdHJpZ2dlckVsZW1lbnQubmFtZSB9XCJdYCApIClcclxuICAgIDogW3RyaWdnZXJFbGVtZW50XTtcclxuXHJcbiAgdHJpZ2dlckdyb3VwLmZvckVhY2goIHQgPT4gdC5hZGRFdmVudExpc3RlbmVyKCAnY2hhbmdlJywgZXZ0ID0+IHtcclxuICAgIGlmICggdHJpZ2dlckVsZW1lbnQuY2hlY2tlZCApIHtcclxuICAgICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvblVuY2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfVxyXG4gIH0gKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0SW5wdXRGb3JjZVBob25lTnVtYmVyRm9ybWF0KCBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgKSB7XHJcbiAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBwaG9uZUlucHV0ID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICBjb25zdCBjbGVhblBob25lSW5wdXQgPSBwaG9uZUlucHV0LnJlcGxhY2UoIC9cXEQvZywgJycgKTtcclxuICAgIGlmICggY2xlYW5QaG9uZUlucHV0Lmxlbmd0aCA+IDExICkge1xyXG4gICAgICBwaG9uZUlucHV0ID0gY2xlYW5QaG9uZUlucHV0LnNsaWNlKCAwLCAxMSApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwaG9uZU51bWJlckZvcm1hdHRlZCA9IHRvUGhvbmVOdW1iZXIoIHBob25lSW5wdXQgKTtcclxuXHJcbiAgICBpZiAoIHBob25lTnVtYmVyRm9ybWF0dGVkLmxlbmd0aCA9PT0gMTAgKSB7XHJcbiAgICAgIHBob25lTnVtYmVyRm9ybWF0dGVkID0gcGhvbmVOdW1iZXJGb3JtYXR0ZWQucmVwbGFjZUFsbCggJy0nLCAnJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmFsdWUgPSBwaG9uZU51bWJlckZvcm1hdHRlZDtcclxuICB9ICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNNb2JpbGVCcm93c2VyKCkge1xyXG4gIHJldHVybiAvQW5kcm9pZHxpUGhvbmUvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRGV2aWNlVHlwZSgpOiAnYW5kcm9pZCcgfCAnYXBwbGUnIHwgJ2Rlc2t0b3AnIHtcclxuICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8ICggd2luZG93IGFzIGFueSApLm9wZXJhO1xyXG5cclxuICBpZiAoIC9hbmRyb2lkL2kudGVzdCggdXNlckFnZW50ICkgKSB7XHJcbiAgICByZXR1cm4gJ2FuZHJvaWQnO1xyXG4gIH0gZWxzZSBpZiAoIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KCB1c2VyQWdlbnQgKSAmJiAhKCB3aW5kb3cgYXMgYW55ICkuTVNTdHJlYW0gKSB7XHJcbiAgICByZXR1cm4gJ2FwcGxlJztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuICdkZXNrdG9wJztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09uU2NyZWVuKCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICByZXR1cm4gKFxyXG4gICAgcmVjdC50b3AgPj0gMCAmJlxyXG4gICAgcmVjdC5sZWZ0ID49IDAgJiZcclxuICAgIHJlY3QuYm90dG9tIDw9ICggd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKSAmJlxyXG4gICAgcmVjdC5yaWdodCA8PSAoIHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCApXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50Vmlld0lmQ2hlY2tlZCggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnMgPSB7XHJcbiAgb25DaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH0sXHJcbiAgb25VbmNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfVxyXG59ICkge1xyXG4gIGJpbmRFbGVtZW50c0J5Q2hlY2soXHJcbiAgICB0cmlnZ2VyRWxlbWVudCxcclxuICAgIHRhcmdldEVsZW1lbnQsXHJcbiAgICAoIGVsOiBIVE1MRWxlbWVudCApID0+IHtcclxuICAgICAgZWwuY2xhc3NMaXN0LmFkZCggJ3Nob3cnICk7XHJcbiAgICAgIG9wdGlvbnMub25DaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgICAoIGVsOiBIVE1MRWxlbWVudCApID0+IHtcclxuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSggJ3Nob3cnICk7XHJcbiAgICAgIG9wdGlvbnMub25VbmNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVGcm9tUmFkaW9Hcm91cCggZ3JvdXBOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGBbbmFtZT0keyBncm91cE5hbWUgfV06Y2hlY2tlZGAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGlmICggZWwgKSB7XHJcbiAgICByZXR1cm4gZWwudmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbCggdGFyZ2V0WTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyICk6IHZvaWQge1xyXG4gIGNvbnN0IHN0YXJ0WSA9IHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuICBsZXQgc3RhcnRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgZnVuY3Rpb24gc3RlcCggY3VycmVudFRpbWU6IG51bWJlciApIHtcclxuICAgIGlmICggIXN0YXJ0VGltZSApIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcclxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oIGVsYXBzZWRUaW1lIC8gZHVyYXRpb24sIDEgKTtcclxuICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBsZXJwKCAwLCAxLCBwcm9ncmVzcyApO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKCAwLCBsZXJwKCBzdGFydFksIHRhcmdldFksIGVhc2VkUHJvZ3Jlc3MgKSApO1xyXG4gICAgaWYgKCBlbGFwc2VkVGltZSA8IGR1cmF0aW9uICkge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHN0ZXAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgbsOjbyB2YWkgc2VyIGNvbXBsZXRhZGEgY2FzbyBzZWphIGNoYW1hZGEgbm92YW1lbnRlIGVtIHsgZGVsYXkgfSBtaWxpc3NlZ3VuZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBkZWxheTogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgaW5EZWJvdW5jZTogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGNsZWFyVGltZW91dCggaW5EZWJvdW5jZSApO1xyXG4gICAgaW5EZWJvdW5jZSA9IHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICksIGRlbGF5ICk7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gUmV0b3JuYSB1bWEgZnVuw6fDo28gcXVlIHPDsyBwb2RlIHNlciBjb21wbGV0YWRhIHVtYSB2ZXogYSBjYWRhIHsgbGltaXQgfSBtaWxpc3NlZ3VuZG9zIFxyXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGVGYWN0b3J5KCBmdW5jOiBGdW5jdGlvbiwgbGltaXQ6IG51bWJlciApOiBGdW5jdGlvbiB7XHJcbiAgbGV0IGxhc3RGdW5jOiBudW1iZXI7XHJcbiAgbGV0IGxhc3RSYW46IG51bWJlcjtcclxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdpbmRvdztcclxuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICBpZiAoICFsYXN0UmFuICkge1xyXG4gICAgICBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XHJcbiAgICAgIGxhc3RSYW4gPSBEYXRlLm5vdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KCBsYXN0RnVuYyApO1xyXG4gICAgICBsYXN0RnVuYyA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCBEYXRlLm5vdygpIC0gbGFzdFJhbiA+PSBsaW1pdCApIHtcclxuICAgICAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgICAgIGxhc3RSYW4gPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgbGltaXQgLSAoIERhdGUubm93KCkgLSBsYXN0UmFuICkgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUbyggcG9zOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgZG9jdW1lbnQuYm9keS5zY3JvbGxUbygge1xyXG4gICAgdG9wOiBwb3MsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsVG9FbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgdXNlQnJvd3NlckRlZmF1bHRzOiBib29sZWFuID0gdHJ1ZSApOiB2b2lkIHtcclxuICBpZiAoICF1c2VCcm93c2VyRGVmYXVsdHMgKSB7XHJcbiAgICBjb25zdCB0YXJnZXRZID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gMTAwMDsgLy8gRHVyYcOnw6NvIGZpeGEgZW0gbWlsaXNzZWd1bmRvcyAoMSBzZWd1bmRvKVxyXG4gICAgc21vb3RoU2Nyb2xsKCB0YXJnZXRZLCBkdXJhdGlvbiApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQuYm9keS5zY3JvbGxUbygge1xyXG4gICAgdG9wOiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnksXHJcbiAgICBsZWZ0OiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0T3B0aW9uQnlUZXh0KCBpZFNlbGVjdEVsZW1lbnQ6IHN0cmluZywgc2VhcmNoVGV4dDogc3RyaW5nLCBjb250YWluczogYm9vbGVhbiA9IGZhbHNlICk6IHZvaWQge1xyXG4gIGNvbnN0IHNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaWRTZWxlY3RFbGVtZW50ICkgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcblxyXG4gIGlmICggIXNlbGVjdEVsZW1lbnQgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudG9TZWxlY3QgPSBbLi4uc2VsZWN0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnb3B0aW9uJyApXTtcclxuXHJcbiAgbGV0IHNlbGVjdGVkT3B0aW9uO1xyXG4gIGlmICggY29udGFpbnMgKSB7XHJcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnNFbGVtZW50b1NlbGVjdFxyXG4gICAgICAuZmlsdGVyKCBlbCA9PiBlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkgKSApWzBdLnZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnNFbGVtZW50b1NlbGVjdFxyXG4gICAgICAuZmlsdGVyKCBlbCA9PiBlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpID09PSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkgKVswXS52YWx1ZTtcclxuICB9XHJcblxyXG4gIHNlbGVjdEVsZW1lbnQudmFsdWUgPSBzZWxlY3RlZE9wdGlvbjtcclxufVxyXG5cclxuIiwiZXhwb3J0IGNvbnN0IHJlZ2V4TnVtYmVyUGF0dGVybiA9IC8tP1xcZCtcXC4/XFxkKi9nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpbWVuc2lvbnMge1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUm93KCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggaW5kZXggLyBncmlkV2lkdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Db2woIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBpbmRleCAlIGdyaWRXaWR0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvd0NvbFRvSW5kZXgoIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgd2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gKCByb3cgKiB3aWR0aCApICsgY29sO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ29vcmRpbmF0ZXNGcm9tUG9pbnQyRCggY29vcmRzOiBQb2ludDJELCBhbmdsZTogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIGFuZ2xlO1xyXG4gIGNvbnN0IG5ld1ggPSBjb29yZHMueCAqIE1hdGguY29zKCByYWRpYW5zICkgLSBjb29yZHMueSAqIE1hdGguc2luKCByYWRpYW5zICk7XHJcbiAgY29uc3QgbmV3WSA9IGNvb3Jkcy54ICogTWF0aC5zaW4oIHJhZGlhbnMgKSArIGNvb3Jkcy55ICogTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICByZXR1cm4geyB4OiBuZXdYLCB5OiBuZXdZIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ29vcmRpbmF0ZXMoIHg6IG51bWJlciwgeTogbnVtYmVyLCBhbmdsZTogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIGFuZ2xlO1xyXG4gIGNvbnN0IG5ld1ggPSB4ICogTWF0aC5jb3MoIHJhZGlhbnMgKSAtIHkgKiBNYXRoLnNpbiggcmFkaWFucyApO1xyXG4gIGNvbnN0IG5ld1kgPSB4ICogTWF0aC5zaW4oIHJhZGlhbnMgKSArIHkgKiBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIHJldHVybiB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFyZURpYWdvbmFscyggaW5kZXgxOiBudW1iZXIsIGluZGV4MjogbnVtYmVyLCBncmlkU2l6ZTogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gIGlmICggaW5kZXgxIDwgMCB8fCBpbmRleDIgPCAwICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCAnSW52YWxpZCBjZWxsIGluZGljZXMnICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3cxID0gaW5kZXhUb1JvdyggaW5kZXgxLCBncmlkU2l6ZSApO1xyXG4gIGNvbnN0IGNvbDEgPSBpbmRleFRvQ29sKCBpbmRleDEsIGdyaWRTaXplICk7XHJcblxyXG4gIGNvbnN0IHJvdzIgPSBpbmRleFRvUm93KCBpbmRleDIsIGdyaWRTaXplICk7XHJcbiAgY29uc3QgY29sMiA9IGluZGV4VG9Db2woIGluZGV4MiwgZ3JpZFNpemUgKTtcclxuXHJcbiAgcmV0dXJuIE1hdGguYWJzKCByb3cxIC0gcm93MiApID09PSBNYXRoLmFicyggY29sMSAtIGNvbDIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Qb2ludDJEKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApOiBQb2ludDJEIHtcclxuICByZXR1cm4ge1xyXG4gICAgeDogaW5kZXhUb0NvbCggaW5kZXgsIGdyaWRXaWR0aCApLFxyXG4gICAgeTogaW5kZXhUb1JvdyggaW5kZXgsIGdyaWRXaWR0aCApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycCggbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBhbW91bnQ6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIDEgLSBhbW91bnQgKSAqIG1pbiArIGFtb3VudCAqIG1heDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2VMZXJwKCBhOiBudW1iZXIsIGI6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCB2YWwgLSBhICkgLyAoIGIgLSBhICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1hcCggaW5NaW46IG51bWJlciwgaW5NYXg6IG51bWJlciwgb3V0TWluOiBudW1iZXIsIG91dE1heDogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiBsZXJwKCBvdXRNaW4sIG91dE1heCwgaW52ZXJzZUxlcnAoIGluTWluLCBpbk1heCwgdmFsICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEV4Y2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBtYXggLSBtaW4gKSArIG1pbiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbFNldHM8VD4oIHNldDE6IFNldDxUPiwgc2V0MjogU2V0PFQ+ICkge1xyXG4gIHJldHVybiBzZXQxLnNpemUgPT09IHNldDIuc2l6ZSAmJlxyXG4gICAgWy4uLnNldDFdLmV2ZXJ5KCAoIHggKSA9PiBzZXQyLmhhcyggeCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRJbmNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICBtaW4gPSBNYXRoLmNlaWwoIG1pbiApO1xyXG4gIG1heCA9IE1hdGguZmxvb3IoIG1heCApO1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBtYXggLSBtaW4gKyAxICkgKSArIG1pbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUZyb21BcnJheTxUPiggYXJyOiBBcnJheTxUPiApIHtcclxuICByZXR1cm4gYXJyW2dldFJhbmRvbUludEV4Y2x1c2l2ZSggMCwgYXJyLmxlbmd0aCApXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKCBudW06IG51bWJlciA9IDAsIG1pbjogbnVtYmVyID0gMCwgbWF4OiBudW1iZXIgPSAxMDAgKTogbnVtYmVyIHtcclxuICByZXR1cm4gTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG51bSwgbWF4ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbnV0ZXNUb01pbGxpc2Vjb25kcyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgKiA2MDAwMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvTWludXRlcyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA2MDAwMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvSG91cnMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gMy42ZSs2O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9EYXlzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDguNjRlKzc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZWdhYnl0ZVRvQnl0ZSggbWI6IG51bWJlciApIHtcclxuICByZXR1cm4gbWIgKiAxMDI0ICogMTAyNDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVUb01lZ2FieXRlKCBiOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGIgLyAxMDI0IC8gMTAyNDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RnJvbVJhbmdlKCBzaXplOiBudW1iZXIsIHN0YXJ0aW5nRnJvbTogbnVtYmVyID0gMCApOiBudW1iZXJbXSB7XHJcbiAgbGV0IHJlc3VsdCA9IFsuLi5BcnJheSggc2l6ZSApLmtleXMoKV1cclxuXHJcbiAgaWYgKCBzdGFydGluZ0Zyb20gIT0gMCApIHtcclxuICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAoIGkgPT4gaSArIHN0YXJ0aW5nRnJvbSApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxMDIpO1xuIl0sIm5hbWVzIjpbInRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IiwiaWZyYW1lSWQiLCJ0cmltIiwiY3JlYXRlRHJhZ2dhYmxlWW91dHViZUlmcmFtZSIsInZpZGVvSWQiLCJzdGFydHNBdCIsInBhcmVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJpZnJhbWVDb250cm9sbGVyIiwiWW91dHViZUlmcmFtZSIsImRyYWdnYWJsZSIsIkRyYWdnYWJsZUVsZW1lbnQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJib2R5IiwiYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50Iiwib25Ecm9wIiwiT2JqZWN0RXZlbnRMaXN0ZW5lciIsInN0YXRpYyIsIk1hcCIsInBsYXllciIsIl9pc1BsYXllclJlYWR5IiwiaWQiLCJ2aWRlb05hbWUiLCJ2aWRlb1RodW1iIiwiY2hhbm5lbFVSTCIsImNoYW5uZWxOYW1lIiwiX2lmcmFtZUVsZW1lbnQiLCJfaWZyYW1lQ29udGFpbmVyIiwiX2lmcmFtZVBhcmVudEVsZW1lbnQiLCJfaXNQbGF5aW5nIiwiX2RpbWVuc2lvbnMiLCJpbnZpc2libGVEaXYiLCJfc3RhcnRzQXQiLCJfYmxvY2tJbnRlcmFjdGlvbiIsIl9kaXZCbG9ja0ludGVyYWN0aW9uIiwiX3N0YXJ0TXV0ZWQiLCJfcGxheWluZ09ic2VydmVySW50ZXJ2YWwiLCJfZXZlbnRMaXN0ZW5lciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsIl9kaWN0WW91dHViZUlmcmFtZUJ5SWQiLCJoYXMiLCJFcnJvciIsInN1cGVyIiwidGhpcyIsInN0YXJ0TXV0ZWQiLCJibG9ja0ludGVyYWN0aW9uIiwiZ2V0WW91dHViZUlmcmFtZUVsZW1lbnQiLCJzZXR1cFBhcmVudEZyb21Zb3V0dWJlSWZyYW1lIiwiaWZyYW1lQ29udGFpbmVyIiwic2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCIsImRpbWVuc2lvbnMiLCJnZXRFbGVtZW50RGltZW5zaW9ucyIsInNldCIsImdldFZpZGVvSW5mbyIsInRoZW4iLCJpbmZvIiwidGl0bGUiLCJhdXRob3JfbmFtZSIsInRodW1ibmFpbF91cmwiLCJhdXRob3JfdXJsIiwicmVzcG9uc2UiLCJoYW5kbGVQcm9taXNlIiwiZmV0Y2giLCJ2aWRlb1VSTCIsImVycm9yIiwiZGF0YSIsImpzb24iLCJjb25zb2xlIiwib25QbGF5ZXJSZWFkeSIsImV2ZW50IiwibXV0ZSIsIl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeSIsInB1c2giLCJnZXRFbGVtZW50QnlJZCIsInNldFBsYXliYWNrUXVhbGl0eSIsInNlZWtUbyIsInBhdXNlVmlkZW8iLCJjYWxsRXZlbnRzQnlOYW1lIiwiY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJfeW91dHViZUFQSVJlZmVyZW5jZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInNldENsYXNzZXNJZnJhbWVQbGF5aW5nIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwicmVtb3ZlIiwiYWRkIiwib25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSIsImRpdkJsb2NrSW50ZXJhY3Rpb24iLCJpZnJhbWVFbGVtZW50IiwiaXNQbGF5ZXJSZWFkeSIsImR1cmF0aW9uIiwiZ2V0RHVyYXRpb24iLCJwbGF5ZXJEdXJhdGlvbiIsImN1cnJlbnRUaW1lIiwidCIsInNlZWsiLCJnZXRDdXJyZW50VGltZSIsInBsYXllckN1cnJlbnRUaW1lIiwicHJvZ3Jlc3NQZXJjZW50IiwicGxheWVyUHJvZ3Jlc3NQZXJjZW50IiwiaXNQbGF5aW5nIiwiY2xhbXAiLCJ2YWwiLCJ0b2dnbGUiLCJwYXVzZSIsInBsYXkiLCJwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMiLCJwbGF5VmlkZW8iLCJwYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzIiwic2Vla1RpbWUiLCJyZWxvYWRCdWZmZXIiLCJjb25zaWRlclN0YXJ0c0F0IiwidW5tdXRlIiwia2V5cyIsInNvbWUiLCJyIiwiaW5jbHVkZXMiLCJhcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeSIsImZvckVhY2giLCJvIiwic2V0dXAiLCJrZXkiLCJjb250YWluZXJEaXYiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaWZyYW1lUGFyZW50RWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNldEludmlzaWJsZVRvcERpdiIsInRvcERpdiIsInN0eWxlIiwiekluZGV4Iiwic2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiIsImJsb2NrSW50ZXJhY3Rpb25EaXYiLCJzZXRBdHRyaWJ1dGUiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImluaXRQbGF5ZXIiLCJQbGF5ZXIiLCJ3aWR0aCIsImhlaWdodCIsInBsYXllclZhcnMiLCJldmVudHMiLCJiaW5kIiwiYnVpbGRJZnJhbWVzIiwidGFnIiwic3JjIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ3YWl0VW50aWxFbGVtZW50RXhpc3RzIiwicG9sbEZvclZhcmlhYmxlIiwidmFsdWUiLCJwcm90b3R5cGUiLCJsb2FkZWQiLCJzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMiLCJnZXRJbnZpc2libGVUb3BEaXYiLCJnZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uIiwieXRJZnJhbWUiLCJjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsImVsZW1lbnRJbnZpc2libGVEaXYiLCJZb3V0dWJlSWZyYW1lU3dpdGNoZXIiLCJzd2l0Y2hCZXR3ZWVuIiwiaWZyYW1lT3B0aW9ucyIsIl9kaWN0RXZlcnlJZnJhbWUiLCJpZnJhbWVUb1BsYXkiLCJpZnJhbWVzVG9QYXVzZSIsImZpbHRlciIsInMiLCJpIiwiWW91dHViZUlmcmFtZVN5bmMiLCJtYWluSWZyYW1lIiwic3ViSWZyYW1lcyIsIkFycmF5IiwiaXNBcnJheSIsInN5bmNTdWJJZnJhbWVzIiwic3luY0V2ZW50c1dpdGhNYWluSWZyYW1lIiwic3ViSWZyYW1lIiwiTW92YWJsZUVsZW1lbnQiLCJkcmFnZ2luZ1N0YXRlIiwibGFzdFN0YXJ0UG9pbnQiLCJvbkRyYWciLCJfZW5hYmxlZCIsImRyYWdnaW5nIiwic3RhcnQiLCJlbmQiLCJtb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbiIsInVwZGF0ZVBvc2l0aW9uIiwiZW5hYmxlZCIsImlzTW91c2VFdmVudCIsIk1vdXNlRXZlbnQiLCJpc0xlZnRCdXR0b24iLCJidXR0b24iLCJpc1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInRhcmdldCIsInN0b3BQcm9wYWdhdGlvbiIsIngiLCJ5IiwiY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMiLCJtb3ZpbmdTdGF0ZSIsImRlbHRhIiwiZHgiLCJwb3MiLCJkeSIsInBvaW50ZXJJZCIsInNldFBvaW50ZXJDYXB0dXJlIiwidXNlclNlbGVjdCIsIm1vdmVUb1Bvc2l0aW9uIiwibWFrZUVsZW1lbnREcmFnZ2FibGUiLCJtYWtlRWxlbWVudERyYWdnYWJsZUJ5UXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJvbkJlZm9yZU1vdmUiLCJvbkFmdGVyTW92ZSIsIm5ld1BvcyIsIm5ld1giLCJuZXdZIiwic2V0VHJhbnNsYXRlIiwicmVzZXRUcmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJzZXRUcmFuc2xhdGVCeVBvaW50MkQiLCJwb2ludCIsImdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50IiwicmVwbGFjZSIsInJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSIsIm1vdmVUb1BvaW50MkQiLCJtb3ZlVG9UYXJnZXRFbGVtZW50IiwidGFyZ2V0UmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbiIsImRpc3RhbmNlRnJvbUJvcmRlciIsImdldERpc3RhbmNlRnJvbUJvcmRlciIsInRhcmdldFJpZ2h0UG9zaXRpb24iLCJyaWdodCIsInRhcmdldEJvdHRvbVBvc2l0aW9uIiwiYm90dG9tIiwiTWF0aCIsInJvdW5kIiwibW92ZVRvQ2VudGVyT2ZUYXJnZXRFbGVtZW50IiwibWFrZUVsZW1lbnRNb3ZhYmxlIiwiZXZlbnRzQnlOYW1lIiwiZXZlbnROYW1lIiwidG9Mb3dlckNhc2UiLCJnZXQiLCJnZXRFdmVudHNCeU5hbWUiLCJldmVudEFyZ3MiLCJyZWdleEdyb3VwUm90YXRlVmFsdWUiLCJyZWdleEdyb3VwUm90YXRlWFZhbHVlIiwicmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSIsInJlZ2V4R3JvdXBSb3RhdGVaVmFsdWUiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCIsImRpY3RLZXlzQnlBY3Rpb25LZXl1cCIsImFzeW5jIiwicHJvbWlzZSIsIlN0cmluZyIsInJlY3QiLCJnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uIiwiY2VudGVyWCIsImNlbnRlclkiLCJyb3RhdGlvbkFuZ2xlIiwibWF0Y2giLCJheGlzIiwiZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkJhc2VkT25BeGlzIiwiZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyIsImV4ZWMiLCJwYXJzZUZsb2F0IiwiZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzIiwicmFkaWFucyIsIlBJIiwiY29zVGhldGEiLCJjb3MiLCJzaW5UaGV0YSIsInNpbiIsInJvdGF0ZWRYMSIsInJvdGF0ZWRZMSIsInJvdGF0ZWRYMiIsInJvdGF0ZWRZMiIsInJvdGF0ZWRMZWZ0IiwibWluIiwicm90YXRlZFRvcCIsInJvdGF0ZWRCb3R0b20iLCJtYXgiLCJyb3RhdGVkUmlnaHQiLCJ0b0pTT04iLCJ2YXJpYWJsZU5hbWUiLCJyZWFkeUNvbmRpdGlvbiIsImNhbGxiYWNrIiwicG9sbCIsInVuZGVmaW5lZCIsIndpbmRvdyIsInNlbGVjdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJkaXNjb25uZWN0Iiwib2JzZXJ2ZSIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCJjaGVja0JvZHlSb3RhdGlvbiIsInJlY3QxIiwicmVjdDIiLCJjZW50ZXIiLCJlbGVtZW50VHJhbnNmb3JtIiwiYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUiLCJnZXRDb21wdXRlZFN0eWxlIiwicmVnZXhOdW1iZXJQYXR0ZXJuIiwibWFwIiwibiIsInJlc3VsdCIsImJvZHlBbmdsZSIsInJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSIsImdldEVsZW1lbnRSb3RhdGlvbkluRGVncmVlcyIsInJvdGF0ZUNvb3JkaW5hdGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJUb3VjaEV2ZW50IiwidG91Y2giLCJjaGFuZ2VkVG91Y2hlcyIsInRvU3RyaW5nIiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJhcHBlbmRDaGlsZCIsInJlcGVhdCIsInBhaXIiLCJjb2RlIiwia2JFdmVudCIsInJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMiLCJydW5LZXlkb3duQWN0aW9uc1JlcGVhdCIsImFuZ2xlIiwibnVtIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9