var YoutubeIframe;(()=>{"use strict";var e={2152:(e,t,i)=>{function n(e){return`\n  <div id="${e}">\n  </div>\n  `.trim()}i.d(t,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(e,t,i)=>{i.r(t),i.d(t,{YoutubeIframe:()=>m,YoutubeIframeSwitcher:()=>o.YoutubeIframeSwitcher,YoutubeIframeSync:()=>l.YoutubeIframeSync,createDraggableYoutubeIframe:()=>d});var n=i(1319),s=i(4763),r=i(739),a=i(2152),o=i(4785),l=i(3362),h=i(7930);function d({iframeId:e,videoId:t,startsAt:i,parentElement:n,classList:r=[]}){return{iframeController:new m({startsAt:i,iframeId:e,videoId:t,parentElement:n,classList:r}),draggable:new s.DraggableElement({element:n??document.body,allowDraggingByInnerContent:!0,onDrop:()=>{}})}}class m extends h.ObjectEventListener{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;_videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;topDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new h.ObjectEventListener;constructor(e){if(m._dictYoutubeIframeById.has(e.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=e.iframeId,this._startsAt=e.startsAt??0,this._videoId=e.videoId,this._startMuted=!!e.startMuted,this._blockInteraction=!!e.blockInteraction,this._iframeContainer=m.getYoutubeIframeElement({iframeId:e.iframeId,classList:e.classList}),this._iframeParentElement=m.setupParentFromYoutubeIframe({parentElement:e.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=e.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),m._dictYoutubeIframeById.set(e.iframeId,this),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}get name(){return this.videoName}get container(){return this._iframeContainer}get videoId(){return(0,n.extractYouTubeId)(this._videoId)}destroy(){this.player.destroy(),this.container.remove(),m._dictYoutubeIframeById.delete(this.id)}async setVideoInfo(){const e=await this.getVideoInfo();this.videoName=e&&e.title?e.title:"",this.channelName=e&&e.author_name?e.author_name:"",this.videoThumb=e&&e.thumbnail_url?e.thumbnail_url:"",this.channelURL=e&&e.author_url?e.author_url:""}async changeVideo(e){if((0,n.isValidYoutubeUrlOrId)(e.videoId)){for(;!this.player||!this.player.loadVideoById;)await(0,n.delay)(100);this.prepareOptions(e),await this.loadVideo(),this.player.seekTo(this.startsAt,!0),this.isPlaying?this.playWithoutTriggerEvents():this.pauseWithoutTriggerEvents()}}prepareOptions(e){this.id=e.iframeId,this._videoId=e.videoId,this.startsAt=e.startsAt??this.startsAt}async loadVideo(){this.player.loadVideoById({videoId:this.videoId,startSeconds:this.startsAt,suggestedQuality:"highres"}),await this.setVideoInfo(),this.setExternalHTMLElementsAttributes()}async getVideoInfo(){const e=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));if(!e.error)return await e.data().json();console.error(e.error)}onPlayerReady(e){this._startMuted&&this.player.mute(),m._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),m.checkIfEveryIframeIsReady()}onPlayerStateChange(e){e.data===m._youtubeAPIReference.PlayerState.PLAYING?(this._isPlaying=!0,this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this,this.isPlaying)),100),this.setClassesIframePlaying()):this._playingObserverInterval&&(clearInterval(this._playingObserverInterval),this.setClassesIframePaused(),this._isPlaying=!1,this._playingObserverInterval=null),this.callEventsByName("playerstatechange",this,this.isPlaying),this.callEventsByName("onplayerstatechange",this,this.isPlaying)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(e){this.seek(e)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,r.clamp)(this._startsAt,0,this._startsAt)}set startsAt(e){this._startsAt=(0,r.clamp)(e,0,e)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(e,t=!1,i=!1){return this.callEventsByName("onseek",e,t,i,this),e+=i?this._startsAt:0,this.player.seekTo(e,t),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...m._dictYoutubeIframeById.keys()].some((e=>!this._arrYoutubeIframeIdReady.includes(e)))||(this.arrObjectToSetOnEveryIframeReady.forEach((e=>e.setup(m._dictYoutubeIframeById))),m._dictYoutubeIframeById.forEach(((e,t)=>{e.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:e,classList:t}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),t&&i.classList.add(...t),i.id=`containerYoutubeIframe${e}`,i.insertAdjacentHTML("afterbegin",(0,a.templateBackgroundYoutubeIframeElement)(e)),i}static setupParentFromYoutubeIframe({parentElement:e,iframeContainer:t}){const i=e??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",t),i}setExternalHTMLElements(){this.createInvisibleDivTop(),this.createInvisibleDivBlockInteraction(),this.setExternalHTMLElementsAttributes()}setExternalHTMLElementsAttributes(){this.setIframeContainerAttributes(),this.setTopDivAttributes(),this.setDivBlockInteractionAttributes()}createInvisibleDivTop(){this.topDiv=m.getInvisibleTopDiv(this),this.topDiv.style.zIndex="990"}createInvisibleDivBlockInteraction(){this._divBlockInteraction=m.getInvisibleDivBlockInteraction(this),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(e=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}setDivBlockInteractionAttributes(){this.divBlockInteraction&&(0,n.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}setIframeContainerAttributes(){this._iframeContainer&&(0,n.setAttributeListForElement)(this._iframeContainer,this._videoInfoAttributeList)}setTopDivAttributes(){this.topDiv&&(0,n.setAttributeListForElement)(this.topDiv,this._videoInfoAttributeList)}set blockInteraction(e){this._blockInteraction=e,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new m._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;get _videoInfoAttributeList(){return[["yt-iframe-id",this.id],["yt-iframe-video-name",this.videoName],["yt-iframe-video-channel-name",this.channelName],["yt-iframe-video-thumb-url",this.videoThumb],["yt-iframe-video-channel-url",this.channelURL]]}static async buildSingleIframe(e){if(!document.getElementById("ytIframeAPIScriptTag")){var t=document.createElement("script");t.id="ytIframeAPIScriptTag",t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.insertBefore(t,i)}return await(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag"),await(0,n.pollForVariableAsync)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(t=>{m._youtubeAPIReference=t,e.build()})),e}static buildIframes(){if(!document.getElementById("ytIframeAPIScriptTag")){var e=document.createElement("script");e.id="ytIframeAPIScriptTag",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t)}(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag").then((()=>{(0,n.pollForVariable)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(e=>{m._youtubeAPIReference=e,m.setYoutubeIframeElements()}))}))}build(){this.setExternalHTMLElements(),this.initPlayer()}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((e,t)=>{e.isPlayerReady||e.build()}))}static getInvisibleTopDiv(e){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleTopDivHoldToDrag${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:.2*e.dimensions.height}})}static getInvisibleDivBlockInteraction(e){const t=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleDivBlockInteraction${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("yt-div-block-interaction"),t}}},4785:(e,t,i)=>{i.d(t,{YoutubeIframeSwitcher:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{switchBetween;constructor(e){super(),this.switchBetween=e.switchBetween,n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.switchBetween.forEach((e=>e.addEventListener("onplay",(()=>{const t=this.switchBetween.filter((t=>t.id!==e.id));t.forEach((e=>e.pause())),this.callEventsByName("onalternate",this,e,t),e.callEventsByName("onalternate",this,e,t)}))))}}},3362:(e,t,i)=>{i.d(t,{YoutubeIframeSync:()=>r});var n=i(5102),s=i(7930);class r extends s.ObjectEventListener{mainIframe;subIframes;constructor(e){super(),this.mainIframe=e.mainIframe,this.subIframes=Array.isArray(e.subIframes)?e.subIframes:[e.subIframes],n.YoutubeIframe.arrObjectToSetOnEveryIframeReady.push(this)}setup(e){this.syncSubIframes(),this.syncEventsWithMainIframe()}syncSubIframes(){this.subIframes.forEach((e=>{e.seek(this.mainIframe.startsAt,!0),e.pause(),e.addEventListener("onplayerstatechange",(()=>{e.seek(this.mainIframe.playerCurrentTime,!0),this.mainIframe.isPlaying?e.playWithoutTriggerEvents():e.pauseWithoutTriggerEvents()})),e.addEventListener("onplay",(()=>{this.mainIframe.play(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)})),e.addEventListener("onpause",(()=>{this.mainIframe.pause(),e.callEventsByName("onsync",e,this.mainIframe,"play",this.subIframes)}))}))}syncEventsWithMainIframe(){this.mainIframe.addEventListener("onplayerstatechange",(()=>{this.subIframes.forEach((e=>{e.seek(this.mainIframe.playerCurrentTime,!0),this.mainIframe.isPlaying?e.playWithoutTriggerEvents():e.pauseWithoutTriggerEvents()}))})),this.mainIframe.addEventListener("onplay",(()=>{this.subIframes.forEach((e=>{e.seek(this.mainIframe.playerCurrentTime,!0),e.playWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"play",this.subIframes)}))})),this.mainIframe.addEventListener("onpause",(()=>{this.subIframes.forEach((e=>{e.pauseWithoutTriggerEvents(),e.callEventsByName("onsync",this.mainIframe,e,"pause",this.subIframes)}))})),this.mainIframe.addEventListener("onseek",((e,t,i)=>{this.subIframes.forEach((n=>{e+=i?this.mainIframe.startsAt:0,n.seek(e,t),n.callEventsByName("onsync",this.mainIframe,n,"seek",this.subIframes)}))}))}}},4763:(e,t,i)=>{i.d(t,{DraggableElement:()=>r});var n=i(1319),s=i(8586);class r extends s.MovableElement{allowDraggingByInnerContent;draggingState;lastStartPoint;onDrop;onDrag;_enabled=!0;constructor(e){if(!e.element)throw new Error("Null draggable element. Please pass a valid element in constructor.");super(e),this.allowDraggingByInnerContent=!e.allowDraggingByInnerContent||e.allowDraggingByInnerContent,this.draggingState={dragging:!1},this.onDrag=e.onDrag,this.onDrop=e.onDrop,this.element.addEventListener("pointerdown",this.start.bind(this)),this.element.addEventListener("pointerup",this.end.bind(this)),this.element.addEventListener("pointercancel",this.end.bind(this)),this.element.addEventListener("pointermove",this.move.bind(this)),this.element.addEventListener("touchstart",(e=>e.preventDefault())),this.element.addEventListener("dragstart",(e=>e.preventDefault())),this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),100)}get enabled(){return this._enabled}set enabled(e){this._enabled=e}set dragging(e){this.enabled&&(this.draggingState.dragging=e,this.dragging?this.element.classList.add("dragging"):this.element.classList.remove("dragging"))}get dragging(){return this.draggingState.dragging}start(e){if(!this.enabled)return;const t=e instanceof MouseEvent,i=t&&0===e.button,s=e instanceof PointerEvent;if(t&&!i)return;if(!this.allowDraggingByInnerContent&&e.target!==this.element)return;this.callEventsByName("onDrag",this.element,this),this.onDrag&&this.onDrag(this.element,this),this.dragging=!0,e.stopPropagation();let{x:r,y:a}=(0,n.clickEventToCoordinates)(e);this.lastStartPoint={x:r,y:a},this.movingState.delta={dx:this.movingState.pos.x-r,dy:this.movingState.pos.y-a},s&&(this.draggingState.pointerId=e.pointerId,this.element.setPointerCapture(e.pointerId)),this.element.style.userSelect="none"}end(){this.dragging=!1,this.element.style.userSelect="",this.callEventsByName("onDrop",this.element,this),this.onDrop&&this.onDrop(this.element,this)}updatePosition(){this.dragging||super.updatePosition()}move(e){if(!this.enabled)return;const t=e instanceof PointerEvent;if(!this.dragging)return;if(!this.allowDraggingByInnerContent&&!(e.target===this.element||t&&this.draggingState.pointerId===e.pointerId))return;e.stopPropagation();let{x:i,y:s}=(0,n.clickEventToCoordinates)(e);super.moveToPosition(i,s)}static makeElementDraggable(e){return new r({element:e})}static makeElementDraggableByQuerySelector(e){const t=document.querySelector(e);return t?new r({element:t}):null}}},8586:(e,t,i)=>{i.d(t,{MovableElement:()=>r});var n=i(7930),s=i(1319);class r extends n.ObjectEventListener{element;movingState;intervalUpdatePosition;onBeforeMove;onAfterMove;constructor(e){if(super(),!e.element)throw new Error("Null movable element. Please pass a valid element in constructor.");this.element=e.element,this.onBeforeMove=e.onBeforeMove,this.onAfterMove=e.onAfterMove,this.movingState={pos:{x:0,y:0},delta:{dx:0,dy:0}},this.intervalUpdatePosition=setInterval(this.updatePosition.bind(this),200)}get position(){return this.movingState.pos}set position(e){this.moveToPosition(e.x,e.y)}get x(){return this.movingState.pos.x}set x(e){this.moveToPosition(e,this.y)}get y(){return this.movingState.pos.y}set y(e){this.moveToPosition(this.x,e)}setTranslate(e,t){this.callEventsByName("onBeforeMove",this.element,this),this.onBeforeMove&&this.onBeforeMove(this.element,this),this.resetTranslate(),this.element.style.transform+=`translate(${e}px, ${t}px)`,this.callEventsByName("onAfterMove",this.element,this),this.onAfterMove&&this.onAfterMove(this.element,this)}setTranslateByPoint2D(e){this.setTranslate(e.x,e.y)}updatePosition(){this.movingState.pos=(0,s.getTransformCoordsFromElement)(this.element),this.movingState.delta.dx=0,this.movingState.delta.dy=0}resetTranslate(){this.element.style.transform=this.element.style.transform.replace(s.regexRemoveTranslateFromTransform,"")}moveToPosition(e,t){this.movingState.pos={x:e+this.movingState.delta.dx,y:t+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToPoint2D(e){this.movingState.pos={x:e.x+this.movingState.delta.dx,y:e.y+this.movingState.delta.dy},this.setTranslateByPoint2D(this.movingState.pos)}moveToTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width),y:Math.round(a-t.height)})}moveToCenterOfTargetElement(e){const t=e.getBoundingClientRect(),i=(0,s.getTransformCoordsFromElement)(this.element),n=(0,s.getDistanceFromBorder)(this.element,e),r=i.x+n.right,a=i.y+n.bottom;this.setTranslateByPoint2D({x:Math.round(r-t.width/2),y:Math.round(a-t.height/2)})}static makeElementMovable(e){return new r({element:e})}}},7930:(e,t,i)=>{i.d(t,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(e,t){this.eventsByName.has(e.toLowerCase())?this.eventsByName.get(e.toLowerCase()).push(t):this.eventsByName.set(e.toLowerCase(),[t])}getEventsByName(e){return this.eventsByName.has(e.toLowerCase())||this.eventsByName.set(e.toLowerCase(),[]),this.eventsByName.get(e.toLowerCase())}callEventsByName(e,...t){this.getEventsByName(e).forEach((e=>e(...t)))}}},1319:(e,t,i)=>{i.d(t,{clickEventToCoordinates:()=>B,createInvisibleDivAboveParent:()=>T,delay:()=>E,extractYouTubeId:()=>y,getDistanceFromBorder:()=>w,getElementDimensions:()=>f,getTransformCoordsFromElement:()=>_,handlePromise:()=>u,isValidYoutubeUrlOrId:()=>c,pollForVariable:()=>p,pollForVariableAsync:()=>I,regexRemoveTranslateFromTransform:()=>s,setAttributeListForElement:()=>g,waitUntilElementExists:()=>b});var n=i(739);const s=/translate\([^)]*\)/g,r=/rotate\((-?\d+\.?\d*)deg\)/,a=/rotateX\((-?\d+\.?\d*)deg\)/,o=/rotateY\((-?\d+\.?\d*)deg\)/,l=/rotateZ\((-?\d+\.?\d*)deg\)/,h=new Map,d=new Map,m=new Map;async function u(e){try{const t=await e;return{data:()=>t,error:null}}catch(e){return console.error(e),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:e instanceof Error?e:new Error(String(e))}}}function c(e){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(e)||/^[a-zA-Z0-9_-]{11}$/.test(e)}function y(e){const t=e.match(/[?&]v=([^?&]+)/);return t&&t[1]?t[1]:11===e.length?e:null}function g(e,t){t.forEach((([t,i])=>{e.setAttribute(t,i)}))}function f(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function v(e){const t=e.getBoundingClientRect(),i=t.left+t.width/2,n=t.top+t.height/2,s=function(){const e=function(e){switch(e){case"x":return a;case"y":return o;case"z":return l;default:return r}}(P(document.body)).exec(document.body.style.transform);return e?parseFloat(e[1]):0}(),h=Math.PI/180*s,d=Math.cos(h),m=Math.sin(h),u=i+(t.left-i)*d-(t.top-n)*m,c=n+(t.left-i)*m+(t.top-n)*d,y=i+(t.right-i)*d-(t.bottom-n)*m,g=n+(t.right-i)*m+(t.bottom-n)*d,f=Math.min(u,y),v=Math.min(c,g),p=Math.max(c,g),I=Math.max(u,y);return{x:f,y:v,width:t.width,height:t.height,toJSON:t.toJSON,left:f,top:v,bottom:p,right:I}}function p(e,t,i){const n=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(n),i(window[e]))}),100)}async function I(e,t,i){return new Promise((n=>{const s=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(s),i(window[e]),n())}),100)}))}function b(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver((n=>{document.querySelector(e)&&(i.disconnect(),t(document.querySelector(e)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}async function E(e){return new Promise((t=>setTimeout(t,e)))}function w(e,t,i=!1){const n=i?v(e):e.getBoundingClientRect(),s=i?v(t):t.getBoundingClientRect(),r=n.left+n.width/2,a=n.top+n.height/2;return{top:a-s.top,right:s.right-r,bottom:s.bottom-a,left:r-s.left}}function P(e){const t=e.style.transform.toLowerCase();return t.includes("x")?"x":t.includes("y")?"y":"z"}function _(e,t=!1){const i=(window.getComputedStyle(e).transform.match(n.regexNumberPattern)??[0,0]).map((e=>+e));let s={x:void 0!==i[4]?Math.round(i[4]):0,y:void 0!==i[5]?Math.round(i[5]):0};if(t){const t=function(e,t="x"){let i;switch(t){case"x":i=a;break;case"y":i=o;break;case"z":i=l;break;default:i=r}const n=i.exec(e.style.transform);return n?parseFloat(n[1]):0}(document.body,P(e))||0;return(0,n.rotateCoordinates)(s.x,s.y,t)}return s}function B(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const t=e.changedTouches[0];return{x:t.clientX,y:t.clientY}}throw"Event not Found"}function T({parentElement:e,id:t,position:i,dimensions:n}){var s=document.createElement("div");return e.style.position||(e.style.position="relative"),s.id=t,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",e.appendChild(s),s}new Map,window.addEventListener("keydown",(e=>{e.repeat||function(e){for(const t of h)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e),function(e){for(const t of d)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e)})),window.addEventListener("keyup",(e=>{for(const t of m)e.code===t[0]&&t[1].forEach((t=>t(e)))}))},739:(e,t,i)=>{i.d(t,{clamp:()=>r,regexNumberPattern:()=>n,rotateCoordinates:()=>s});const n=/-?\d+\.?\d*/g;function s(e,t,i){const n=Math.PI/180*i;return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function r(e=0,t=0,i=100){return Math.max(t,Math.min(e,i))}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=i(5102);YoutubeIframe=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVDTkQyTyxFQUFvQjdPLEVBQUksQ0FBQ3dQLEVBQUtDLElBQVVKLE9BQU81TSxVQUFVaU4sZUFBZUMsS0FBS0gsRUFBS0MsR0NDbEZaLEVBQW9CalAsRUFBS29QLElBQ0gsb0JBQVhZLFFBQTBCQSxPQUFPQyxhQUMxQ1IsT0FBT0MsZUFBZU4sRUFBU1ksT0FBT0MsWUFBYSxDQUFFck4sTUFBTyxXQUU3RDZNLE9BQU9DLGVBQWVOLEVBQVMsYUFBYyxDQUFFeE0sT0FBTyxHQUFPLEVDRjlELElBQUlzTixFQUFzQmpCLEVBQW9CLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Zb3V0dWJlSWZyYW1lL1RlbXBsYXRlc1lvdXR1YmVJZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvWW91dHViZUlmcmFtZVN3aXRjaGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvWW91dHViZUlmcmFtZVN5bmMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9EcmFnZ2FibGVFbGVtZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9FeHRyYXMvTW92YWJsZUVsZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9ET01Ub29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvTWF0aFRvb2xzLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1cIj5cclxuICA8L2Rpdj5cclxuICBgLnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlWW91dHViZUlmcmFtZVRhYmxlSXRlbSggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1JZnJhbWVUYWJsZUl0ZW1cIiBjbGFzcz1cInl0LWlmcmFtZS10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59IiwiaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGRlbGF5LCBleHRyYWN0WW91VHViZUlkLCBnZXRFbGVtZW50RGltZW5zaW9ucywgaGFuZGxlUHJvbWlzZSwgaXNWYWxpZFlvdVR1YmVVcmwsIGlzVmFsaWRZb3V0dWJlVXJsT3JJZCwgcG9sbEZvclZhcmlhYmxlLCBwb2xsRm9yVmFyaWFibGVBc3luYywgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQsIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMgfSBmcm9tICcuLi8uLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IERyYWdnYWJsZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9FeHRyYXMvRHJhZ2dhYmxlRWxlbWVudCc7XHJcbmltcG9ydCB7IERpbWVuc2lvbnMsIGNsYW1wIH0gZnJvbSAnLi4vLi4vVG9vbHMvTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgdGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQgfSBmcm9tICcuL1RlbXBsYXRlc1lvdXR1YmVJZnJhbWUnO1xyXG5pbXBvcnQgeyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkgfSBmcm9tICcuL1R5cGVzJztcclxuaW1wb3J0IHsgWW91dHViZUlmcmFtZVN3aXRjaGVyIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBZb3V0dWJlSWZyYW1lU3luYyB9IGZyb20gJy4vWW91dHViZUlmcmFtZVN5bmMnO1xyXG5pbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5pbXBvcnQgeyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMgfSBmcm9tICcuLi9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBZb3V0dWJlSWZyYW1lT3B0aW9ucyA9IHtcclxuICBpZnJhbWVJZDogc3RyaW5nO1xyXG4gIHZpZGVvSWQ6IHN0cmluZztcclxuICBkaW1lbnNpb25zPzogRGltZW5zaW9ucztcclxuICBwYXJlbnRFbGVtZW50PzogSFRNTEVsZW1lbnQ7XHJcbiAgY2xhc3NMaXN0Pzogc3RyaW5nW107XHJcbiAgc3RhcnRNdXRlZD86IGJvb2xlYW47XHJcbiAgc3RhcnRzQXQ/OiBudW1iZXI7XHJcbiAgYmxvY2tJbnRlcmFjdGlvbj86IGJvb2xlYW47XHJcbiAgcmVwbGF5T25FbmQ/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgWW91dHViZUlmcmFtZUNoYW5nZVZpZGVvT3B0aW9ucyA9IHtcclxuICBpZnJhbWVJZDogc3RyaW5nO1xyXG4gIHZpZGVvSWQ6IHN0cmluZztcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURyYWdnYWJsZVlvdXR1YmVJZnJhbWUoIHsgaWZyYW1lSWQsIHZpZGVvSWQsIHN0YXJ0c0F0LCBwYXJlbnRFbGVtZW50LCBjbGFzc0xpc3QgPSBbXSB9OiBZb3V0dWJlSWZyYW1lT3B0aW9ucyApIHtcclxuICBjb25zdCBpZnJhbWVDb250cm9sbGVyUmVzdWx0ID0gbmV3IFlvdXR1YmVJZnJhbWUoIHsgc3RhcnRzQXQsIGlmcmFtZUlkLCB2aWRlb0lkLCBwYXJlbnRFbGVtZW50LCBjbGFzc0xpc3QgfSApO1xyXG5cclxuICBjb25zdCBkcmFnZ2FibGVSZXN1bHQgPSBuZXcgRHJhZ2dhYmxlRWxlbWVudCgge1xyXG4gICAgZWxlbWVudDogcGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5LFxyXG4gICAgYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50OiB0cnVlLFxyXG4gICAgb25Ecm9wOiAoKSA9PiB7XHJcblxyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlmcmFtZUNvbnRyb2xsZXI6IGlmcmFtZUNvbnRyb2xsZXJSZXN1bHQsXHJcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZVJlc3VsdFxyXG4gIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUlmcmFtZSBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIgaW1wbGVtZW50cyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMge1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHk6IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeVtdID0gW107XHJcblxyXG4gIHByb3RlY3RlZCBzdGF0aWMgX2RpY3RZb3V0dWJlSWZyYW1lQnlJZDogTWFwPHN0cmluZywgWW91dHViZUlmcmFtZT4gPSBuZXcgTWFwKCk7XHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfYXJyWW91dHViZUlmcmFtZUlkUmVhZHk6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHB1YmxpYyBwbGF5ZXI6IGFueSB8IG51bGw7XHJcbiAgcHJvdGVjdGVkIF9pc1BsYXllclJlYWR5OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyBpZDogc3RyaW5nO1xyXG4gIHByaXZhdGUgX3ZpZGVvSWQ6IHN0cmluZztcclxuICBwdWJsaWMgdmlkZW9OYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgdmlkZW9UaHVtYjogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGNoYW5uZWxVUkw6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyBjaGFubmVsTmFtZTogc3RyaW5nID0gJyc7XHJcblxyXG4gIHByb3RlY3RlZCBfaWZyYW1lRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgLy8gQSBkaXYgd2hpY2ggaXMgY3JlYXRlZCBhZnRlciBpZnJhbWUgcmVuZGVyIGFuZCBob2xkcyBpZnJhbWUgZWxlbWVudFxyXG4gIHByb3RlY3RlZCBfaWZyYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgLy8gVGhlIGVsZW1lbnQgdGhhdCBob2xkcyB7IF9pZnJhbWVDb250YWluZXIgfVxyXG4gIHByb3RlY3RlZCBfaWZyYW1lUGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByb3RlY3RlZCBfaXNQbGF5aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25zO1xyXG5cclxuICAvLy8gQ2FuIGJlIHVzZWQgdG8gZHJhZywgaXMgYW4gaW52aXNpYmxlIGRpdiBwbGFjZWQgYXQgdGhlIHRvcCBvZiB0aGUgY29udGFpbmVyXHJcbiAgcHJvdGVjdGVkIHRvcERpdj86IEhUTUxFbGVtZW50O1xyXG5cclxuICBwcml2YXRlIF9zdGFydHNBdDogbnVtYmVyO1xyXG5cclxuICBwcm90ZWN0ZWQgX2Jsb2NrSW50ZXJhY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcm90ZWN0ZWQgX2RpdkJsb2NrSW50ZXJhY3Rpb246IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHByb3RlY3RlZCBfc3RhcnRNdXRlZDogYm9vbGVhbjtcclxuICBwdWJsaWMgX3BsYXlpbmdPYnNlcnZlckludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcm90ZWN0ZWQgX2V2ZW50TGlzdGVuZXI6IE9iamVjdEV2ZW50TGlzdGVuZXIgPSBuZXcgT2JqZWN0RXZlbnRMaXN0ZW5lcigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvciggb3B0aW9uczogWW91dHViZUlmcmFtZU9wdGlvbnMgKSB7XHJcbiAgICBpZiAoIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5oYXMoIG9wdGlvbnMuaWZyYW1lSWQgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgaWZyYW1lIHRoZXJlJ3MgYWxyZWFkeSBhbiBpZnJhbWUgd2l0aCB0aGlzIGlkLlwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmlkID0gb3B0aW9ucy5pZnJhbWVJZDtcclxuICAgIHRoaXMuX3N0YXJ0c0F0ID0gb3B0aW9ucy5zdGFydHNBdCA/PyAwO1xyXG4gICAgdGhpcy5fdmlkZW9JZCA9IG9wdGlvbnMudmlkZW9JZDtcclxuXHJcbiAgICB0aGlzLl9zdGFydE11dGVkID0gb3B0aW9ucy5zdGFydE11dGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA9IG9wdGlvbnMuYmxvY2tJbnRlcmFjdGlvbiA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIgPSBZb3V0dWJlSWZyYW1lLmdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7XHJcbiAgICAgIGlmcmFtZUlkOiBvcHRpb25zLmlmcmFtZUlkLFxyXG4gICAgICBjbGFzc0xpc3Q6IG9wdGlvbnMuY2xhc3NMaXN0XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudCA9IFlvdXR1YmVJZnJhbWUuc2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBvcHRpb25zLnBhcmVudEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSxcclxuICAgICAgaWZyYW1lQ29udGFpbmVyOiB0aGlzLl9pZnJhbWVDb250YWluZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICB0aGlzLl9kaW1lbnNpb25zID0gb3B0aW9ucy5kaW1lbnNpb25zID8/IGdldEVsZW1lbnREaW1lbnNpb25zKCB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50ICk7XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLnNldCggb3B0aW9ucy5pZnJhbWVJZCwgdGhpcyApO1xyXG4gICAgdGhpcy5zZXRWaWRlb0luZm8oKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IG5hbWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aWRlb05hbWU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGNvbnRhaW5lcigpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZnJhbWVDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZpZGVvSWQoKSB7XHJcbiAgICByZXR1cm4gZXh0cmFjdFlvdVR1YmVJZCggdGhpcy5fdmlkZW9JZCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLnBsYXllci5kZXN0cm95KCk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5kZWxldGUoIHRoaXMuaWQgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc2V0VmlkZW9JbmZvKCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuZ2V0VmlkZW9JbmZvKCk7XHJcbiAgICB0aGlzLnZpZGVvTmFtZSA9IGluZm8gJiYgaW5mby50aXRsZSA/IGluZm8udGl0bGUgYXMgc3RyaW5nIDogJyc7XHJcbiAgICB0aGlzLmNoYW5uZWxOYW1lID0gaW5mbyAmJiBpbmZvLmF1dGhvcl9uYW1lID8gaW5mby5hdXRob3JfbmFtZSBhcyBzdHJpbmcgOiAnJztcclxuICAgIHRoaXMudmlkZW9UaHVtYiA9IGluZm8gJiYgaW5mby50aHVtYm5haWxfdXJsID8gaW5mby50aHVtYm5haWxfdXJsIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgdGhpcy5jaGFubmVsVVJMID0gaW5mbyAmJiBpbmZvLmF1dGhvcl91cmwgPyBpbmZvLmF1dGhvcl91cmwgYXMgc3RyaW5nIDogJyc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgY2hhbmdlVmlkZW8oIG9wdGlvbnM6IFlvdXR1YmVJZnJhbWVDaGFuZ2VWaWRlb09wdGlvbnMgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBpZiAoICFpc1ZhbGlkWW91dHViZVVybE9ySWQoIG9wdGlvbnMudmlkZW9JZCApICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKCAhdGhpcy5wbGF5ZXIgfHwgIXRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQgKSB7XHJcbiAgICAgIGF3YWl0IGRlbGF5KCAxMDAgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnByZXBhcmVPcHRpb25zKCBvcHRpb25zICk7XHJcbiAgICBhd2FpdCB0aGlzLmxvYWRWaWRlbygpO1xyXG5cclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggdGhpcy5zdGFydHNBdCwgdHJ1ZSApO1xyXG4gICAgaWYgKCB0aGlzLmlzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmVwYXJlT3B0aW9ucyggb3B0aW9uczogWW91dHViZUlmcmFtZUNoYW5nZVZpZGVvT3B0aW9ucyApIHtcclxuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlmcmFtZUlkO1xyXG4gICAgdGhpcy5fdmlkZW9JZCA9IG9wdGlvbnMudmlkZW9JZDtcclxuICAgIHRoaXMuc3RhcnRzQXQgPSBvcHRpb25zLnN0YXJ0c0F0ID8/IHRoaXMuc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGxvYWRWaWRlbygpIHtcclxuICAgIHRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQoIHtcclxuICAgICAgJ3ZpZGVvSWQnOiB0aGlzLnZpZGVvSWQsXHJcbiAgICAgICdzdGFydFNlY29uZHMnOiB0aGlzLnN0YXJ0c0F0LFxyXG4gICAgICAnc3VnZ2VzdGVkUXVhbGl0eSc6ICdoaWdocmVzJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuc2V0VmlkZW9JbmZvKCk7XHJcbiAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRWaWRlb0luZm8oKSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVByb21pc2U8UmVzcG9uc2U+KCBmZXRjaCggYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL29lbWJlZD91cmw9JHsgdGhpcy52aWRlb1VSTCB9JmZvcm1hdD1qc29uYCApICk7XHJcblxyXG4gICAgaWYgKCByZXNwb25zZS5lcnJvciApIHtcclxuICAgICAgY29uc29sZS5lcnJvciggcmVzcG9uc2UuZXJyb3IgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5kYXRhKCkuanNvbigpO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG9uUGxheWVyUmVhZHkoIGV2ZW50OiBhbnkgKSB7XHJcbiAgICBpZiAoIHRoaXMuX3N0YXJ0TXV0ZWQgKSB7XHJcbiAgICAgIHRoaXMucGxheWVyLm11dGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5wdXNoKCB0aGlzLmlkICk7XHJcbiAgICB0aGlzLl9pZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRoaXMuaWQgKSE7XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuc2V0UGxheWJhY2tRdWFsaXR5KCAnaGlnaHJlcycgKTtcclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggdGhpcy5fc3RhcnRzQXQgPz8gMCwgdHJ1ZSApO1xyXG4gICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5ZXJSZWFkeSA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25pZnJhbWVyZWFkeScsIHRoaXMgKTtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBvblBsYXllclN0YXRlQ2hhbmdlKCBldmVudDogYW55ICkge1xyXG4gICAgaWYgKCBldmVudC5kYXRhID09PSBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlLlBsYXllclN0YXRlLlBMQVlJTkcgKSB7XHJcbiAgICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsID0gc2V0SW50ZXJ2YWwoICgpID0+IHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheWluZycsIHRoaXMsIHRoaXMuaXNQbGF5aW5nICksIDEwMCApO1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcbiAgICB9IGVsc2UgaWYgKCB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCApIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgKTtcclxuICAgICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcbiAgICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAncGxheWVyc3RhdGVjaGFuZ2UnLCB0aGlzLCB0aGlzLmlzUGxheWluZyApO1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5ZXJzdGF0ZWNoYW5nZScsIHRoaXMsIHRoaXMuaXNQbGF5aW5nICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmcoKSB7XHJcbiAgICBpZiAoIHRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNldENsYXNzZXNJZnJhbWVQYXVzZWQoKSB7XHJcbiAgICBpZiAoIHRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG4gIH1cclxuXHJcblxyXG4gIHByb3RlY3RlZCBvbkV2ZXJ5WW91dHViZUlmcmFtZVJlYWR5KCkge1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25ldmVyeXlvdXR1YmVpZnJhbWVyZWFkeScgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGl2QmxvY2tJbnRlcmFjdGlvbigpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZpZGVvVVJMKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9JHsgdGhpcy52aWRlb0lkIH1gO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwYXJlbnRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpZnJhbWVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGlmICggIXRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJZnJhbWUgd2FzIGNhbGxlZCBidXQgaXQncyBub3QgcmVhZHkuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5faWZyYW1lRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaXNQbGF5ZXJSZWFkeSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BsYXllclJlYWR5O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkdXJhdGlvbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCkgLSB0aGlzLl9zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyRHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBjdXJyZW50VGltZSggdDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5zZWVrKCB0ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSAtIHRoaXMuX3N0YXJ0c0F0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGF5ZXJDdXJyZW50VGltZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHByb2dyZXNzUGVyY2VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWUgLyB0aGlzLmR1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGF5ZXJQcm9ncmVzc1BlcmNlbnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllckN1cnJlbnRUaW1lIC8gdGhpcy5wbGF5ZXJEdXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhcnRNdXRlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9zdGFydE11dGVkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNQbGF5aW5nO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbnMge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHN0YXJ0c0F0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gY2xhbXAoIHRoaXMuX3N0YXJ0c0F0LCAwLCB0aGlzLl9zdGFydHNBdCApO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0IHN0YXJ0c0F0KCB2YWw6IG51bWJlciApIHtcclxuICAgIHRoaXMuX3N0YXJ0c0F0ID0gY2xhbXAoIHZhbCwgMCwgdmFsICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9nZ2xlKCk6IElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgICBpZiAoIHRoaXMuaXNQbGF5aW5nICkge1xyXG4gICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBsYXknLCB0aGlzICk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICB0aGlzLl9pc1BsYXlpbmcgPSB0cnVlO1xyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGxheWluZygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgdGhpcy5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBhdXNlJywgdGhpcyApO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICB0aGlzLl9pc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNlZWsoIHNlZWtUaW1lOiBudW1iZXIsIHJlbG9hZEJ1ZmZlcjogYm9vbGVhbiA9IGZhbHNlLCBjb25zaWRlclN0YXJ0c0F0OiBib29sZWFuID0gZmFsc2UgKSB7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnNlZWsnLCBzZWVrVGltZSwgcmVsb2FkQnVmZmVyLCBjb25zaWRlclN0YXJ0c0F0LCB0aGlzICk7XHJcblxyXG4gICAgc2Vla1RpbWUgKz0gY29uc2lkZXJTdGFydHNBdCA/IHRoaXMuX3N0YXJ0c0F0IDogMDtcclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggc2Vla1RpbWUsIHJlbG9hZEJ1ZmZlciApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbXV0ZSgpIHtcclxuICAgIHRoaXMucGxheWVyLm11dGUoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHVubXV0ZSgpIHtcclxuICAgIHRoaXMucGxheWVyLnVubXV0ZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSgpIHtcclxuICAgIGNvbnN0IGFyckV2ZXJ5SWZyYW1lSWQgPSBbLi4uWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmtleXMoKV07XHJcbiAgICBjb25zdCBoYXNJZnJhbWVOb3RSZWFkeVlldCA9IGFyckV2ZXJ5SWZyYW1lSWQuc29tZSggciA9PiAhdGhpcy5fYXJyWW91dHViZUlmcmFtZUlkUmVhZHkuaW5jbHVkZXMoIHIgKSApO1xyXG5cclxuICAgIGlmICggIWhhc0lmcmFtZU5vdFJlYWR5WWV0ICkge1xyXG4gICAgICB0aGlzLmFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5LmZvckVhY2goIG8gPT4gby5zZXR1cCggWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkICkgKTtcclxuXHJcbiAgICAgIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5mb3JFYWNoKCAoIHZhbCwga2V5ICkgPT4ge1xyXG4gICAgICAgIHZhbC5vbkV2ZXJ5WW91dHViZUlmcmFtZVJlYWR5KCk7XHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRZb3V0dWJlSWZyYW1lRWxlbWVudCggeyBpZnJhbWVJZCwgY2xhc3NMaXN0IH06IHsgaWZyYW1lSWQ6IHN0cmluZzsgY2xhc3NMaXN0Pzogc3RyaW5nW107IH0gKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG4gICAgY29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoICd5dC1pZnJhbWUtY29udGFpbmVyJyApO1xyXG4gICAgaWYgKCBjbGFzc0xpc3QgKSB7XHJcbiAgICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCAuLi5jbGFzc0xpc3QgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb250YWluZXJEaXYuaWQgPSBgY29udGFpbmVyWW91dHViZUlmcmFtZSR7IGlmcmFtZUlkIH1gO1xyXG4gICAgY29udGFpbmVyRGl2Lmluc2VydEFkamFjZW50SFRNTCggJ2FmdGVyYmVnaW4nLCB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCggaWZyYW1lSWQgKSApO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lckRpdjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXR1cFBhcmVudEZyb21Zb3V0dWJlSWZyYW1lKCB7IHBhcmVudEVsZW1lbnQsIGlmcmFtZUNvbnRhaW5lciB9OiB7IHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50OyBpZnJhbWVDb250YWluZXI6IEhUTUxFbGVtZW50OyB9ICkge1xyXG4gICAgY29uc3QgaWZyYW1lUGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keTtcclxuICAgIGlmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LWlmcmFtZS1wYXJlbnQnICk7XHJcbiAgICBpZnJhbWVQYXJlbnRFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2FmdGVyYmVnaW4nLCBpZnJhbWVDb250YWluZXIgKTtcclxuICAgIHJldHVybiBpZnJhbWVQYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgLy8gU2V0cyBkaXYgdG8gYmxvY2sgaW50ZXJhY3Rpb24sIHRvcCBkaXYsIGNvbnRhaW5lciBhbmQgYW55IG90aGVyIGVsZW1lbnQgdGhhdCBpcyBub3QgdGhlIG1haW4gaWZyYW1lXHJcbiAgcHJpdmF0ZSBzZXRFeHRlcm5hbEhUTUxFbGVtZW50cygpIHtcclxuICAgIHRoaXMuY3JlYXRlSW52aXNpYmxlRGl2VG9wKCk7XHJcbiAgICB0aGlzLmNyZWF0ZUludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oKTtcclxuXHJcbiAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMoKSB7XHJcbiAgICB0aGlzLnNldElmcmFtZUNvbnRhaW5lckF0dHJpYnV0ZXMoKTtcclxuICAgIHRoaXMuc2V0VG9wRGl2QXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5zZXREaXZCbG9ja0ludGVyYWN0aW9uQXR0cmlidXRlcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbnZpc2libGVEaXZUb3AoKSB7XHJcbiAgICB0aGlzLnRvcERpdiA9IFlvdXR1YmVJZnJhbWUuZ2V0SW52aXNpYmxlVG9wRGl2KCB0aGlzICk7XHJcbiAgICB0aGlzLnRvcERpdi5zdHlsZS56SW5kZXggPSAnOTkwJztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpIHtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gPSBZb3V0dWJlSWZyYW1lLmdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIHRoaXMgKTtcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuekluZGV4ID0gJzk5NSc7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoIGV2dCApID0+IHtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25jbGlja2ludGVyYWN0aW9uYmxvY2tlZCcsIHRoaXMsIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKTtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25pbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldERpdkJsb2NrSW50ZXJhY3Rpb25BdHRyaWJ1dGVzKCkge1xyXG4gICAgaWYgKCAhdGhpcy5kaXZCbG9ja0ludGVyYWN0aW9uICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIHRoaXMuZGl2QmxvY2tJbnRlcmFjdGlvbiwgdGhpcy5fdmlkZW9JbmZvQXR0cmlidXRlTGlzdCApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRJZnJhbWVDb250YWluZXJBdHRyaWJ1dGVzKCkge1xyXG4gICAgaWYgKCAhdGhpcy5faWZyYW1lQ29udGFpbmVyICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIHRoaXMuX2lmcmFtZUNvbnRhaW5lciwgdGhpcy5fdmlkZW9JbmZvQXR0cmlidXRlTGlzdCApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRUb3BEaXZBdHRyaWJ1dGVzKCkge1xyXG4gICAgaWYgKCAhdGhpcy50b3BEaXYgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy50b3BEaXYsIHRoaXMuX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgYmxvY2tJbnRlcmFjdGlvbiggdmFsOiBib29sZWFuICkge1xyXG4gICAgdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA9IHZhbDtcclxuXHJcbiAgICBpZiAoIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKSB7XHJcbiAgICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuZGlzcGxheSA9IHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGluaXRQbGF5ZXIoKSB7XHJcbiAgICB0aGlzLnBsYXllciA9IG5ldyBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlLlBsYXllciggdGhpcy5pZCwge1xyXG4gICAgICB2aWRlb0lkOiB0aGlzLnZpZGVvSWQsXHJcbiAgICAgIHdpZHRoOiB0aGlzLmRpbWVuc2lvbnMud2lkdGgsXHJcbiAgICAgIGhlaWdodDogdGhpcy5kaW1lbnNpb25zLmhlaWdodCxcclxuICAgICAgcGxheWVyVmFyczoge1xyXG4gICAgICAgICdyZWwnOiAwLCAgICAgICAgICAgIC8vIERlc2F0aXZhIHbDrWRlb3MgcmVsYWNpb25hZG9zXHJcbiAgICAgICAgJ2l2X2xvYWRfcG9saWN5JzogMywgLy8gRGVzYXRpdmEgc3VnZXN0w7VlcyBkZSB2w61kZW9zIGR1cmFudGUgYSBwYXVzYVxyXG4gICAgICAgICdzaG93aW5mbyc6IDAsICAgICAgIC8vIFJlbW92ZSBpbmZvcm1hw6fDtWVzIGRvIHbDrWRlbyAodMOtdHVsbywgZXRjLilcclxuICAgICAgICAnY29udHJvbHMnOiAwLCAgICAgICAvLyBSZW1vdmUgb3MgY29udHJvbGVzIGRvIHBsYXllclxyXG4gICAgICAgICdhdXRvcGxheSc6IDAgICAgICAgIC8vIERlc2F0aXZhIGEgcmVwcm9kdcOnw6NvIGF1dG9tw6F0aWNhXHJcbiAgICAgIH0sXHJcbiAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICdvblJlYWR5JzogdGhpcy5vblBsYXllclJlYWR5LmJpbmQoIHRoaXMgKSxcclxuICAgICAgICAnb25TdGF0ZUNoYW5nZSc6IHRoaXMub25QbGF5ZXJTdGF0ZUNoYW5nZS5iaW5kKCB0aGlzIClcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfeW91dHViZUFQSVJlZmVyZW5jZTogYW55O1xyXG5cclxuICBwcml2YXRlIGdldCBfdmlkZW9JbmZvQXR0cmlidXRlTGlzdCgpOiBbc3RyaW5nLCBzdHJpbmddW10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgWyd5dC1pZnJhbWUtaWQnLCB0aGlzLmlkXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tbmFtZScsIHRoaXMudmlkZW9OYW1lXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tY2hhbm5lbC1uYW1lJywgdGhpcy5jaGFubmVsTmFtZV0sXHJcbiAgICAgIFsneXQtaWZyYW1lLXZpZGVvLXRodW1iLXVybCcsIHRoaXMudmlkZW9UaHVtYl0sXHJcbiAgICAgIFsneXQtaWZyYW1lLXZpZGVvLWNoYW5uZWwtdXJsJywgdGhpcy5jaGFubmVsVVJMXVxyXG4gICAgXVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIGJ1aWxkU2luZ2xlSWZyYW1lKCB5b3V0dWJlSWZyYW1lOiBZb3V0dWJlSWZyYW1lICkge1xyXG4gICAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICd5dElmcmFtZUFQSVNjcmlwdFRhZycgKSApIHtcclxuICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XHJcbiAgICAgIHRhZy5pZCA9ICd5dElmcmFtZUFQSVNjcmlwdFRhZyc7XHJcblxyXG4gICAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XHJcbiAgICAgIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnc2NyaXB0JyApWzBdO1xyXG4gICAgICBpZiAoIGZpcnN0U2NyaXB0VGFnICYmIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHRhZywgZmlyc3RTY3JpcHRUYWcgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgYXdhaXQgd2FpdFVudGlsRWxlbWVudEV4aXN0cyggJyN5dElmcmFtZUFQSVNjcmlwdFRhZycgKTtcclxuXHJcbiAgICBhd2FpdCBwb2xsRm9yVmFyaWFibGVBc3luYzxhbnk+KCAnWVQnLFxyXG4gICAgICAoIHZhbHVlOiBhbnkgKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5QbGF5ZXIgPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGVcclxuICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGUuY29uc3RydWN0b3IgPT09IHZhbHVlLlBsYXllclxyXG4gICAgICAgICAgJiYgdmFsdWUubG9hZGVkO1xyXG4gICAgICB9LFxyXG4gICAgICAoIHZhbHVlICkgPT4ge1xyXG4gICAgICAgIFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UgPSB2YWx1ZTtcclxuICAgICAgICB5b3V0dWJlSWZyYW1lLmJ1aWxkKCk7XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICByZXR1cm4geW91dHViZUlmcmFtZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBidWlsZElmcmFtZXMoKSB7XHJcbiAgICBpZiAoICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3l0SWZyYW1lQVBJU2NyaXB0VGFnJyApICkge1xyXG4gICAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTtcclxuICAgICAgdGFnLmlkID0gJ3l0SWZyYW1lQVBJU2NyaXB0VGFnJztcclxuXHJcbiAgICAgIHRhZy5zcmMgPSBcImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2lmcmFtZV9hcGlcIjtcclxuICAgICAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbMF07XHJcbiAgICAgIGlmICggZmlyc3RTY3JpcHRUYWcgJiYgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZSApIHtcclxuICAgICAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggdGFnLCBmaXJzdFNjcmlwdFRhZyApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd2FpdFVudGlsRWxlbWVudEV4aXN0cyggJyN5dElmcmFtZUFQSVNjcmlwdFRhZycgKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgIHBvbGxGb3JWYXJpYWJsZTxhbnk+KCAnWVQnLFxyXG4gICAgICAgICggdmFsdWU6IGFueSApID0+IHtcclxuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUuUGxheWVyID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGVcclxuICAgICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuUGxheWVyXHJcbiAgICAgICAgICAgICYmIHZhbHVlLmxvYWRlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgICggdmFsdWUgKSA9PiB7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLnNldFlvdXR1YmVJZnJhbWVFbGVtZW50cygpO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBidWlsZCgpIHtcclxuICAgIHRoaXMuc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHMoKTtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldFlvdXR1YmVJZnJhbWVFbGVtZW50cygpIHtcclxuICAgIHRoaXMuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5mb3JFYWNoKCAoIHZhbCwga2V5ICkgPT4ge1xyXG4gICAgICBpZiAoICF2YWwuaXNQbGF5ZXJSZWFkeSApIHtcclxuICAgICAgICB2YWwuYnVpbGQoKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEludmlzaWJsZVRvcERpdiggeXRJZnJhbWU6IFlvdXR1YmVJZnJhbWUgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7XHJcbiAgICAgIHBhcmVudEVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB5dElmcmFtZS5pZCApIS5wYXJlbnRFbGVtZW50ISxcclxuICAgICAgaWQ6IGBpbnZpc2libGVUb3BEaXZIb2xkVG9EcmFnJHsgeXRJZnJhbWUuaWQgfWAsXHJcbiAgICAgIHBvc2l0aW9uOiB7IHRvcDogMCwgbGVmdDogMCB9LFxyXG4gICAgICBkaW1lbnNpb25zOiB7IHdpZHRoOiB5dElmcmFtZS5kaW1lbnNpb25zLndpZHRoLCBoZWlnaHQ6IHl0SWZyYW1lLmRpbWVuc2lvbnMuaGVpZ2h0ICogMC4yIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG5cclxuICBzdGF0aWMgZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggeXRJZnJhbWU6IFlvdXR1YmVJZnJhbWUgKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgZWxlbWVudEludmlzaWJsZURpdiA9IGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7XHJcbiAgICAgIHBhcmVudEVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB5dElmcmFtZS5pZCApIS5wYXJlbnRFbGVtZW50ISxcclxuICAgICAgaWQ6IGBpbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uJHsgeXRJZnJhbWUuaWQgfWAsXHJcbiAgICAgIHBvc2l0aW9uOiB7IHRvcDogMCwgbGVmdDogMCB9LFxyXG4gICAgICBkaW1lbnNpb25zOiB7IHdpZHRoOiB5dElmcmFtZS5kaW1lbnNpb25zLndpZHRoLCBoZWlnaHQ6IHl0SWZyYW1lLmRpbWVuc2lvbnMuaGVpZ2h0IH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBlbGVtZW50SW52aXNpYmxlRGl2LmNsYXNzTGlzdC5hZGQoICd5dC1kaXYtYmxvY2staW50ZXJhY3Rpb24nICk7XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnRJbnZpc2libGVEaXY7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHsgWW91dHViZUlmcmFtZVN3aXRjaGVyLCBZb3V0dWJlSWZyYW1lU3luYyB9OyIsImltcG9ydCB7IFlvdXR1YmVJZnJhbWUsIFlvdXR1YmVJZnJhbWVPcHRpb25zIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lJztcclxuaW1wb3J0IHsgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IH0gZnJvbSAnLi9UeXBlcyc7XHJcbmltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBZb3V0dWJlSWZyYW1lU3dpdGNoZXJPcHRpb25zIHtcclxuICBzd2l0Y2hCZXR3ZWVuOiBZb3V0dWJlSWZyYW1lW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIgZXh0ZW5kcyBPYmplY3RFdmVudExpc3RlbmVyIGltcGxlbWVudHMgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IHtcclxuICBwdWJsaWMgc3dpdGNoQmV0d2VlbjogWW91dHViZUlmcmFtZVtdO1xyXG5cclxuICBjb25zdHJ1Y3RvciggaWZyYW1lT3B0aW9uczogWW91dHViZUlmcmFtZVN3aXRjaGVyT3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5zd2l0Y2hCZXR3ZWVuID0gaWZyYW1lT3B0aW9ucy5zd2l0Y2hCZXR3ZWVuO1xyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkucHVzaCggdGhpcyApO1xyXG4gIH1cclxuXHJcbiAgLy8vIENhbGxlZCBvbmNlIHdoZW4geyBjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCkgfSBmcm9tIFlvdXR1YmVJZnJhbWUgZGV0ZWN0cyB0aGF0IGV2ZXJ5IGlmcmFtZSBpcyByZWFkeVxyXG4gIHNldHVwKCBfZGljdEV2ZXJ5SWZyYW1lOiBNYXA8c3RyaW5nLCBZb3V0dWJlSWZyYW1lPiApOiB2b2lkIHtcclxuICAgIHRoaXMuc3dpdGNoQmV0d2Vlbi5mb3JFYWNoKCAoIGlmcmFtZVRvUGxheSApID0+IGlmcmFtZVRvUGxheS5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBpZnJhbWVzVG9QYXVzZSA9IHRoaXMuc3dpdGNoQmV0d2Vlbi5maWx0ZXIoIHMgPT4gcy5pZCAhPT0gaWZyYW1lVG9QbGF5LmlkICk7XHJcblxyXG4gICAgICBpZnJhbWVzVG9QYXVzZS5mb3JFYWNoKCBpID0+IGkucGF1c2UoKSApO1xyXG5cclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25hbHRlcm5hdGUnLCB0aGlzLCBpZnJhbWVUb1BsYXksIGlmcmFtZXNUb1BhdXNlICk7XHJcbiAgICAgIGlmcmFtZVRvUGxheS5jYWxsRXZlbnRzQnlOYW1lKCAnb25hbHRlcm5hdGUnLCB0aGlzLCBpZnJhbWVUb1BsYXksIGlmcmFtZXNUb1BhdXNlICk7XHJcbiAgICB9ICkgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFlvdXR1YmVJZnJhbWUgfTsiLCJpbXBvcnQgeyBZb3V0dWJlSWZyYW1lLCBZb3V0dWJlSWZyYW1lT3B0aW9ucyB9IGZyb20gJy4vWW91dHViZUlmcmFtZSc7XHJcbmltcG9ydCB7IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB9IGZyb20gJy4vVHlwZXMnO1xyXG5pbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWW91dHViZUlmcmFtZVN5bmNPcHRpb25zIGV4dGVuZHMgWW91dHViZUlmcmFtZU9wdGlvbnMge1xyXG4gIG1haW5JZnJhbWU6IFlvdXR1YmVJZnJhbWU7XHJcbiAgc3ViSWZyYW1lczogWW91dHViZUlmcmFtZSB8IFlvdXR1YmVJZnJhbWVbXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFlvdXR1YmVJZnJhbWVTeW5jIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeSB7XHJcbiAgLy8vIFdoZW4gY2hhbmdlIHRyaWdnZXIgdGhlIGV2ZW50cyBvZiBhbGwgc3ViLWlmcmFtZXMgYW5kIGNoYW5nZSB0aGVtIGFsbFxyXG4gIHB1YmxpYyByZWFkb25seSBtYWluSWZyYW1lOiBZb3V0dWJlSWZyYW1lO1xyXG5cclxuICAvLy8gV2hlbiBvbmUgc3ViLWlmcmFtZSBjaGFuZ2UgaXQgY2hhbmdlcyB0aGUgc3RhdGUgb25seSBvZiBtYWluSWZyYW1lLCBidXQgIGFsbCBvdGhlcnMgc3ViLWlmcmFtZXMgd2lsbCBub3Qgc3luY1xyXG4gIHB1YmxpYyByZWFkb25seSBzdWJJZnJhbWVzOiBZb3V0dWJlSWZyYW1lW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBpZnJhbWVPcHRpb25zOiBZb3V0dWJlSWZyYW1lU3luY09wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMubWFpbklmcmFtZSA9IGlmcmFtZU9wdGlvbnMubWFpbklmcmFtZTtcclxuICAgIHRoaXMuc3ViSWZyYW1lcyA9IEFycmF5LmlzQXJyYXkoIGlmcmFtZU9wdGlvbnMuc3ViSWZyYW1lcyApID8gaWZyYW1lT3B0aW9ucy5zdWJJZnJhbWVzIDogW2lmcmFtZU9wdGlvbnMuc3ViSWZyYW1lc107XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5hcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeS5wdXNoKCB0aGlzICk7XHJcbiAgfVxyXG5cclxuICAvLy8gQ2FsbGVkIG9uY2Ugd2hlbiB7IGNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKSB9IGZyb20gWW91dHViZUlmcmFtZSBkZXRlY3RzIHRoYXQgZXZlcnkgaWZyYW1lIGlzIHJlYWR5XHJcbiAgc2V0dXAoIF9kaWN0RXZlcnlJZnJhbWU6IE1hcDxzdHJpbmcsIFlvdXR1YmVJZnJhbWU+ICk6IHZvaWQge1xyXG4gICAgdGhpcy5zeW5jU3ViSWZyYW1lcygpO1xyXG4gICAgdGhpcy5zeW5jRXZlbnRzV2l0aE1haW5JZnJhbWUoKTtcclxuICB9XHJcblxyXG4gIHN5bmNTdWJJZnJhbWVzKCkge1xyXG4gICAgdGhpcy5zdWJJZnJhbWVzLmZvckVhY2goIHN1YklmcmFtZSA9PiB7XHJcbiAgICAgIHN1YklmcmFtZS5zZWVrKCB0aGlzLm1haW5JZnJhbWUuc3RhcnRzQXQsIHRydWUgKTtcclxuICAgICAgc3ViSWZyYW1lLnBhdXNlKCk7XHJcblxyXG4gICAgICBzdWJJZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGxheWVyc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XHJcbiAgICAgICAgc3ViSWZyYW1lLnNlZWsoIHRoaXMubWFpbklmcmFtZS5wbGF5ZXJDdXJyZW50VGltZSwgdHJ1ZSApO1xyXG4gICAgICAgIGlmICggdGhpcy5tYWluSWZyYW1lLmlzUGxheWluZyApIHtcclxuICAgICAgICAgIHN1YklmcmFtZS5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3ViSWZyYW1lLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuXHJcbiAgICAgIHN1YklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWFpbklmcmFtZS5wbGF5KCk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCBzdWJJZnJhbWUsIHRoaXMubWFpbklmcmFtZSwgJ3BsYXknLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG5cclxuICAgICAgc3ViSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBhdXNlJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWFpbklmcmFtZS5wYXVzZSgpO1xyXG4gICAgICAgIHN1YklmcmFtZS5jYWxsRXZlbnRzQnlOYW1lKCAnb25zeW5jJywgc3ViSWZyYW1lLCB0aGlzLm1haW5JZnJhbWUsICdwbGF5JywgdGhpcy5zdWJJZnJhbWVzICk7XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHN5bmNFdmVudHNXaXRoTWFpbklmcmFtZSgpIHtcclxuICAgIHRoaXMubWFpbklmcmFtZS5hZGRFdmVudExpc3RlbmVyKCAnb25wbGF5ZXJzdGF0ZWNoYW5nZScsICgpID0+IHtcclxuICAgICAgdGhpcy5zdWJJZnJhbWVzLmZvckVhY2goIHN1YklmcmFtZSA9PiB7XHJcbiAgICAgICAgc3ViSWZyYW1lLnNlZWsoIHRoaXMubWFpbklmcmFtZS5wbGF5ZXJDdXJyZW50VGltZSwgdHJ1ZSApO1xyXG4gICAgICAgIGlmICggdGhpcy5tYWluSWZyYW1lLmlzUGxheWluZyApIHtcclxuICAgICAgICAgIHN1YklmcmFtZS5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3ViSWZyYW1lLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLm1haW5JZnJhbWUuYWRkRXZlbnRMaXN0ZW5lciggJ29ucGxheScsICgpID0+IHtcclxuICAgICAgdGhpcy5zdWJJZnJhbWVzLmZvckVhY2goIHN1YklmcmFtZSA9PiB7XHJcbiAgICAgICAgc3ViSWZyYW1lLnNlZWsoIHRoaXMubWFpbklmcmFtZS5wbGF5ZXJDdXJyZW50VGltZSwgdHJ1ZSApO1xyXG4gICAgICAgIHN1YklmcmFtZS5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgICBzdWJJZnJhbWUuY2FsbEV2ZW50c0J5TmFtZSggJ29uc3luYycsIHRoaXMubWFpbklmcmFtZSwgc3ViSWZyYW1lLCAncGxheScsIHRoaXMuc3ViSWZyYW1lcyApO1xyXG4gICAgICB9ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5tYWluSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnBhdXNlJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnN1YklmcmFtZXMuZm9yRWFjaCggc3ViSWZyYW1lID0+IHtcclxuICAgICAgICBzdWJJZnJhbWUucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICAgIHN1YklmcmFtZS5jYWxsRXZlbnRzQnlOYW1lKCAnb25zeW5jJywgdGhpcy5tYWluSWZyYW1lLCBzdWJJZnJhbWUsICdwYXVzZScsIHRoaXMuc3ViSWZyYW1lcyApO1xyXG4gICAgICB9ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5tYWluSWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoICdvbnNlZWsnLCAoIHNlZWtUaW1lOiBudW1iZXIsIHJlbG9hZEJ1ZmZlcjogYm9vbGVhbiwgY29uc2lkZXJTdGFydHNBdDogYm9vbGVhbiApID0+IHtcclxuICAgICAgdGhpcy5zdWJJZnJhbWVzLmZvckVhY2goIHN1YklmcmFtZSA9PiB7XHJcbiAgICAgICAgc2Vla1RpbWUgKz0gY29uc2lkZXJTdGFydHNBdCA/IHRoaXMubWFpbklmcmFtZS5zdGFydHNBdCA6IDA7XHJcblxyXG4gICAgICAgIHN1YklmcmFtZS5zZWVrKCBzZWVrVGltZSwgcmVsb2FkQnVmZmVyICk7XHJcbiAgICAgICAgc3ViSWZyYW1lLmNhbGxFdmVudHNCeU5hbWUoICdvbnN5bmMnLCB0aGlzLm1haW5JZnJhbWUsIHN1YklmcmFtZSwgJ3NlZWsnLCB0aGlzLnN1YklmcmFtZXMgKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgWW91dHViZUlmcmFtZSB9OyIsImltcG9ydCB7IGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzIH0gZnJvbSAnLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBQb2ludDJEIH0gZnJvbSAnLi4vVG9vbHMvTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgTW92YWJsZUVsZW1lbnQsIE1vdmFibGVPcHRpb25zIH0gZnJvbSAnLi9Nb3ZhYmxlRWxlbWVudCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnREcmFnZ2luZ1N0YXRlIHtcclxuICBwb2ludGVySWQ/OiBudW1iZXI7XHJcbiAgZHJhZ2dpbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgdHlwZSBPbkRyb3BFdmVudCA9ICggKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgZHJhZ2dhYmxlOiBEcmFnZ2FibGVFbGVtZW50ICkgPT4gdm9pZCApO1xyXG5leHBvcnQgdHlwZSBPbkdyYWJFdmVudCA9ICggKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgZHJhZ2dhYmxlOiBEcmFnZ2FibGVFbGVtZW50ICkgPT4gdm9pZCApO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhZ2dhYmxlT3B0aW9ucyA9IHtcclxuICBlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICBvbkRyb3A/OiBPbkRyb3BFdmVudDtcclxuICBvbkRyYWc/OiBPbkdyYWJFdmVudDtcclxuICBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRHJhZ2dhYmxlRWxlbWVudCBleHRlbmRzIE1vdmFibGVFbGVtZW50IHtcclxuICBwdWJsaWMgYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50OiBib29sZWFuO1xyXG4gIHByaXZhdGUgZHJhZ2dpbmdTdGF0ZTogRWxlbWVudERyYWdnaW5nU3RhdGU7XHJcblxyXG4gIHB1YmxpYyBsYXN0U3RhcnRQb2ludD86IFBvaW50MkQ7XHJcbiAgcHVibGljIG9uRHJvcD86IE9uRHJvcEV2ZW50O1xyXG4gIHB1YmxpYyBvbkRyYWc/OiBPbkdyYWJFdmVudDtcclxuXHJcbiAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBEcmFnZ2FibGVPcHRpb25zICYgTW92YWJsZU9wdGlvbnMgKSB7XHJcbiAgICBpZiAoICFvcHRpb25zLmVsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJOdWxsIGRyYWdnYWJsZSBlbGVtZW50LiBQbGVhc2UgcGFzcyBhIHZhbGlkIGVsZW1lbnQgaW4gY29uc3RydWN0b3IuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlciggb3B0aW9ucyApO1xyXG5cclxuICAgIHRoaXMuYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50ID0gb3B0aW9ucy5hbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQgPyBvcHRpb25zLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCA6IHRydWU7XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZ1N0YXRlID0ge1xyXG4gICAgICBkcmFnZ2luZzogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub25EcmFnID0gb3B0aW9ucy5vbkRyYWc7XHJcbiAgICB0aGlzLm9uRHJvcCA9IG9wdGlvbnMub25Ecm9wO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCB0aGlzLnN0YXJ0LmJpbmQoIHRoaXMgKSApO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVydXAnLCB0aGlzLmVuZC5iaW5kKCB0aGlzICkgKTtcclxuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcmNhbmNlbCcsIHRoaXMuZW5kLmJpbmQoIHRoaXMgKSApO1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIHRoaXMubW92ZS5iaW5kKCB0aGlzICkgKVxyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaHN0YXJ0JywgKCBlICkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpICk7XHJcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2RyYWdzdGFydCcsICggZSApID0+IGUucHJldmVudERlZmF1bHQoKSApO1xyXG5cclxuICAgIHRoaXMuaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbiA9IHNldEludGVydmFsKCB0aGlzLnVwZGF0ZVBvc2l0aW9uLmJpbmQoIHRoaXMgKSwgMTAwICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGVuYWJsZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgZW5hYmxlZCggdmFsdWU6IGJvb2xlYW4gKSB7XHJcbiAgICB0aGlzLl9lbmFibGVkID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZXQgZHJhZ2dpbmcoIHZhbDogYm9vbGVhbiApIHtcclxuICAgIGlmICggIXRoaXMuZW5hYmxlZCApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2luZyA9IHZhbDtcclxuXHJcbiAgICBpZiAoIHRoaXMuZHJhZ2dpbmcgKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCBcImRyYWdnaW5nXCIgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCBcImRyYWdnaW5nXCIgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCBkcmFnZ2luZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmRyYWdnaW5nU3RhdGUuZHJhZ2dpbmc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXJ0KCBldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgKTogdm9pZCB7XHJcbiAgICBpZiAoICF0aGlzLmVuYWJsZWQgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc01vdXNlRXZlbnQgPSBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQ7XHJcbiAgICBjb25zdCBpc0xlZnRCdXR0b24gPSBpc01vdXNlRXZlbnQgJiYgZXZlbnQuYnV0dG9uID09PSAwO1xyXG4gICAgY29uc3QgaXNQb2ludGVyRXZlbnQgPSBldmVudCBpbnN0YW5jZW9mIFBvaW50ZXJFdmVudDtcclxuXHJcbiAgICBpZiAoIGlzTW91c2VFdmVudCAmJiAhaXNMZWZ0QnV0dG9uICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhdGhpcy5hbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQgKSB7XHJcbiAgICAgIGNvbnN0IGlzQ29ycmVjdFRhcmdldCA9IGV2ZW50LnRhcmdldCA9PT0gdGhpcy5lbGVtZW50O1xyXG4gICAgICBpZiAoICFpc0NvcnJlY3RUYXJnZXQgKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25EcmFnJywgdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMub25EcmFnICkge1xyXG4gICAgICB0aGlzLm9uRHJhZyggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGZvciBuZXN0ZWQgZHJhZ2dhYmxlc1xyXG5cclxuICAgIGxldCB7IHgsIHkgfSA9IGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzKCBldmVudCApO1xyXG5cclxuICAgIHRoaXMubGFzdFN0YXJ0UG9pbnQgPSB7XHJcbiAgICAgIHg6IHgsXHJcbiAgICAgIHk6IHlcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZS5kZWx0YSA9IHsgZHg6IHRoaXMubW92aW5nU3RhdGUucG9zLnggLSB4LCBkeTogdGhpcy5tb3ZpbmdTdGF0ZS5wb3MueSAtIHkgfTtcclxuXHJcbiAgICBpZiAoIGlzUG9pbnRlckV2ZW50ICkge1xyXG4gICAgICB0aGlzLmRyYWdnaW5nU3RhdGUucG9pbnRlcklkID0gZXZlbnQucG9pbnRlcklkOyAvLyBrZWVwIHRyYWNrIG9mIGZpbmdlclxyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUoIGV2ZW50LnBvaW50ZXJJZCApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnOyAvLyBpZiB0aGVyZSdzIHRleHRcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW5kKCk6IHZvaWQge1xyXG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJyc7IC8vIGlmIHRoZXJlJ3MgdGV4dFxyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uRHJvcCcsIHRoaXMuZWxlbWVudCwgdGhpcyApO1xyXG4gICAgaWYgKCB0aGlzLm9uRHJvcCApIHtcclxuICAgICAgdGhpcy5vbkRyb3AoIHRoaXMuZWxlbWVudCwgdGhpcyApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHVwZGF0ZVBvc2l0aW9uKCk6IHZvaWQge1xyXG4gICAgaWYgKCB0aGlzLmRyYWdnaW5nICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIudXBkYXRlUG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBtb3ZlKCBldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgKTogdm9pZCB7XHJcbiAgICBpZiAoICF0aGlzLmVuYWJsZWQgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1BvaW50ZXJFdmVudCA9IGV2ZW50IGluc3RhbmNlb2YgUG9pbnRlckV2ZW50O1xyXG5cclxuICAgIGlmICggIXRoaXMuZHJhZ2dpbmcgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoICF0aGlzLmFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCApIHtcclxuICAgICAgY29uc3QgaXNDb3JyZWN0VGFyZ2V0ID0gZXZlbnQudGFyZ2V0ID09PSB0aGlzLmVsZW1lbnQgfHwgKCBpc1BvaW50ZXJFdmVudCAmJiB0aGlzLmRyYWdnaW5nU3RhdGUucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQgKTtcclxuICAgICAgaWYgKCAhaXNDb3JyZWN0VGFyZ2V0ICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyAvLyBmb3IgbmVzdGVkIGRyYWdnYWJsZXNcclxuXHJcbiAgICBsZXQgeyB4LCB5IH0gPSBjbGlja0V2ZW50VG9Db29yZGluYXRlcyggZXZlbnQgKTtcclxuXHJcbiAgICBzdXBlci5tb3ZlVG9Qb3NpdGlvbiggeCwgeSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXRpYyBtYWtlRWxlbWVudERyYWdnYWJsZSggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogRHJhZ2dhYmxlRWxlbWVudCB7XHJcbiAgICByZXR1cm4gbmV3IERyYWdnYWJsZUVsZW1lbnQoIHsgZWxlbWVudCB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIG1ha2VFbGVtZW50RHJhZ2dhYmxlQnlRdWVyeVNlbGVjdG9yKCBxdWVyeVNlbGVjdG9yOiBzdHJpbmcgKTogRHJhZ2dhYmxlRWxlbWVudCB8IG51bGwge1xyXG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHF1ZXJ5U2VsZWN0b3IgKTtcclxuXHJcbiAgICBpZiAoICFlbGVtZW50ICkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IERyYWdnYWJsZUVsZW1lbnQoIHsgZWxlbWVudDogZWxlbWVudCBhcyBIVE1MRWxlbWVudCB9ICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5pbXBvcnQgeyBnZXREaXN0YW5jZUZyb21Cb3JkZXIsIGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50LCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0gfSBmcm9tICcuLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IFBvaW50MkQgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRNb3ZpbmdTdGF0ZSB7XHJcbiAgcG9zOiBQb2ludDJEO1xyXG4gIGRlbHRhOiB7XHJcbiAgICBkeDogbnVtYmVyLFxyXG4gICAgZHk6IG51bWJlclxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIE1vdmFibGVPcHRpb25zID0ge1xyXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIG9uQmVmb3JlTW92ZT86IE9uTW92ZUV2ZW50O1xyXG4gIG9uQWZ0ZXJNb3ZlPzogT25Nb3ZlRXZlbnQ7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgdHlwZSBPbk1vdmVFdmVudCA9ICggKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgZHJhZ2dhYmxlOiBNb3ZhYmxlRWxlbWVudCApID0+IHZvaWQgKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZhYmxlRWxlbWVudCBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIge1xyXG4gIHB1YmxpYyByZWFkb25seSBlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICBwcm90ZWN0ZWQgbW92aW5nU3RhdGU6IEVsZW1lbnRNb3ZpbmdTdGF0ZTtcclxuICBwdWJsaWMgaW50ZXJ2YWxVcGRhdGVQb3NpdGlvbjogTm9kZUpTLlRpbWVvdXQ7XHJcbiAgcHVibGljIG9uQmVmb3JlTW92ZT86IE9uTW92ZUV2ZW50O1xyXG4gIHB1YmxpYyBvbkFmdGVyTW92ZT86IE9uTW92ZUV2ZW50O1xyXG5cclxuICBjb25zdHJ1Y3Rvciggb3B0aW9uczogTW92YWJsZU9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGlmICggIW9wdGlvbnMuZWxlbWVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIk51bGwgbW92YWJsZSBlbGVtZW50LiBQbGVhc2UgcGFzcyBhIHZhbGlkIGVsZW1lbnQgaW4gY29uc3RydWN0b3IuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQ7XHJcbiAgICB0aGlzLm9uQmVmb3JlTW92ZSA9IG9wdGlvbnMub25CZWZvcmVNb3ZlO1xyXG4gICAgdGhpcy5vbkFmdGVyTW92ZSA9IG9wdGlvbnMub25BZnRlck1vdmU7XHJcblxyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZSA9IHtcclxuICAgICAgcG9zOiB7XHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbHRhOiB7XHJcbiAgICAgICAgZHg6IDAsXHJcbiAgICAgICAgZHk6IDBcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmludGVydmFsVXBkYXRlUG9zaXRpb24gPSBzZXRJbnRlcnZhbCggdGhpcy51cGRhdGVQb3NpdGlvbi5iaW5kKCB0aGlzICksIDIwMCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwb3NpdGlvbigpOiBQb2ludDJEIHtcclxuICAgIHJldHVybiB0aGlzLm1vdmluZ1N0YXRlLnBvcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgcG9zaXRpb24oIG5ld1BvczogUG9pbnQyRCApIHtcclxuICAgIHRoaXMubW92ZVRvUG9zaXRpb24oIG5ld1Bvcy54LCBuZXdQb3MueSApXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLm1vdmluZ1N0YXRlLnBvcy54O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCB4KCBuZXdYOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLm1vdmVUb1Bvc2l0aW9uKCBuZXdYLCB0aGlzLnkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgeSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMubW92aW5nU3RhdGUucG9zLnk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IHkoIG5ld1k6IG51bWJlciApIHtcclxuICAgIHRoaXMubW92ZVRvUG9zaXRpb24oIHRoaXMueCwgbmV3WSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRUcmFuc2xhdGUoIG5ld1g6IG51bWJlciwgbmV3WTogbnVtYmVyICkge1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25CZWZvcmVNb3ZlJywgdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMub25CZWZvcmVNb3ZlICkge1xyXG4gICAgICB0aGlzLm9uQmVmb3JlTW92ZSggdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZXNldFRyYW5zbGF0ZSgpO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSArPSBgdHJhbnNsYXRlKCR7IG5ld1ggfXB4LCAkeyBuZXdZIH1weClgO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uQWZ0ZXJNb3ZlJywgdGhpcy5lbGVtZW50LCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMub25BZnRlck1vdmUgKSB7XHJcbiAgICAgIHRoaXMub25BZnRlck1vdmUoIHRoaXMuZWxlbWVudCwgdGhpcyApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRUcmFuc2xhdGVCeVBvaW50MkQoIHBvaW50OiBQb2ludDJEICkge1xyXG4gICAgdGhpcy5zZXRUcmFuc2xhdGUoIHBvaW50LngsIHBvaW50LnkgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCB1cGRhdGVQb3NpdGlvbigpOiB2b2lkIHtcclxuICAgIHRoaXMubW92aW5nU3RhdGUucG9zID0gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIHRoaXMuZWxlbWVudCApO1xyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZS5kZWx0YS5keCA9IDA7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR5ID0gMDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVzZXRUcmFuc2xhdGUoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybS5yZXBsYWNlKCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0sICcnICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbW92ZVRvUG9zaXRpb24oIHg6IG51bWJlciwgeTogbnVtYmVyICk6IHZvaWQge1xyXG4gICAgdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgPSB7IHg6IHggKyB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR4LCB5OiB5ICsgdGhpcy5tb3ZpbmdTdGF0ZS5kZWx0YS5keSB9O1xyXG4gICAgdGhpcy5zZXRUcmFuc2xhdGVCeVBvaW50MkQoIHRoaXMubW92aW5nU3RhdGUucG9zICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbW92ZVRvUG9pbnQyRCggcG9pbnQ6IFBvaW50MkQgKTogdm9pZCB7XHJcbiAgICB0aGlzLm1vdmluZ1N0YXRlLnBvcyA9IHsgeDogcG9pbnQueCArIHRoaXMubW92aW5nU3RhdGUuZGVsdGEuZHgsIHk6IHBvaW50LnkgKyB0aGlzLm1vdmluZ1N0YXRlLmRlbHRhLmR5IH07XHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZUJ5UG9pbnQyRCggdGhpcy5tb3ZpbmdTdGF0ZS5wb3MgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtb3ZlVG9UYXJnZXRFbGVtZW50KCB0YXJnZXQ6IEhUTUxFbGVtZW50ICkge1xyXG4gICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGNvbnN0IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbiA9IGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50KCB0aGlzLmVsZW1lbnQgKTtcclxuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlciA9IGdldERpc3RhbmNlRnJvbUJvcmRlciggdGhpcy5lbGVtZW50LCB0YXJnZXQgKTtcclxuICAgIGNvbnN0IHRhcmdldFJpZ2h0UG9zaXRpb24gPSBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24ueCArIGRpc3RhbmNlRnJvbUJvcmRlci5yaWdodDtcclxuICAgIGNvbnN0IHRhcmdldEJvdHRvbVBvc2l0aW9uID0gZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uLnkgKyBkaXN0YW5jZUZyb21Cb3JkZXIuYm90dG9tO1xyXG5cclxuICAgIHRoaXMuc2V0VHJhbnNsYXRlQnlQb2ludDJEKCB7XHJcbiAgICAgIHg6IE1hdGgucm91bmQoIHRhcmdldFJpZ2h0UG9zaXRpb24gLSB0YXJnZXRSZWN0LndpZHRoICksXHJcbiAgICAgIHk6IE1hdGgucm91bmQoIHRhcmdldEJvdHRvbVBvc2l0aW9uIC0gdGFyZ2V0UmVjdC5oZWlnaHQgKVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG1vdmVUb0NlbnRlck9mVGFyZ2V0RWxlbWVudCggdGFyZ2V0OiBIVE1MRWxlbWVudCApOiB2b2lkIHtcclxuICAgIGNvbnN0IHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCBlbGVtZW50VHJhbnNmb3JtUG9zaXRpb24gPSBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggdGhpcy5lbGVtZW50ICk7XHJcbiAgICBjb25zdCBkaXN0YW5jZUZyb21Cb3JkZXIgPSBnZXREaXN0YW5jZUZyb21Cb3JkZXIoIHRoaXMuZWxlbWVudCwgdGFyZ2V0ICk7XHJcbiAgICBjb25zdCB0YXJnZXRSaWdodFBvc2l0aW9uID0gZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uLnggKyBkaXN0YW5jZUZyb21Cb3JkZXIucmlnaHQ7XHJcbiAgICBjb25zdCB0YXJnZXRCb3R0b21Qb3NpdGlvbiA9IGVsZW1lbnRUcmFuc2Zvcm1Qb3NpdGlvbi55ICsgZGlzdGFuY2VGcm9tQm9yZGVyLmJvdHRvbTtcclxuXHJcbiAgICB0aGlzLnNldFRyYW5zbGF0ZUJ5UG9pbnQyRCgge1xyXG4gICAgICB4OiBNYXRoLnJvdW5kKCB0YXJnZXRSaWdodFBvc2l0aW9uIC0gKCB0YXJnZXRSZWN0LndpZHRoIC8gMiApICksXHJcbiAgICAgIHk6IE1hdGgucm91bmQoIHRhcmdldEJvdHRvbVBvc2l0aW9uIC0gKCB0YXJnZXRSZWN0LmhlaWdodCAvIDIgKSApXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhdGljIG1ha2VFbGVtZW50TW92YWJsZSggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogTW92YWJsZUVsZW1lbnQge1xyXG4gICAgcmV0dXJuIG5ldyBNb3ZhYmxlRWxlbWVudCggeyBlbGVtZW50IH0gKTtcclxuICB9XHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIE9iamVjdEV2ZW50TGlzdGVuZXIge1xyXG4gIHB1YmxpYyBldmVudHNCeU5hbWU6IE1hcDxzdHJpbmcsIEZ1bmN0aW9uW10+ID0gbmV3IE1hcCgpO1xyXG5cclxuICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50OiBGdW5jdGlvbiApIHtcclxuICAgIGlmICggIXRoaXMuZXZlbnRzQnlOYW1lLmhhcyggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSApIHtcclxuICAgICAgdGhpcy5ldmVudHNCeU5hbWUuc2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSwgW2V2ZW50XSApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ldmVudHNCeU5hbWUuZ2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApIS5wdXNoKCBldmVudCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldEV2ZW50c0J5TmFtZSggZXZlbnROYW1lOiBzdHJpbmcgKTogRnVuY3Rpb25bXSB7XHJcbiAgICBpZiAoICF0aGlzLmV2ZW50c0J5TmFtZS5oYXMoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkgKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzQnlOYW1lLnNldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCksIFtdICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzQnlOYW1lLmdldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSE7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGNhbGxFdmVudHNCeU5hbWUoIGV2ZW50TmFtZTogc3RyaW5nLCAuLi5ldmVudEFyZ3M6IGFueVtdICk6IHZvaWQge1xyXG4gICAgdGhpcy5nZXRFdmVudHNCeU5hbWUoIGV2ZW50TmFtZSApLmZvckVhY2goIGUgPT4gZSggLi4uZXZlbnRBcmdzICkgKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBEaW1lbnNpb25zLCBQb2ludDJELCBsZXJwLCByZWdleE51bWJlclBhdHRlcm4sIHJvdGF0ZUNvb3JkaW5hdGVzLCByb3RhdGVDb29yZGluYXRlc0Zyb21Qb2ludDJEIH0gZnJvbSAnLi9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyB0b1Bob25lTnVtYmVyIH0gZnJvbSAnLi9TdHJpbmdUb29scyc7XHJcbmltcG9ydCB7IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrLCBCb3JkZXJEaXN0YW5jZSB9IGZyb20gJy4uL0V4dHJhcy9Db2xsaXNpb25FdmVudHMvVHlwZXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgS2V5Ym9hcmRFdmVudENhbGxiYWNrID0gKCBldnQ6IEtleWJvYXJkRXZlbnQgKSA9PiB2b2lkO1xyXG5leHBvcnQgY29uc3QgcmVnZXhSZW1vdmVUcmFuc2xhdGVGcm9tVHJhbnNmb3JtID0gL3RyYW5zbGF0ZVxcKFteKV0qXFwpL2c7XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlVmFsdWUgPSAvcm90YXRlXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWFZhbHVlID0gL3JvdGF0ZVhcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWUgPSAvcm90YXRlWVxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZSA9IC9yb3RhdGVaXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcblxyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlID0gbmV3IE1hcDxzdHJpbmcsIEtleWJvYXJkRXZlbnRDYWxsYmFja1tdPigpO1xyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5dXAgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRBY3Rpb25LZXkoIHsga2V5LCBrZXlkb3duOiBldmVudEtleWRvd24sIGtleXVwOiBldmVudEtleXVwLCBleGVjdXRlT25seU9uY2UgPSB0cnVlIH06IHsga2V5OiBzdHJpbmc7IGtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjazsga2V5dXA/OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2s7IGV4ZWN1dGVPbmx5T25jZT86IGJvb2xlYW47IH0gKSB7XHJcbiAgaWYgKCBleGVjdXRlT25seU9uY2UgKSB7XHJcbiAgICBhZGRBY3Rpb25LZXlSdW5PbmNlKCBrZXksIGV2ZW50S2V5ZG93biwgZXZlbnRLZXl1cCApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgYWRkQWN0aW9uS2V5UnVuT25SZXBlYXQoIGtleSwgZXZlbnRLZXlkb3duLCBldmVudEtleXVwICk7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNhZmVQcm9taXNlPFQ+ID0ge1xyXG4gIGRhdGE6ICgpID0+IFQ7XHJcbiAgZXJyb3I6IEVycm9yIHwgbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVByb21pc2U8VD4oIHByb21pc2U6IFByb21pc2U8VD4gKTogUHJvbWlzZTxTYWZlUHJvbWlzZTxUPj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcHJvbWlzZTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiAoKSA9PiBkYXRhLFxyXG4gICAgICBlcnJvcjogbnVsbFxyXG4gICAgfTtcclxuICB9IGNhdGNoICggZXJyb3IgKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCBlcnJvciApO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6ICgpID0+IHsgdGhyb3cgbmV3IEVycm9yKCBcIkNvdWxkbid0IGZldGNoLCBjaGVjayBTYWZlUHJvbWlzZS5lcnJvciBmb3IgZGV0YWlscy5cIiApOyB9LFxyXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKCBTdHJpbmcoIGVycm9yICkgKVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkWW91dHViZVVybE9ySWQoIGlucHV0OiBzdHJpbmcgKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgdXJsUGF0dGVybiA9IC9eKGh0dHAocyk/OlxcL1xcLyk/KCh3KXszfS4pP3lvdXR1KGJlfC5iZSk/KFxcLmNvbSk/XFwvLisvO1xyXG4gIGNvbnN0IGlkUGF0dGVybiA9IC9eW2EtekEtWjAtOV8tXXsxMX0kLztcclxuXHJcbiAgcmV0dXJuIHVybFBhdHRlcm4udGVzdCggaW5wdXQgKSB8fCBpZFBhdHRlcm4udGVzdCggaW5wdXQgKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkWW91VHViZVVybCggdXJsOiBzdHJpbmcgKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgcGF0dGVybiA9IC9eKGh0dHAocyk/OlxcL1xcLyk/KCh3KXszfS4pP3lvdXR1KGJlfC5iZSk/KFxcLmNvbSk/XFwvLisvO1xyXG4gIHJldHVybiBwYXR0ZXJuLnRlc3QoIHVybCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFlvdVR1YmVJZCggaW5wdXQ6IHN0cmluZyApOiBzdHJpbmcgfCBudWxsIHtcclxuICBjb25zdCByZWdleCA9IC9bPyZddj0oW14/Jl0rKS87XHJcbiAgY29uc3QgbWF0Y2ggPSBpbnB1dC5tYXRjaCggcmVnZXggKTtcclxuICBpZiAoIG1hdGNoICYmIG1hdGNoWzFdICkge1xyXG4gICAgcmV0dXJuIG1hdGNoWzFdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJZiBkaXJlY3QgdmlkZW8gSUQgaXMgcHJvdmlkZWRcclxuICAgIHJldHVybiBpbnB1dC5sZW5ndGggPT09IDExID8gaW5wdXQgOiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQsIGF0dHJMaXN0OiBbc3RyaW5nLCBzdHJpbmddW10gKSB7XHJcbiAgYXR0ckxpc3QuZm9yRWFjaCggKCBba2V5LCB2YWxdICkgPT4ge1xyXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoIGtleSwgdmFsICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEZyb21IVE1MKCBodG1sOiBzdHJpbmcsIHRyaW06IGJvb2xlYW4gPSB0cnVlICkge1xyXG4gIGh0bWwgPSB0cmltID8gaHRtbC50cmltKCkgOiBodG1sO1xyXG5cclxuICBpZiAoICFodG1sICkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0ZW1wbGF0ZScgKTtcclxuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xyXG4gIGNvbnN0IHJlc3VsdCA9IHRlbXBsYXRlLmNvbnRlbnQuY2hpbGRyZW47XHJcblxyXG4gIGlmICggcmVzdWx0Lmxlbmd0aCA9PT0gMSApIHtcclxuICAgIHJldHVybiByZXN1bHRbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gQXJyYXkuZnJvbSggcmVzdWx0ICkgYXMgSFRNTEVsZW1lbnRbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zQnlJZCggZWxlbWVudElkOiBzdHJpbmcgKTogRGltZW5zaW9ucyB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBlbGVtZW50SWQgKTtcclxuXHJcbiAgaWYgKCAhZWxlbWVudCApIHtcclxuICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIGVsZW1lbnQgYXQgZ2V0RWxlbWVudERpbWVuc2lvbnNCeUlkIHdpdGggaWQ6IFwiICsgZWxlbWVudElkICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZ2V0RWxlbWVudERpbWVuc2lvbnMoIGVsZW1lbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBEaW1lbnNpb25zIHtcclxuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBET01SZWN0IHtcclxuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCBjZW50ZXJYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgY29uc3QgY2VudGVyWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAvLyBSb3RhdGlvbiBhbmdsZSBpbiBkZWdyZWVzIChleHRyYWN0ZWQgZnJvbSBzdHlsZS50cmFuc2Zvcm0gb3IgYW55IG90aGVyIHNvdXJjZSlcclxuICBjb25zdCByb3RhdGlvbkFuZ2xlID0gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk7XHJcblxyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIHJvdGF0aW9uQW5nbGU7XHJcbiAgY29uc3QgY29zVGhldGEgPSBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIGNvbnN0IHNpblRoZXRhID0gTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSByb3RhdGVkIGNvb3JkaW5hdGVzXHJcbiAgY29uc3Qgcm90YXRlZFgxID0gY2VudGVyWCArICggcmVjdC5sZWZ0IC0gY2VudGVyWCApICogY29zVGhldGEgLSAoIHJlY3QudG9wIC0gY2VudGVyWSApICogc2luVGhldGE7XHJcbiAgY29uc3Qgcm90YXRlZFkxID0gY2VudGVyWSArICggcmVjdC5sZWZ0IC0gY2VudGVyWCApICogc2luVGhldGEgKyAoIHJlY3QudG9wIC0gY2VudGVyWSApICogY29zVGhldGE7XHJcblxyXG4gIGNvbnN0IHJvdGF0ZWRYMiA9IGNlbnRlclggKyAoIHJlY3QucmlnaHQgLSBjZW50ZXJYICkgKiBjb3NUaGV0YSAtICggcmVjdC5ib3R0b20gLSBjZW50ZXJZICkgKiBzaW5UaGV0YTtcclxuICBjb25zdCByb3RhdGVkWTIgPSBjZW50ZXJZICsgKCByZWN0LnJpZ2h0IC0gY2VudGVyWCApICogc2luVGhldGEgKyAoIHJlY3QuYm90dG9tIC0gY2VudGVyWSApICogY29zVGhldGE7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBsZWZ0LCB0b3AsIGJvdHRvbSwgYW5kIHJpZ2h0IGNvb3JkaW5hdGVzXHJcbiAgY29uc3Qgcm90YXRlZExlZnQgPSBNYXRoLm1pbiggcm90YXRlZFgxLCByb3RhdGVkWDIgKTtcclxuICBjb25zdCByb3RhdGVkVG9wID0gTWF0aC5taW4oIHJvdGF0ZWRZMSwgcm90YXRlZFkyICk7XHJcbiAgY29uc3Qgcm90YXRlZEJvdHRvbSA9IE1hdGgubWF4KCByb3RhdGVkWTEsIHJvdGF0ZWRZMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRSaWdodCA9IE1hdGgubWF4KCByb3RhdGVkWDEsIHJvdGF0ZWRYMiApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgeDogcm90YXRlZExlZnQsXHJcbiAgICB5OiByb3RhdGVkVG9wLFxyXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgdG9KU09OOiByZWN0LnRvSlNPTixcclxuICAgIGxlZnQ6IHJvdGF0ZWRMZWZ0LFxyXG4gICAgdG9wOiByb3RhdGVkVG9wLFxyXG4gICAgYm90dG9tOiByb3RhdGVkQm90dG9tLFxyXG4gICAgcmlnaHQ6IHJvdGF0ZWRSaWdodCxcclxuICB9IGFzIERPTVJlY3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleTogc3RyaW5nLCBldmVudEtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjaywgZXZlbnRLZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjayApIHtcclxuICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5oYXMoIGtleSApICkge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLnNldCgga2V5LCBbZXZlbnRLZXlkb3duLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UuZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLnNldCgga2V5LCBbZXZlbnRLZXlkb3duXSApXHJcbiAgfVxyXG5cclxuICBpZiAoIGV2ZW50S2V5dXAgKSB7XHJcbiAgICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5oYXMoIGtleSApICkge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5dXAuZ2V0KCBrZXkgKSFdIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXBdIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEFjdGlvbktleVJ1bk9uUmVwZWF0KCBrZXk6IHN0cmluZywgZXZlbnRLZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2ssIGV2ZW50S2V5dXA/OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5oYXMoIGtleSApICkge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuc2V0KCBrZXksIFtldmVudEtleWRvd24sIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LmdldCgga2V5ICkhXSApXHJcbiAgfSBlbHNlIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LnNldCgga2V5LCBbZXZlbnRLZXlkb3duXSApXHJcbiAgfVxyXG5cclxuICBpZiAoIGV2ZW50S2V5dXAgKSB7XHJcbiAgICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5oYXMoIGtleSApICkge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5dXAuZ2V0KCBrZXkgKSFdIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXBdIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0VsZW1lbnRDb2xsaXNpb24oIGVsZW1lbnQxOiBIVE1MRWxlbWVudCwgZWxlbWVudDI6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHJlY3QxID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZWxlbWVudDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50MSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50MiApO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvbGxGb3JWYXJpYWJsZTxUPiggdmFyaWFibGVOYW1lOiBzdHJpbmcsIHJlYWR5Q29uZGl0aW9uOiAoIHZhbHVlOiBUICkgPT4gYm9vbGVhbiwgY2FsbGJhY2s6ICggdmFsdWU6IFQgKSA9PiB2b2lkICkge1xyXG4gIGNvbnN0IHBvbGxJbnRlcnZhbCA9IDEwMDtcclxuICBjb25zdCBwb2xsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgIGlmICggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSAhPT0gdW5kZWZpbmVkICYmIHJlYWR5Q29uZGl0aW9uKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICkgKSB7XHJcbiAgICAgIC8vIElmIGJvdGggY29uZGl0aW9ucyBhcmUgbWV0LCBleGVjdXRlIHRoZSBjYWxsYmFjayBhbmQgc3RvcCBwb2xsaW5nXHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoIHBvbGwgKTtcclxuICAgICAgY2FsbGJhY2soICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKTtcclxuICAgIH1cclxuICB9LCBwb2xsSW50ZXJ2YWwgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvbGxGb3JWYXJpYWJsZUFzeW5jPFQ+KCB2YXJpYWJsZU5hbWU6IHN0cmluZywgcmVhZHlDb25kaXRpb246ICggdmFsdWU6IFQgKSA9PiBib29sZWFuLCBjYWxsYmFjazogKCB2YWx1ZTogVCApID0+IHZvaWQgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgcG9sbEludGVydmFsID0gMTAwO1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPiggKCByZXNvbHZlICkgPT4ge1xyXG4gICAgY29uc3QgcG9sbCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgIGlmICggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSAhPT0gdW5kZWZpbmVkICYmIHJlYWR5Q29uZGl0aW9uKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICkgKSB7XHJcbiAgICAgICAgLy8gSWYgYm90aCBjb25kaXRpb25zIGFyZSBtZXQsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrLCBzdG9wIHBvbGxpbmcsIGFuZCByZXNvbHZlIHRoZSBwcm9taXNlXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCggcG9sbCApO1xyXG4gICAgICAgIGNhbGxiYWNrKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICk7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCBwb2xsSW50ZXJ2YWwgKTtcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCBzZWxlY3Rvcjogc3RyaW5nICkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgIHJldHVybiByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlciggbXV0YXRpb25zID0+IHtcclxuICAgICAgaWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICkge1xyXG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKCBkb2N1bWVudC5ib2R5LCB7XHJcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgfSApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGF5KCBtczogbnVtYmVyICk6IFByb21pc2U8dm9pZD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCByZXNvbHZlLCBtcyApICk7XHJcbn1cclxuXHJcbi8vLyBHZXQgdGhlIGRlZmF1bHQgYXR0cmlidXRlcyBmcm9tIHRoZSB0YXJnZXQgZWxlbWVudFxyXG4vLy8gSWYgaGF2ZSBub3QgZGVmYXVsdCBhdHRyaWJ1dGUgd2l0aCB0aGlzIEBhdHRyaWJ1dGVOYW1lIG9uIG1hcCB3aWxsIHNldCB0aGUgY3VycmVudCBhdHRyaWJ1dGUgYXMgZGVmYXVsdFxyXG4vLy8gSWYgaGF2ZSBub3QgZGVmYXVsdCBhdHRyaWJ1dGUgd2l0aCB0aGlzIEBhdHRyaWJ1dGVOYW1lIHdpbGwgcmV0dXJuIGFuIGVtcHR5IHN0cmluZ1xyXG5leHBvcnQgY29uc3QgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQgPSBuZXcgTWFwPEhUTUxFbGVtZW50LCBNYXA8c3RyaW5nLCBzdHJpbmc+PigpO1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcclxuICBjb25zdCBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lID0gbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuZ2V0KCB0YXJnZXQgKSE7XHJcbiAgY29uc3QgdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA9ICFkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmhhcyggYXR0cmlidXRlTmFtZSApID8gdGFyZ2V0LmdldEF0dHJpYnV0ZSggYXR0cmlidXRlTmFtZSApIDogZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZS5nZXQoIGF0dHJpYnV0ZU5hbWUgKSE7XHJcblxyXG4gIHJlc3VsdCA9IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgPyB0YXJnZXREZWZhdWx0QXR0cmlidXRlIDogJyc7XHJcbiAgc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0LCBhdHRyaWJ1dGVOYW1lLCByZXN1bHQgKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldDogSFRNTEVsZW1lbnQsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgbmV3RGVmYXVsdEF0dHJpYnV0ZTogc3RyaW5nICk6IHZvaWQge1xyXG4gIGlmICggIW1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmhhcyggdGFyZ2V0ICkgKSB7XHJcbiAgICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5zZXQoIHRhcmdldCwgbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSApO1xyXG4gIH1cclxuXHJcbiAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuZ2V0KCB0YXJnZXQgKSEuc2V0KCBhdHRyaWJ1dGVOYW1lLCBuZXdEZWZhdWx0QXR0cmlidXRlICk7XHJcbn1cclxuXHJcbi8vLyBEaXZpZGUgbyBlbGVtZW50byBAdGFyZ2V0IGVtIDkgXCJxdWFkcmFkb3NcIiBpZ3VhaXMgZSByZXRvcm5hIGVtIHF1YWlzIHF1YWRyYWRvcyBvIGRyYWdnYWJsZSBlc3TDoSBjb2xpZGluZG8gY29tIG8gdGFyZ2V0XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xsaXNpb25EaXJlY3Rpb24oIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2sge1xyXG4gIGNvbnN0IHJlY3QxID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZHJhZ2dhYmxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZHJhZ2dhYmxlICk7XHJcbiAgY29uc3QgcmVjdDIgPSAhY2hlY2tCb2R5Um90YXRpb24gPyB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCB0YXJnZXQgKTtcclxuXHJcbiAgY29uc3QgaXNUb3AgPSByZWN0MS5ib3R0b20gPiByZWN0Mi50b3AgJiYgcmVjdDEudG9wIDwgcmVjdDIudG9wICsgcmVjdDIuaGVpZ2h0IC8gMztcclxuICBjb25zdCBpc1JpZ2h0ID0gcmVjdDEubGVmdCA8IHJlY3QyLnJpZ2h0ICYmIHJlY3QxLnJpZ2h0ID4gcmVjdDIucmlnaHQgLSByZWN0Mi53aWR0aCAvIDM7XHJcbiAgY29uc3QgaXNDZW50ZXIgPSByZWN0MS50b3AgPCByZWN0Mi5ib3R0b20gJiYgcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLmxlZnQ7XHJcbiAgY29uc3QgaXNCb3R0b20gPSByZWN0MS50b3AgPCByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLmJvdHRvbSAtIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNMZWZ0ID0gcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0ICYmIHJlY3QxLmxlZnQgPCByZWN0Mi5sZWZ0ICsgcmVjdDIud2lkdGggLyAzO1xyXG5cclxuICByZXR1cm4geyB0b3A6IGlzVG9wLCByaWdodDogaXNSaWdodCwgY2VudGVyOiBpc0NlbnRlciwgYm90dG9tOiBpc0JvdHRvbSwgbGVmdDogaXNMZWZ0IH07XHJcbn1cclxuXHJcbi8vLyByZXR1cm4gdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZHJhZ2dhYmxlIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHRhcmdldCBlbGVtZW50IGZyb20gZWFjaCBib3JkZXIgXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREaXN0YW5jZUZyb21Cb3JkZXIoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogQm9yZGVyRGlzdGFuY2Uge1xyXG4gIGNvbnN0IHJlY3QxID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZHJhZ2dhYmxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZHJhZ2dhYmxlICk7XHJcbiAgY29uc3QgcmVjdDIgPSAhY2hlY2tCb2R5Um90YXRpb24gPyB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCB0YXJnZXQgKTtcclxuXHJcbiAgY29uc3QgY2VudGVyID0ge1xyXG4gICAgeDogcmVjdDEubGVmdCArIHJlY3QxLndpZHRoIC8gMixcclxuICAgIHk6IHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyOiBCb3JkZXJEaXN0YW5jZSA9IHtcclxuICAgIHRvcDogY2VudGVyLnkgLSByZWN0Mi50b3AsXHJcbiAgICByaWdodDogcmVjdDIucmlnaHQgLSBjZW50ZXIueCxcclxuICAgIGJvdHRvbTogcmVjdDIuYm90dG9tIC0gY2VudGVyLnksXHJcbiAgICBsZWZ0OiBjZW50ZXIueCAtIHJlY3QyLmxlZnQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGRpc3RhbmNlRnJvbUJvcmRlcjtcclxufVxyXG5cclxuZnVuY3Rpb24gcnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyggZXZ0OiBLZXlib2FyZEV2ZW50ICkge1xyXG4gIGZvciAoIGNvbnN0IHBhaXIgb2YgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBydW5LZXlkb3duQWN0aW9uc1JlcGVhdCggZXZ0OiBLZXlib2FyZEV2ZW50ICkge1xyXG4gIGZvciAoIGNvbnN0IHBhaXIgb2YgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsIGV2dCA9PiB7XHJcbiAgaWYgKCAhZXZ0LnJlcGVhdCApIHtcclxuICAgIHJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMoIGV2dCApO1xyXG4gIH1cclxuXHJcbiAgcnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQoIGV2dCApO1xyXG59ICk7XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleXVwJywgZXZ0ID0+IHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXl1cCApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufSApO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBheGlzOiAneCcgfCAneScgfCAneicgPSAneCcgKTogbnVtYmVyIHtcclxuICBsZXQgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlOiBSZWdFeHA7XHJcbiAgc3dpdGNoICggYXhpcyApIHtcclxuICAgIGNhc2UgJ3gnOlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlWFZhbHVlO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3knOlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlWVZhbHVlO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ3onOlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlWlZhbHVlO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG5cclxuICBjb25zdCBtYXRjaCA9IHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZS5leGVjKCBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSApO1xyXG4gIGlmICggbWF0Y2ggKSB7XHJcbiAgICBjb25zdCByb3RhdGlvblZhbHVlID0gcGFyc2VGbG9hdCggbWF0Y2hbMV0gKTtcclxuICAgIHJldHVybiByb3RhdGlvblZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMoKTogbnVtYmVyIHtcclxuICBjb25zdCBtYXRjaCA9IGdldFJlZ2V4UmVtb3ZlUm90YXRpb25Gcm9tQm9keSgpLmV4ZWMoIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtICk7XHJcbiAgaWYgKCBtYXRjaCApIHtcclxuICAgIGNvbnN0IHJvdGF0aW9uVmFsdWUgPSBwYXJzZUZsb2F0KCBtYXRjaFsxXSApO1xyXG4gICAgcmV0dXJuIHJvdGF0aW9uVmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25Gcm9tQm9keSgpIHtcclxuICByZXR1cm4gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkJhc2VkT25BeGlzKCBnZXRCb2R5Um90YXRpb25BeGlzKCkgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkJhc2VkT25BeGlzKCBheGlzOiAneCcgfCAneScgfCAneicgKSB7XHJcbiAgc3dpdGNoICggYXhpcyApIHtcclxuICAgIGNhc2UgJ3gnOlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZTtcclxuICAgIGNhc2UgJ3knOlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZTtcclxuICAgIGNhc2UgJ3onOlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlVmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9keVJvdGF0aW9uQXhpcygpOiAneCcgfCAneScgfCAneicge1xyXG4gIHJldHVybiBnZXRFbGVtZW50Um90YXRpb25BeGlzKCBkb2N1bWVudC5ib2R5ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50Um90YXRpb25BeGlzKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiAneCcgfCAneScgfCAneicge1xyXG4gIGNvbnN0IGVsZW1lbnRUcmFuc2Zvcm0gPSBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybS50b0xvd2VyQ2FzZSgpO1xyXG4gIGlmICggZWxlbWVudFRyYW5zZm9ybS5pbmNsdWRlcyggJ3gnICkgKSB7XHJcbiAgICByZXR1cm4gJ3gnO1xyXG4gIH0gZWxzZSBpZiAoIGVsZW1lbnRUcmFuc2Zvcm0uaW5jbHVkZXMoICd5JyApICkge1xyXG4gICAgcmV0dXJuICd5JztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuICd6JztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICkudHJhbnNmb3JtLm1hdGNoKCByZWdleE51bWJlclBhdHRlcm4gKSA/PyBbMCwgMF0gKS5tYXAoIG4gPT4gK24gKTtcclxuXHJcbiAgbGV0IHJlc3VsdCA9IHtcclxuICAgIHg6IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICE9PSB1bmRlZmluZWQgPyBNYXRoLnJvdW5kKCBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs0XSApIDogMCxcclxuICAgIHk6IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICE9PSB1bmRlZmluZWQgPyBNYXRoLnJvdW5kKCBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs1XSApIDogMFxyXG4gIH1cclxuXHJcbiAgaWYgKCBjaGVja0JvZHlSb3RhdGlvbiApIHtcclxuICAgIGNvbnN0IGJvZHlBbmdsZSA9IGdldEVsZW1lbnRSb3RhdGlvbkluRGVncmVlcyggZG9jdW1lbnQuYm9keSwgZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZWxlbWVudCApICkgfHwgMDtcclxuICAgIHJldHVybiByb3RhdGVDb29yZGluYXRlcyggcmVzdWx0LngsIHJlc3VsdC55LCBib2R5QW5nbGUgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGlja0V2ZW50VG9Db29yZGluYXRlcyggZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50ICkge1xyXG4gIGlmICggZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogZXZlbnQuY2xpZW50WCxcclxuICAgICAgeTogZXZlbnQuY2xpZW50WVxyXG4gICAgfTtcclxuICB9IGVsc2UgaWYgKCBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQgKSB7XHJcbiAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogdG91Y2guY2xpZW50WCxcclxuICAgICAgeTogdG91Y2guY2xpZW50WVxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgXCJFdmVudCBub3QgRm91bmRcIjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHsgcGFyZW50RWxlbWVudCwgaWQsIHBvc2l0aW9uLCBkaW1lbnNpb25zIH06IHsgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7IGlkOiBzdHJpbmc7IHBvc2l0aW9uPzogeyB0b3A6IG51bWJlcjsgbGVmdDogbnVtYmVyOyB9OyBkaW1lbnNpb25zPzogRGltZW5zaW9uczsgfSApIHtcclxuICB2YXIgaW52aXNpYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuXHJcbiAgaWYgKCAhcGFyZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiApIHtcclxuICAgIHBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gIH1cclxuXHJcbiAgaW52aXNpYmxlRGl2LmlkID0gaWQ7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUud2lkdGggPSBkaW1lbnNpb25zICYmIGRpbWVuc2lvbnMud2lkdGggPyBkaW1lbnNpb25zLndpZHRoLnRvU3RyaW5nKCkgKyAncHgnIDogJzEwMCUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5oZWlnaHQgPSBkaW1lbnNpb25zICYmIGRpbWVuc2lvbnMuaGVpZ2h0ID8gZGltZW5zaW9ucy5oZWlnaHQudG9TdHJpbmcoKSArICdweCcgOiAnMTAwJSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnRvcCA9ICggcG9zaXRpb24/LnRvcC50b1N0cmluZygpID8/ICcwJyApICsgJ3B4JztcclxuICBpbnZpc2libGVEaXYuc3R5bGUubGVmdCA9ICggcG9zaXRpb24/LmxlZnQudG9TdHJpbmcoKSA/PyAnMCcgKSArICdweCc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLm9wYWNpdHkgPSAnMCc7IC8vIE1ha2UgdGhlIGRpdiBpbnZpc2libGVcclxuICBpbnZpc2libGVEaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJzsgLy8gQWxsb3cgdGhlIGRpdiB0byBpbnRlcmNlcHQgbW91c2UgZXZlbnRzXHJcblxyXG4gIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGludmlzaWJsZURpdiApO1xyXG5cclxuICByZXR1cm4gaW52aXNpYmxlRGl2O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBBc3luYyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oICggcmVzb2x2ZSApID0+IHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgbXMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRzQnlDaGVjayggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBvbkNoZWNrOiBGdW5jdGlvbiwgb25VbmNoZWNrOiBGdW5jdGlvbiApIHtcclxuICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyR3JvdXAgPSB0cmlnZ2VyRWxlbWVudC5uYW1lXHJcbiAgICA/IEFycmF5LmZyb20oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbbmFtZT1cIiR7IHRyaWdnZXJFbGVtZW50Lm5hbWUgfVwiXWAgKSApXHJcbiAgICA6IFt0cmlnZ2VyRWxlbWVudF07XHJcblxyXG4gIHRyaWdnZXJHcm91cC5mb3JFYWNoKCB0ID0+IHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIGV2dCA9PiB7XHJcbiAgICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25VbmNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH1cclxuICB9ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldElucHV0Rm9yY2VQaG9uZU51bWJlckZvcm1hdCggaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ICkge1xyXG4gIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgcGhvbmVJbnB1dCA9IHRoaXMudmFsdWU7XHJcblxyXG4gICAgY29uc3QgY2xlYW5QaG9uZUlucHV0ID0gcGhvbmVJbnB1dC5yZXBsYWNlKCAvXFxEL2csICcnICk7XHJcbiAgICBpZiAoIGNsZWFuUGhvbmVJbnB1dC5sZW5ndGggPiAxMSApIHtcclxuICAgICAgcGhvbmVJbnB1dCA9IGNsZWFuUGhvbmVJbnB1dC5zbGljZSggMCwgMTEgKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcGhvbmVOdW1iZXJGb3JtYXR0ZWQgPSB0b1Bob25lTnVtYmVyKCBwaG9uZUlucHV0ICk7XHJcblxyXG4gICAgaWYgKCBwaG9uZU51bWJlckZvcm1hdHRlZC5sZW5ndGggPT09IDEwICkge1xyXG4gICAgICBwaG9uZU51bWJlckZvcm1hdHRlZCA9IHBob25lTnVtYmVyRm9ybWF0dGVkLnJlcGxhY2VBbGwoICctJywgJycgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZhbHVlID0gcGhvbmVOdW1iZXJGb3JtYXR0ZWQ7XHJcbiAgfSApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcclxuICByZXR1cm4gL0FuZHJvaWR8aVBob25lL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckRldmljZVR5cGUoKTogJ2FuZHJvaWQnIHwgJ2FwcGxlJyB8ICdkZXNrdG9wJyB7XHJcbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCAoIHdpbmRvdyBhcyBhbnkgKS5vcGVyYTtcclxuXHJcbiAgaWYgKCAvYW5kcm9pZC9pLnRlc3QoIHVzZXJBZ2VudCApICkge1xyXG4gICAgcmV0dXJuICdhbmRyb2lkJztcclxuICB9IGVsc2UgaWYgKCAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdCggdXNlckFnZW50ICkgJiYgISggd2luZG93IGFzIGFueSApLk1TU3RyZWFtICkge1xyXG4gICAgcmV0dXJuICdhcHBsZSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAnZGVza3RvcCc7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPblNjcmVlbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgcmV0dXJuIChcclxuICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICByZWN0LmJvdHRvbSA8PSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkgJiZcclxuICAgIHJlY3QucmlnaHQgPD0gKCB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zID0ge1xyXG4gIG9uQ2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9LFxyXG4gIG9uVW5jaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH1cclxufSApIHtcclxuICBiaW5kRWxlbWVudHNCeUNoZWNrKFxyXG4gICAgdHJpZ2dlckVsZW1lbnQsXHJcbiAgICB0YXJnZXRFbGVtZW50LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uQ2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uVW5jaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRnJvbVJhZGlvR3JvdXAoIGdyb3VwTmFtZTogc3RyaW5nICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBgW25hbWU9JHsgZ3JvdXBOYW1lIH1dOmNoZWNrZWRgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoIGVsICkge1xyXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGwoIHRhcmdldFk6IG51bWJlciwgZHVyYXRpb246IG51bWJlciApOiB2b2lkIHtcclxuICBjb25zdCBzdGFydFkgPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7XHJcbiAgbGV0IHN0YXJ0VGltZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIGZ1bmN0aW9uIHN0ZXAoIGN1cnJlbnRUaW1lOiBudW1iZXIgKSB7XHJcbiAgICBpZiAoICFzdGFydFRpbWUgKSBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcclxuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7XHJcbiAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgubWluKCBlbGFwc2VkVGltZSAvIGR1cmF0aW9uLCAxICk7XHJcbiAgICBjb25zdCBlYXNlZFByb2dyZXNzID0gbGVycCggMCwgMSwgcHJvZ3Jlc3MgKTtcclxuICAgIHdpbmRvdy5zY3JvbGxUbyggMCwgbGVycCggc3RhcnRZLCB0YXJnZXRZLCBlYXNlZFByb2dyZXNzICkgKTtcclxuICAgIGlmICggZWxhcHNlZFRpbWUgPCBkdXJhdGlvbiApIHtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzdGVwICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHN0ZXAgKTtcclxufVxyXG5cclxuLy8gUmV0b3JuYSB1bWEgZnVuw6fDo28gcXVlIG7Do28gdmFpIHNlciBjb21wbGV0YWRhIGNhc28gc2VqYSBjaGFtYWRhIG5vdmFtZW50ZSBlbSB7IGRlbGF5IH0gbWlsaXNzZWd1bmRvc1xyXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VGYWN0b3J5KCBmdW5jOiBGdW5jdGlvbiwgZGVsYXk6IG51bWJlciApOiBGdW5jdGlvbiB7XHJcbiAgbGV0IGluRGVib3VuY2U6IG51bWJlcjtcclxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdpbmRvdztcclxuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICBjbGVhclRpbWVvdXQoIGluRGVib3VuY2UgKTtcclxuICAgIGluRGVib3VuY2UgPSB3aW5kb3cuc2V0VGltZW91dCggKCkgPT4gZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApLCBkZWxheSApO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBzw7MgcG9kZSBzZXIgY29tcGxldGFkYSB1bWEgdmV6IGEgY2FkYSB7IGxpbWl0IH0gbWlsaXNzZWd1bmRvcyBcclxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGxpbWl0OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBsYXN0RnVuYzogbnVtYmVyO1xyXG4gIGxldCBsYXN0UmFuOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgaWYgKCAhbGFzdFJhbiApIHtcclxuICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICBsYXN0UmFuID0gRGF0ZS5ub3coKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCggbGFzdEZ1bmMgKTtcclxuICAgICAgbGFzdEZ1bmMgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gPj0gbGltaXQgKSB7XHJcbiAgICAgICAgICBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XHJcbiAgICAgICAgICBsYXN0UmFuID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIGxpbWl0IC0gKCBEYXRlLm5vdygpIC0gbGFzdFJhbiApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsVG8oIHBvczogbnVtYmVyICk6IHZvaWQge1xyXG4gIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogcG9zLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQsIHVzZUJyb3dzZXJEZWZhdWx0czogYm9vbGVhbiA9IHRydWUgKTogdm9pZCB7XHJcbiAgaWYgKCAhdXNlQnJvd3NlckRlZmF1bHRzICkge1xyXG4gICAgY29uc3QgdGFyZ2V0WSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnNjcm9sbFk7XHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IDEwMDA7IC8vIER1cmHDp8OjbyBmaXhhIGVtIG1pbGlzc2VndW5kb3MgKDEgc2VndW5kbylcclxuICAgIHNtb290aFNjcm9sbCggdGFyZ2V0WSwgZHVyYXRpb24gKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55LFxyXG4gICAgbGVmdDogZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE9wdGlvbkJ5VGV4dCggaWRTZWxlY3RFbGVtZW50OiBzdHJpbmcsIHNlYXJjaFRleHQ6IHN0cmluZywgY29udGFpbnM6IGJvb2xlYW4gPSBmYWxzZSApOiB2b2lkIHtcclxuICBjb25zdCBzZWxlY3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGlkU2VsZWN0RWxlbWVudCApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xyXG5cclxuICBpZiAoICFzZWxlY3RFbGVtZW50ICkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgb3B0aW9uc0VsZW1lbnRvU2VsZWN0ID0gWy4uLnNlbGVjdEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ29wdGlvbicgKV07XHJcblxyXG4gIGxldCBzZWxlY3RlZE9wdGlvbjtcclxuICBpZiAoIGNvbnRhaW5zICkge1xyXG4gICAgc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25zRWxlbWVudG9TZWxlY3RcclxuICAgICAgLmZpbHRlciggZWwgPT4gZWwudGV4dENvbnRlbnQgJiYgZWwudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyggc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpICkgKVswXS52YWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25zRWxlbWVudG9TZWxlY3RcclxuICAgICAgLmZpbHRlciggZWwgPT4gZWwudGV4dENvbnRlbnQgJiYgZWwudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKSA9PT0gc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpIClbMF0udmFsdWU7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RFbGVtZW50LnZhbHVlID0gc2VsZWN0ZWRPcHRpb247XHJcbn1cclxuXHJcbiIsImV4cG9ydCBjb25zdCByZWdleE51bWJlclBhdHRlcm4gPSAvLT9cXGQrXFwuP1xcZCovZztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQyRCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25zIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1JvdyggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIGluZGV4IC8gZ3JpZFdpZHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvQ29sKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gaW5kZXggJSBncmlkV2lkdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3dDb2xUb0luZGV4KCByb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuICggcm93ICogd2lkdGggKSArIGNvbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQoIGNvb3JkczogUG9pbnQyRCwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0gY29vcmRzLnggKiBNYXRoLmNvcyggcmFkaWFucyApIC0gY29vcmRzLnkgKiBNYXRoLnNpbiggcmFkaWFucyApO1xyXG4gIGNvbnN0IG5ld1kgPSBjb29yZHMueCAqIE1hdGguc2luKCByYWRpYW5zICkgKyBjb29yZHMueSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzKCB4OiBudW1iZXIsIHk6IG51bWJlciwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0geCAqIE1hdGguY29zKCByYWRpYW5zICkgLSB5ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0geCAqIE1hdGguc2luKCByYWRpYW5zICkgKyB5ICogTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICByZXR1cm4geyB4OiBuZXdYLCB5OiBuZXdZIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcmVEaWFnb25hbHMoIGluZGV4MTogbnVtYmVyLCBpbmRleDI6IG51bWJlciwgZ3JpZFNpemU6IG51bWJlciApOiBib29sZWFuIHtcclxuICBpZiAoIGluZGV4MSA8IDAgfHwgaW5kZXgyIDwgMCApIHtcclxuICAgIHRocm93IG5ldyBFcnJvciggJ0ludmFsaWQgY2VsbCBpbmRpY2VzJyApO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93MSA9IGluZGV4VG9Sb3coIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wxID0gaW5kZXhUb0NvbCggaW5kZXgxLCBncmlkU2l6ZSApO1xyXG5cclxuICBjb25zdCByb3cyID0gaW5kZXhUb1JvdyggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG4gIGNvbnN0IGNvbDIgPSBpbmRleFRvQ29sKCBpbmRleDIsIGdyaWRTaXplICk7XHJcblxyXG4gIHJldHVybiBNYXRoLmFicyggcm93MSAtIHJvdzIgKSA9PT0gTWF0aC5hYnMoIGNvbDEgLSBjb2wyICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUG9pbnQyRCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IGluZGV4VG9Db2woIGluZGV4LCBncmlkV2lkdGggKSxcclxuICAgIHk6IGluZGV4VG9Sb3coIGluZGV4LCBncmlkV2lkdGggKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCAxIC0gYW1vdW50ICkgKiBtaW4gKyBhbW91bnQgKiBtYXg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlTGVycCggYTogbnVtYmVyLCBiOiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggdmFsIC0gYSApIC8gKCBiIC0gYSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtYXAoIGluTWluOiBudW1iZXIsIGluTWF4OiBudW1iZXIsIG91dE1pbjogbnVtYmVyLCBvdXRNYXg6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gbGVycCggb3V0TWluLCBvdXRNYXgsIGludmVyc2VMZXJwKCBpbk1pbiwgaW5NYXgsIHZhbCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICkgKyBtaW4gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxTZXRzPFQ+KCBzZXQxOiBTZXQ8VD4sIHNldDI6IFNldDxUPiApIHtcclxuICByZXR1cm4gc2V0MS5zaXplID09PSBzZXQyLnNpemUgJiZcclxuICAgIFsuLi5zZXQxXS5ldmVyeSggKCB4ICkgPT4gc2V0Mi5oYXMoIHggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgbWluID0gTWF0aC5jZWlsKCBtaW4gKTtcclxuICBtYXggPSBNYXRoLmZsb29yKCBtYXggKTtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICsgMSApICkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Gcm9tQXJyYXk8VD4oIGFycjogQXJyYXk8VD4gKSB7XHJcbiAgcmV0dXJuIGFycltnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIGFyci5sZW5ndGggKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCggbnVtOiBudW1iZXIgPSAwLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMTAwICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBudW0sIG1heCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW51dGVzVG9NaWxsaXNlY29uZHMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zICogNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb01pbnV0ZXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0hvdXJzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDMuNmUrNjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvRGF5cyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA4LjY0ZSs3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVnYWJ5dGVUb0J5dGUoIG1iOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1iICogMTAyNCAqIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBieXRlVG9NZWdhYnl0ZSggYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBiIC8gMTAyNCAvIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21SYW5nZSggc2l6ZTogbnVtYmVyLCBzdGFydGluZ0Zyb206IG51bWJlciA9IDAgKTogbnVtYmVyW10ge1xyXG4gIGxldCByZXN1bHQgPSBbLi4uQXJyYXkoIHNpemUgKS5rZXlzKCldXHJcblxyXG4gIGlmICggc3RhcnRpbmdGcm9tICE9IDAgKSB7XHJcbiAgICByZXN1bHQgPSByZXN1bHQubWFwKCBpID0+IGkgKyBzdGFydGluZ0Zyb20gKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MTAyKTtcbiJdLCJuYW1lcyI6WyJ0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCIsImlmcmFtZUlkIiwidHJpbSIsImNyZWF0ZURyYWdnYWJsZVlvdXR1YmVJZnJhbWUiLCJ2aWRlb0lkIiwic3RhcnRzQXQiLCJwYXJlbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiaWZyYW1lQ29udHJvbGxlciIsIllvdXR1YmVJZnJhbWUiLCJkcmFnZ2FibGUiLCJEcmFnZ2FibGVFbGVtZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsImFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudCIsIm9uRHJvcCIsIk9iamVjdEV2ZW50TGlzdGVuZXIiLCJzdGF0aWMiLCJNYXAiLCJwbGF5ZXIiLCJfaXNQbGF5ZXJSZWFkeSIsImlkIiwiX3ZpZGVvSWQiLCJ2aWRlb05hbWUiLCJ2aWRlb1RodW1iIiwiY2hhbm5lbFVSTCIsImNoYW5uZWxOYW1lIiwiX2lmcmFtZUVsZW1lbnQiLCJfaWZyYW1lQ29udGFpbmVyIiwiX2lmcmFtZVBhcmVudEVsZW1lbnQiLCJfaXNQbGF5aW5nIiwiX2RpbWVuc2lvbnMiLCJ0b3BEaXYiLCJfc3RhcnRzQXQiLCJfYmxvY2tJbnRlcmFjdGlvbiIsIl9kaXZCbG9ja0ludGVyYWN0aW9uIiwiX3N0YXJ0TXV0ZWQiLCJfcGxheWluZ09ic2VydmVySW50ZXJ2YWwiLCJfZXZlbnRMaXN0ZW5lciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsIl9kaWN0WW91dHViZUlmcmFtZUJ5SWQiLCJoYXMiLCJFcnJvciIsInN1cGVyIiwidGhpcyIsInN0YXJ0TXV0ZWQiLCJibG9ja0ludGVyYWN0aW9uIiwiZ2V0WW91dHViZUlmcmFtZUVsZW1lbnQiLCJzZXR1cFBhcmVudEZyb21Zb3V0dWJlSWZyYW1lIiwiaWZyYW1lQ29udGFpbmVyIiwic2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCIsImRpbWVuc2lvbnMiLCJnZXRFbGVtZW50RGltZW5zaW9ucyIsInNldCIsInNldFZpZGVvSW5mbyIsInRoZW4iLCJzZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMiLCJuYW1lIiwiY29udGFpbmVyIiwiZXh0cmFjdFlvdVR1YmVJZCIsImRlc3Ryb3kiLCJyZW1vdmUiLCJkZWxldGUiLCJpbmZvIiwiZ2V0VmlkZW9JbmZvIiwidGl0bGUiLCJhdXRob3JfbmFtZSIsInRodW1ibmFpbF91cmwiLCJhdXRob3JfdXJsIiwiY2hhbmdlVmlkZW8iLCJpc1ZhbGlkWW91dHViZVVybE9ySWQiLCJsb2FkVmlkZW9CeUlkIiwiZGVsYXkiLCJwcmVwYXJlT3B0aW9ucyIsImxvYWRWaWRlbyIsInNlZWtUbyIsImlzUGxheWluZyIsInBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cyIsInBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMiLCJyZXNwb25zZSIsImhhbmRsZVByb21pc2UiLCJmZXRjaCIsInZpZGVvVVJMIiwiZXJyb3IiLCJkYXRhIiwianNvbiIsImNvbnNvbGUiLCJvblBsYXllclJlYWR5IiwiZXZlbnQiLCJtdXRlIiwiX2FycllvdXR1YmVJZnJhbWVJZFJlYWR5IiwicHVzaCIsImdldEVsZW1lbnRCeUlkIiwic2V0UGxheWJhY2tRdWFsaXR5IiwicGF1c2VWaWRlbyIsImNhbGxFdmVudHNCeU5hbWUiLCJjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5Iiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsIl95b3V0dWJlQVBJUmVmZXJlbmNlIiwiUGxheWVyU3RhdGUiLCJQTEFZSU5HIiwic2V0SW50ZXJ2YWwiLCJzZXRDbGFzc2VzSWZyYW1lUGxheWluZyIsImNsZWFySW50ZXJ2YWwiLCJhZGQiLCJvbkV2ZXJ5WW91dHViZUlmcmFtZVJlYWR5IiwiZGl2QmxvY2tJbnRlcmFjdGlvbiIsImlmcmFtZUVsZW1lbnQiLCJpc1BsYXllclJlYWR5IiwiZHVyYXRpb24iLCJnZXREdXJhdGlvbiIsInBsYXllckR1cmF0aW9uIiwiY3VycmVudFRpbWUiLCJ0Iiwic2VlayIsImdldEN1cnJlbnRUaW1lIiwicGxheWVyQ3VycmVudFRpbWUiLCJwcm9ncmVzc1BlcmNlbnQiLCJwbGF5ZXJQcm9ncmVzc1BlcmNlbnQiLCJjbGFtcCIsInZhbCIsInRvZ2dsZSIsInBhdXNlIiwicGxheSIsInBsYXlWaWRlbyIsInNlZWtUaW1lIiwicmVsb2FkQnVmZmVyIiwiY29uc2lkZXJTdGFydHNBdCIsInVubXV0ZSIsImtleXMiLCJzb21lIiwiciIsImluY2x1ZGVzIiwiYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkiLCJmb3JFYWNoIiwibyIsInNldHVwIiwia2V5IiwiY29udGFpbmVyRGl2IiwiY3JlYXRlRWxlbWVudCIsImluc2VydEFkamFjZW50SFRNTCIsImlmcmFtZVBhcmVudEVsZW1lbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzZXRFeHRlcm5hbEhUTUxFbGVtZW50cyIsImNyZWF0ZUludmlzaWJsZURpdlRvcCIsImNyZWF0ZUludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJzZXRJZnJhbWVDb250YWluZXJBdHRyaWJ1dGVzIiwic2V0VG9wRGl2QXR0cmlidXRlcyIsInNldERpdkJsb2NrSW50ZXJhY3Rpb25BdHRyaWJ1dGVzIiwiZ2V0SW52aXNpYmxlVG9wRGl2Iiwic3R5bGUiLCJ6SW5kZXgiLCJnZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uIiwiZGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCIsIl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0IiwiaW5pdFBsYXllciIsIlBsYXllciIsIndpZHRoIiwiaGVpZ2h0IiwicGxheWVyVmFycyIsImV2ZW50cyIsImJpbmQiLCJidWlsZFNpbmdsZUlmcmFtZSIsInlvdXR1YmVJZnJhbWUiLCJ0YWciLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIndhaXRVbnRpbEVsZW1lbnRFeGlzdHMiLCJwb2xsRm9yVmFyaWFibGVBc3luYyIsInZhbHVlIiwicHJvdG90eXBlIiwibG9hZGVkIiwiYnVpbGQiLCJidWlsZElmcmFtZXMiLCJwb2xsRm9yVmFyaWFibGUiLCJzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMiLCJ5dElmcmFtZSIsImNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiZWxlbWVudEludmlzaWJsZURpdiIsIllvdXR1YmVJZnJhbWVTd2l0Y2hlciIsInN3aXRjaEJldHdlZW4iLCJpZnJhbWVPcHRpb25zIiwiX2RpY3RFdmVyeUlmcmFtZSIsImlmcmFtZVRvUGxheSIsImlmcmFtZXNUb1BhdXNlIiwiZmlsdGVyIiwicyIsImkiLCJZb3V0dWJlSWZyYW1lU3luYyIsIm1haW5JZnJhbWUiLCJzdWJJZnJhbWVzIiwiQXJyYXkiLCJpc0FycmF5Iiwic3luY1N1YklmcmFtZXMiLCJzeW5jRXZlbnRzV2l0aE1haW5JZnJhbWUiLCJzdWJJZnJhbWUiLCJNb3ZhYmxlRWxlbWVudCIsImRyYWdnaW5nU3RhdGUiLCJsYXN0U3RhcnRQb2ludCIsIm9uRHJhZyIsIl9lbmFibGVkIiwiZHJhZ2dpbmciLCJzdGFydCIsImVuZCIsIm1vdmUiLCJlIiwicHJldmVudERlZmF1bHQiLCJpbnRlcnZhbFVwZGF0ZVBvc2l0aW9uIiwidXBkYXRlUG9zaXRpb24iLCJlbmFibGVkIiwiaXNNb3VzZUV2ZW50IiwiTW91c2VFdmVudCIsImlzTGVmdEJ1dHRvbiIsImJ1dHRvbiIsImlzUG9pbnRlckV2ZW50IiwiUG9pbnRlckV2ZW50IiwidGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwieCIsInkiLCJjbGlja0V2ZW50VG9Db29yZGluYXRlcyIsIm1vdmluZ1N0YXRlIiwiZGVsdGEiLCJkeCIsInBvcyIsImR5IiwicG9pbnRlcklkIiwic2V0UG9pbnRlckNhcHR1cmUiLCJ1c2VyU2VsZWN0IiwibW92ZVRvUG9zaXRpb24iLCJtYWtlRWxlbWVudERyYWdnYWJsZSIsIm1ha2VFbGVtZW50RHJhZ2dhYmxlQnlRdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvciIsIm9uQmVmb3JlTW92ZSIsIm9uQWZ0ZXJNb3ZlIiwibmV3UG9zIiwibmV3WCIsIm5ld1kiLCJzZXRUcmFuc2xhdGUiLCJyZXNldFRyYW5zbGF0ZSIsInRyYW5zZm9ybSIsInNldFRyYW5zbGF0ZUJ5UG9pbnQyRCIsInBvaW50IiwiZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQiLCJyZXBsYWNlIiwicmVnZXhSZW1vdmVUcmFuc2xhdGVGcm9tVHJhbnNmb3JtIiwibW92ZVRvUG9pbnQyRCIsIm1vdmVUb1RhcmdldEVsZW1lbnQiLCJ0YXJnZXRSZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZWxlbWVudFRyYW5zZm9ybVBvc2l0aW9uIiwiZGlzdGFuY2VGcm9tQm9yZGVyIiwiZ2V0RGlzdGFuY2VGcm9tQm9yZGVyIiwidGFyZ2V0UmlnaHRQb3NpdGlvbiIsInJpZ2h0IiwidGFyZ2V0Qm90dG9tUG9zaXRpb24iLCJib3R0b20iLCJNYXRoIiwicm91bmQiLCJtb3ZlVG9DZW50ZXJPZlRhcmdldEVsZW1lbnQiLCJtYWtlRWxlbWVudE1vdmFibGUiLCJldmVudHNCeU5hbWUiLCJldmVudE5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldCIsImdldEV2ZW50c0J5TmFtZSIsImV2ZW50QXJncyIsInJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSIsInJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUiLCJyZWdleEdyb3VwUm90YXRlWVZhbHVlIiwicmVnZXhHcm91cFJvdGF0ZVpWYWx1ZSIsImRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSIsImRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0IiwiZGljdEtleXNCeUFjdGlvbktleXVwIiwiYXN5bmMiLCJwcm9taXNlIiwiU3RyaW5nIiwiaW5wdXQiLCJ0ZXN0IiwibWF0Y2giLCJsZW5ndGgiLCJhdHRyTGlzdCIsInNldEF0dHJpYnV0ZSIsInJlY3QiLCJnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uIiwiY2VudGVyWCIsImNlbnRlclkiLCJyb3RhdGlvbkFuZ2xlIiwiYXhpcyIsImdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyIsImdldEVsZW1lbnRSb3RhdGlvbkF4aXMiLCJleGVjIiwicGFyc2VGbG9hdCIsImdldEJvZHlSb3RhdGlvbkluRGVncmVlcyIsInJhZGlhbnMiLCJQSSIsImNvc1RoZXRhIiwiY29zIiwic2luVGhldGEiLCJzaW4iLCJyb3RhdGVkWDEiLCJyb3RhdGVkWTEiLCJyb3RhdGVkWDIiLCJyb3RhdGVkWTIiLCJyb3RhdGVkTGVmdCIsIm1pbiIsInJvdGF0ZWRUb3AiLCJyb3RhdGVkQm90dG9tIiwibWF4Iiwicm90YXRlZFJpZ2h0IiwidG9KU09OIiwidmFyaWFibGVOYW1lIiwicmVhZHlDb25kaXRpb24iLCJjYWxsYmFjayIsInBvbGwiLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNlbGVjdG9yIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwibXMiLCJzZXRUaW1lb3V0IiwiY2hlY2tCb2R5Um90YXRpb24iLCJyZWN0MSIsInJlY3QyIiwiY2VudGVyIiwiZWxlbWVudFRyYW5zZm9ybSIsImFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInJlZ2V4TnVtYmVyUGF0dGVybiIsIm1hcCIsIm4iLCJyZXN1bHQiLCJib2R5QW5nbGUiLCJyZWdleE1hdGNoUm90YXRlVmFsdWUiLCJnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMiLCJyb3RhdGVDb29yZGluYXRlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoIiwiY2hhbmdlZFRvdWNoZXMiLCJpbnZpc2libGVEaXYiLCJ0b1N0cmluZyIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiYXBwZW5kQ2hpbGQiLCJyZXBlYXQiLCJwYWlyIiwiY29kZSIsImtiRXZlbnQiLCJydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zIiwicnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQiLCJhbmdsZSIsIm51bSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==