var ImageTools;(()=>{"use strict";var t={1437:(t,e,n)=>{n.d(e,{ColorRGBA:()=>a});var r=n(739);class a{r;g;b;a;constructor(t,e,n,a=1){this.r=(0,r.clamp)(t,0,255),this.g=(0,r.clamp)(e,0,255),this.b=(0,r.clamp)(n,0,255),this.a=(0,r.clamp)(a,0,255)}toString(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`}toStringWithoutAlpha(){return`${this.r}, ${this.g}, ${this.b}`}asArray({noAlpha:t=!1}={}){return t?[this.r,this.g,this.b]:[this.r,this.g,this.b,this.a]}getCopy(){return new a(this.r,this.g,this.b,this.a)}static increaseSaturation(t,e){e/=100;const n=Math.max(...t.asArray({noAlpha:!0})),a=t.getCopy();return a.r=Math.floor((0,r.clamp)(t.r===n?t.r+t.r*e:t.r-t.r*e,0,255)),a.g=Math.floor((0,r.clamp)(t.g===n?t.g+t.g*e:t.g-t.g*e,0,255)),a.b=Math.floor((0,r.clamp)(t.b===n?t.b+t.b*e:t.b-t.b*e,0,255)),a}static getUnique(t,e=!0){return t.filter(((t,e,n)=>n.findIndex((e=>JSON.stringify(t)===JSON.stringify(e)))===e)).filter((t=>!e||a.isValid(t)&&t.a>0))}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b,yield this.a}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static isValid(t){return!("number"!=typeof t.r||Number.isNaN(t.r)||"number"!=typeof t.g||Number.isNaN(t.g)||"number"!=typeof t.b||Number.isNaN(t.b)||"number"!=typeof t.a||Number.isNaN(t.a))}static get BLACK(){return new a(0,0,0)}static get NULL(){return new a(0,0,0,0)}}},6008:(t,e,n)=>{n.d(e,{getColorPaletteByContext:()=>o});var r=n(3398),a=n(1437);function i(t,e){return new a.ColorRGBA(e[t],e[t+1],e[t+2],e[t+3]/255)}function o(t,e=0){return s(function(t,e=4){const n=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,r=[];for(var a=n.length;a>=0;a-=e)r.push(i(a,n));return r}(t),e)}function s(t,e=0){if(6===e||0===t.length){const e=t.reduce(((t,e)=>a.ColorRGBA.isValid(t)&&a.ColorRGBA.isValid(e)?(a.ColorRGBA.isValid(e)&&(t.r+=e.r,t.g+=e.g,t.b+=e.b,t.a+=e.a),t):a.ColorRGBA.NULL),a.ColorRGBA.NULL);return a.ColorRGBA.NULL.equals(e)?[a.ColorRGBA.NULL]:[new a.ColorRGBA(Math.round(e.r/t.length),Math.round(e.g/t.length),Math.round(e.b/t.length),Math.round(e.a/t.length))]}const n=function(t){let e=Number.MAX_VALUE,n=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE;t.forEach((t=>{e=Math.min(e,t.r),n=Math.min(n,t.g),a=Math.min(a,t.b),i=Math.max(i,t.r),o=Math.max(o,t.g),s=Math.max(s,t.b)}));const c=i-e,u=o-n,h=s-a,g=Math.max(c,u,h);return g===c?r.COLOR_CHANNEL.R:g===u?r.COLOR_CHANNEL.G:r.COLOR_CHANNEL.B}(t);t.sort(((t,e)=>{switch(n){case r.COLOR_CHANNEL.R:return t.r-e.r;case r.COLOR_CHANNEL.G:return t.g-e.g;case r.COLOR_CHANNEL.B:return t.b-e.b;default:return t.r-e.r}}));const i=t.length/2;return a.ColorRGBA.getUnique([...s(t.slice(0,i),e+1),...s(t.slice(i+1),e+1)].filter((t=>!t.equals(a.ColorRGBA.NULL))))}},3164:(t,e,n)=>{n.d(e,{getFileExtension:()=>a});var r=n(2843);function a(t){if((0,r.isNullOrEmpty)(t))return"";const e=t.split(".").pop();if(e&&e!==t)return e;const n=t.split("/").pop();return n&&n!==t?n:""}},739:(t,e,n)=>{function r(t=0,e=0,n=100){return Math.max(e,Math.min(t,n))}n.d(e,{clamp:()=>r})},2843:(t,e,n)=>{function r(t){return"string"!=typeof t||!t||""===t}n.d(e,{isNullOrEmpty:()=>r})},3398:(t,e,n)=>{var r,a,i,o;n.d(e,{COLOR_CHANNEL:()=>o}),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENTAGE=1]="PERCENTAGE"}(r||(r={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(a||(a={})),function(t){t[t.FROM_TOP=0]="FROM_TOP",t[t.FROM_BOTTOM=1]="FROM_BOTTOM"}(i||(i={})),function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(o||(o={}))}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{calculateAspectRatioFit:()=>a,drawImageOnCanvas:()=>m,getCanvasResizeImage:()=>g,getGradientByImageInputId:()=>f,getGradientByImageURL:()=>y,getGradientFromPalette:()=>b,getImageByBlob:()=>c,getImageByInputId:()=>s,getImageByURL:()=>o,getImagePaletteByInputId:()=>d,getImagePaletteByURL:()=>l,getImageResizeDimensionsKeepAspectRatio:()=>i,previewImage:()=>w,resizeImage:()=>C,resizeImageFromInput:()=>u,resizeImageFromURL:()=>h,setElementBackgroundGradientByCanvasContext:()=>p});var t=n(6008),e=n(3164);function a(t,e){const n=Math.min(e.width/t.width,e.height/t.height);return{width:t.width*n,height:t.height*n}}function i({srcDimensions:t,outputDimensions:e}){if(e.width&&e.width>0){const n=e.width/t.width;return{width:e.width,height:t.height*n}}if(e.height&&e.height>0){const n=e.height/t.height;return{width:t.width*n,height:e.height}}return{width:t.width,height:t.height}}async function o(t){return new Promise((async n=>{const r=new Image;r.src=await fetch(t).then((t=>t.blob())).then((t=>URL.createObjectURL(t))),r.setAttribute("type",(0,e.getFileExtension)(t)),r.onload=()=>{n(r)}}))}async function s(t){return new Promise((async n=>{const r=new Image;let a=document.getElementById(t).files;a&&a.length>0&&(r.src=URL.createObjectURL(a.item(0)),r.setAttribute("type",(0,e.getFileExtension)(a.item(0).type)),r.onload=()=>{n(r)})}))}async function c(t){return new Promise((async e=>{const n=new Image;return n.src=URL.createObjectURL(t),n.onload=()=>{e(n)},n}))}async function u(t,e){return await s(t).then((t=>C(t,e)))}async function h(t,e){return await o(t).then((t=>C(t,e)))}async function g(t,e,n){const r=n&&n.resultCanvasId&&document.getElementById(n.resultCanvasId)||document.createElement("canvas"),a=n&&n.resultCanvasContext?n.resultCanvasContext:r.getContext("2d"),o=i({srcDimensions:t,outputDimensions:e});r.width=o.width,r.height=o.height;const s=n&&n.resizeCanvasId&&document.getElementById(n.resizeCanvasId)||document.createElement("canvas"),c=n&&n.resizeCanvasContext?n.resizeCanvasContext:r.getContext("2d");return s.width=o.width,s.height=o.height,c.drawImage(t,0,0,s.width,s.height),c.drawImage(t,0,0,s.width,s.height),a.drawImage(s,0,0,s.width,s.height,0,0,r.width,r.height),{canvas:r,context:a}}async function l(e,n=2){const r=await o(e),a=(await m(r)).context;return(0,t.getColorPaletteByContext)(a,n)}async function d(e,n=2){const r=await s(e),a=(await m(r)).context;return(0,t.getColorPaletteByContext)(a,n)}async function m(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d",{alpha:!0,willReadFrequently:!0});return n.drawImage(t,0,0),{canvas:e,context:n}}async function y(t){return b(await l(t))}async function f(t){return b(await d(t))}function b(t){return t.map((t=>`rgba(${t.toString()})`)).join(", ").trim()}function p(e,n){const r=b((0,t.getColorPaletteByContext)(n,2));e.style.backgroundImage=`linear-gradient(${r})`}async function C(t,e){const n=(await g(t,e)).canvas;return new Promise((async e=>{n.toBlob((t=>e(t)),`image/${t.getAttribute("type")||"png"}`)}))}function w({defaultImageSrc:t,uploadImageInputId:e,previewImageElementId:n}){let r;e&&(r=document.getElementById(e).files);const a=document.getElementById(n);if(!r||r.length<1)return a.src=t,void(a.style.cursor="default");{const t=URL.createObjectURL(r.item(0));a.src=t,a.onclick=e=>window.open(t,"_blank"),a.style.cursor="pointer"}}})(),ImageTools=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLE1BQ05DLE1BQ0wsQ0FFTyxTQUFTQyxFQUE2Q0MsRUFBc0JDLEdBQ2pGLE1BQ01DLEVBQWFULEdBREUsSUFBQXJJLDBCQUEwQjZJLEVBQWUsSUFHOURELEVBQVFHLE1BQU1DLGdCQUFrQixtQkFBb0JGLElBQ3RELENBR096RCxlQUFlMkIsRUFBYXRCLEVBQXVCcUIsR0FDeEQsTUFBTWtDLFNBQTRCL0IsRUFBc0J4QixFQUFLcUIsSUFBcUJ6RyxPQUVsRixPQUFPLElBQUlrRixTQUFTSCxNQUFRSSxJQUMxQndELEVBQWtCQyxRQUFRM0wsR0FBS2tJLEVBQVNsSSxJQUFNLFNBQVVtSSxFQUFJeUQsYUFBYyxTQUFZLFFBQVUsR0FFcEcsQ0FFTyxTQUFTQyxHQUFjLGdCQUFFQyxFQUFlLG1CQUFFQyxFQUFrQixzQkFBRUMsSUFDbkUsSUFBSWhELEVBQ0MrQyxJQUNIL0MsRUFBYUMsU0FBU0MsZUFBZ0I2QyxHQUEyQzVDLE9BR25GLE1BQU04QyxFQUFzQmhELFNBQVNDLGVBQWdCOEMsR0FFckQsSUFBTWhELEdBQVlBLEVBQVM1RixPQUFTLEVBR2xDLE9BRkE2SSxFQUFvQjVELElBQU15RCxPQUMxQkcsRUFBb0JULE1BQU1VLE9BQVMsV0FFOUIsQ0FDTCxNQUFNQyxFQUFVekQsSUFBSUMsZ0JBQWlCSyxFQUFTSSxLQUFNLElBQ3BENkMsRUFBb0I1RCxJQUFNOEQsRUFDMUJGLEVBQW9CRyxRQUFVQyxHQUFLQyxPQUFPQyxLQUFNSixFQUFTLFVBQ3pERixFQUFvQlQsTUFBTVUsT0FBUyxTQUNyQyxDQUNGLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvRXh0cmFzL0NvbG9yUkdCQS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvQ2FudmFzVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0ZpbGVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvTWF0aFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9TdHJpbmdUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVHlwZXMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0ltYWdlVG9vbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBDb21wYXJhYmxlIH0gZnJvbSAnLi4vVHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbG9yUkdCQSBpbXBsZW1lbnRzIENvbXBhcmFibGU8Q29sb3JSR0JBPiB7XHJcbiAgcHVibGljIHI6IG51bWJlcjtcclxuICBwdWJsaWMgZzogbnVtYmVyO1xyXG4gIHB1YmxpYyBiOiBudW1iZXI7XHJcbiAgcHVibGljIGE6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoIHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlciA9IDEgKSB7XHJcbiAgICB0aGlzLnIgPSBjbGFtcCggciwgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmcgPSBjbGFtcCggZywgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmIgPSBjbGFtcCggYiwgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmEgPSBjbGFtcCggYSwgMCwgMjU1ICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAkeyB0aGlzLnIgfSwgJHsgdGhpcy5nIH0sICR7IHRoaXMuYiB9LCAkeyB0aGlzLmEgfWA7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZ1dpdGhvdXRBbHBoYSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAkeyB0aGlzLnIgfSwgJHsgdGhpcy5nIH0sICR7IHRoaXMuYiB9YDtcclxuICB9XHJcblxyXG4gIGFzQXJyYXkoIHsgbm9BbHBoYSA9IGZhbHNlIH06IHsgbm9BbHBoYT86IGJvb2xlYW47IH0gPSB7fSApOiBudW1iZXJbXSB7XHJcbiAgICBpZiAoIG5vQWxwaGEgKSB7XHJcbiAgICAgIHJldHVybiBbdGhpcy5yLCB0aGlzLmcsIHRoaXMuYl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW3RoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYV07XHJcbiAgfVxyXG5cclxuICBnZXRDb3B5KCkge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGluY3JlYXNlU2F0dXJhdGlvbiggY29sb3I6IENvbG9yUkdCQSwgcGVyY2VudGFnZTogbnVtYmVyICkge1xyXG4gICAgcGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgLyAxMDA7XHJcblxyXG4gICAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLm1heCggLi4uY29sb3IuYXNBcnJheSggeyBub0FscGhhOiB0cnVlIH0gKSApO1xyXG4gICAgY29uc3QgY29weUNvbG9yID0gY29sb3IuZ2V0Q29weSgpO1xyXG5cclxuICAgIGNvcHlDb2xvci5yID0gTWF0aC5mbG9vciggY2xhbXAoIGNvbG9yLnIgPT09IG1heFZhbHVlID8gY29sb3IuciArICggY29sb3IuciAqIHBlcmNlbnRhZ2UgKSA6IGNvbG9yLnIgLSAoIGNvbG9yLnIgKiBwZXJjZW50YWdlICksIDAsIDI1NSApICk7XHJcbiAgICBjb3B5Q29sb3IuZyA9IE1hdGguZmxvb3IoIGNsYW1wKCBjb2xvci5nID09PSBtYXhWYWx1ZSA/IGNvbG9yLmcgKyAoIGNvbG9yLmcgKiBwZXJjZW50YWdlICkgOiBjb2xvci5nIC0gKCBjb2xvci5nICogcGVyY2VudGFnZSApLCAwLCAyNTUgKSApO1xyXG4gICAgY29weUNvbG9yLmIgPSBNYXRoLmZsb29yKCBjbGFtcCggY29sb3IuYiA9PT0gbWF4VmFsdWUgPyBjb2xvci5iICsgKCBjb2xvci5iICogcGVyY2VudGFnZSApIDogY29sb3IuYiAtICggY29sb3IuYiAqIHBlcmNlbnRhZ2UgKSwgMCwgMjU1ICkgKTtcclxuXHJcbiAgICByZXR1cm4gY29weUNvbG9yO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFVuaXF1ZSggYXJyOiBDb2xvclJHQkFbXSwgcmVtb3ZlVHJhbnNwYXJlbnRQaXhlbHM6IGJvb2xlYW4gPSB0cnVlICkge1xyXG4gICAgcmV0dXJuIGFyclxyXG4gICAgICAuZmlsdGVyKCAoIHYsIGksIGEgKSA9PiBhLmZpbmRJbmRleCggdjIgPT4gKCBKU09OLnN0cmluZ2lmeSggdiApID09PSBKU09OLnN0cmluZ2lmeSggdjIgKSApICkgPT09IGkgKVxyXG4gICAgICAuZmlsdGVyKCBjID0+ICFyZW1vdmVUcmFuc3BhcmVudFBpeGVscyB8fCAoIENvbG9yUkdCQS5pc1ZhbGlkKCBjICkgJiYgYy5hID4gMCApICk7XHJcbiAgfVxyXG5cclxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICB5aWVsZCB0aGlzLnI7XHJcbiAgICB5aWVsZCB0aGlzLmc7XHJcbiAgICB5aWVsZCB0aGlzLmI7XHJcbiAgICB5aWVsZCB0aGlzLmE7XHJcbiAgfVxyXG5cclxuICBlcXVhbHMoIGNvbG9yMjogQ29sb3JSR0JBICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuciA9PT0gY29sb3IyLnJcclxuICAgICAgJiYgdGhpcy5nID09PSBjb2xvcjIuZ1xyXG4gICAgICAmJiB0aGlzLmIgPT09IGNvbG9yMi5iXHJcbiAgICAgICYmIHRoaXMuYSA9PT0gY29sb3IyLmE7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNWYWxpZCggY29sb3I6IENvbG9yUkdCQSApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0eXBlb2YgY29sb3IuciA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTiggY29sb3IuciApXHJcbiAgICAgICYmIHR5cGVvZiBjb2xvci5nID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKCBjb2xvci5nIClcclxuICAgICAgJiYgdHlwZW9mIGNvbG9yLmIgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oIGNvbG9yLmIgKVxyXG4gICAgICAmJiB0eXBlb2YgY29sb3IuYSA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTiggY29sb3IuYSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBCTEFDSygpOiBDb2xvclJHQkEge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIDAsIDAsIDAgKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgTlVMTCgpOiBDb2xvclJHQkEge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIDAsIDAsIDAsIDAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9pbnQyRCB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ09MT1JfQ0hBTk5FTCB9IGZyb20gJy4uL1R5cGVzJztcclxuaW1wb3J0IHsgQ29sb3JSR0JBIH0gZnJvbSBcIi4uL0V4dHJhcy9Db2xvclJHQkFcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbFBvc2l0aW9uQnlDYW52YXNXaWR0aCggcGl4ZWxJbmRleDogbnVtYmVyLCBjYW52YXNXaWR0aDogbnVtYmVyLCBudW1iZXJPZkNvbG9yQ2hhbm5lbHM6IG51bWJlciA9IDQgKTogUG9pbnQyRCB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6ICggcGl4ZWxJbmRleCAvIG51bWJlck9mQ29sb3JDaGFubmVscyApICUgY2FudmFzV2lkdGgsXHJcbiAgICB5OiBNYXRoLmZsb29yKCBNYXRoLmZsb29yKCBwaXhlbEluZGV4IC8gY2FudmFzV2lkdGggKSAvIG51bWJlck9mQ29sb3JDaGFubmVscyApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGl4ZWxDb2xvckZyb21DYW52YXMoIHBpeGVsSW5kZXg6IG51bWJlciwgcGl4ZWxBcnJheTogVWludDhDbGFtcGVkQXJyYXkgKTogQ29sb3JSR0JBIHtcclxuICByZXR1cm4gbmV3IENvbG9yUkdCQShcclxuICAgIHBpeGVsQXJyYXlbcGl4ZWxJbmRleF0sXHJcbiAgICBwaXhlbEFycmF5W3BpeGVsSW5kZXggKyAxXSxcclxuICAgIHBpeGVsQXJyYXlbcGl4ZWxJbmRleCArIDJdLFxyXG4gICAgcGl4ZWxBcnJheVtwaXhlbEluZGV4ICsgM10gLyAyNTUgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbG9yQXJyYXlCeUNvbnRleHQoIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgbnVtYmVyT2ZDb2xvckNoYW5uZWxzOiBudW1iZXIgPSA0ICk6IENvbG9yUkdCQVtdIHtcclxuICBjb25zdCBwaXhlbEFycmF5ID0gY29udGV4dFxyXG4gICAgLmdldEltYWdlRGF0YSggMCwgMCwgY29udGV4dC5jYW52YXMud2lkdGgsIGNvbnRleHQuY2FudmFzLmhlaWdodCApXHJcbiAgICAuZGF0YTtcclxuXHJcbiAgY29uc3QgY29sb3JBcnJheTogQ29sb3JSR0JBW10gPSBbXTtcclxuICBmb3IgKCB2YXIgaSA9IHBpeGVsQXJyYXkubGVuZ3RoOyBpID49IDA7IGkgLT0gbnVtYmVyT2ZDb2xvckNoYW5uZWxzICkge1xyXG4gICAgY29sb3JBcnJheS5wdXNoKCBnZXRQaXhlbENvbG9yRnJvbUNhbnZhcyggaSwgcGl4ZWxBcnJheSApICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29sb3JBcnJheTtcclxufVxyXG5cclxuLy8vIEZpbmQgdGhlIGNvbG9yIGNoYW5uZWwgKCByZWQsIGdyZWVuIG9yIGJsdWUpIGluIHRoZSBpbWFnZSB3aXRoIHRoZSBiaWdnZXN0IHJhbmdlXHJcbmV4cG9ydCBmdW5jdGlvbiBmaW5kQmlnZ2VzdENvbG9yUmFuZ2UoIHJnYlZhbHVlczogQ29sb3JSR0JBW10gKSB7XHJcbiAgbGV0IHJNaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gIGxldCBnTWluID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICBsZXQgYk1pbiA9IE51bWJlci5NQVhfVkFMVUU7XHJcblxyXG4gIGxldCByTWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICBsZXQgZ01heCA9IE51bWJlci5NSU5fVkFMVUU7XHJcbiAgbGV0IGJNYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG5cclxuICByZ2JWYWx1ZXMuZm9yRWFjaCggKCBwaXhlbCApID0+IHtcclxuICAgIHJNaW4gPSBNYXRoLm1pbiggck1pbiwgcGl4ZWwuciApO1xyXG4gICAgZ01pbiA9IE1hdGgubWluKCBnTWluLCBwaXhlbC5nICk7XHJcbiAgICBiTWluID0gTWF0aC5taW4oIGJNaW4sIHBpeGVsLmIgKTtcclxuXHJcbiAgICByTWF4ID0gTWF0aC5tYXgoIHJNYXgsIHBpeGVsLnIgKTtcclxuICAgIGdNYXggPSBNYXRoLm1heCggZ01heCwgcGl4ZWwuZyApO1xyXG4gICAgYk1heCA9IE1hdGgubWF4KCBiTWF4LCBwaXhlbC5iICk7XHJcbiAgfSApO1xyXG5cclxuICBjb25zdCByUmFuZ2UgPSByTWF4IC0gck1pbjtcclxuICBjb25zdCBnUmFuZ2UgPSBnTWF4IC0gZ01pbjtcclxuICBjb25zdCBiUmFuZ2UgPSBiTWF4IC0gYk1pbjtcclxuXHJcbiAgY29uc3QgYmlnZ2VzdFJhbmdlID0gTWF0aC5tYXgoIHJSYW5nZSwgZ1JhbmdlLCBiUmFuZ2UgKTtcclxuICBpZiAoIGJpZ2dlc3RSYW5nZSA9PT0gclJhbmdlICkge1xyXG4gICAgcmV0dXJuIENPTE9SX0NIQU5ORUwuUjtcclxuICB9IGVsc2UgaWYgKCBiaWdnZXN0UmFuZ2UgPT09IGdSYW5nZSApIHtcclxuICAgIHJldHVybiBDT0xPUl9DSEFOTkVMLkc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBDT0xPUl9DSEFOTkVMLkI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sb3JQYWxldHRlQnlDb250ZXh0KCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRlcHRoOiBudW1iZXIgPSAwICk6IENvbG9yUkdCQVtdIHtcclxuICByZXR1cm4gZ2V0Q29sb3JQYWxldHRlKCBnZXRDb2xvckFycmF5QnlDb250ZXh0KCBjb250ZXh0ICksIGRlcHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xvclBhbGV0dGUoIHJnYlZhbHVlczogQ29sb3JSR0JBW10sIGRlcHRoOiBudW1iZXIgPSAwICk6IENvbG9yUkdCQVtdIHtcclxuICAvLy8gVHJhbnNmb3JtYW5kbyBlc3NhIHBhcnRlIGRhIGFycmF5IGRlIGNvcmVzIGVtIHbDoXJpb3MgXCJyYW5nZXNcIiBkZSBjb3JlcyBkaWZlcmVudGVzXHJcbiAgY29uc3QgTUFYX0RFUFRIID0gNjtcclxuICBpZiAoIGRlcHRoID09PSBNQVhfREVQVEggfHwgcmdiVmFsdWVzLmxlbmd0aCA9PT0gMCApIHtcclxuICAgIGNvbnN0IGNvbG9yID0gcmdiVmFsdWVzLnJlZHVjZShcclxuICAgICAgKCBwcmV2LCBjdXJyICkgPT4ge1xyXG4gICAgICAgIGlmICggIUNvbG9yUkdCQS5pc1ZhbGlkKCBwcmV2ICkgfHwgIUNvbG9yUkdCQS5pc1ZhbGlkKCBjdXJyICkgKSB7XHJcbiAgICAgICAgICByZXR1cm4gQ29sb3JSR0JBLk5VTEw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIENvbG9yUkdCQS5pc1ZhbGlkKCBjdXJyICkgKSB7XHJcbiAgICAgICAgICBwcmV2LnIgKz0gY3Vyci5yO1xyXG4gICAgICAgICAgcHJldi5nICs9IGN1cnIuZztcclxuICAgICAgICAgIHByZXYuYiArPSBjdXJyLmI7XHJcbiAgICAgICAgICBwcmV2LmEgKz0gY3Vyci5hO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgIH0sXHJcbiAgICAgIENvbG9yUkdCQS5OVUxMXHJcbiAgICApO1xyXG4gICAgaWYgKCAhQ29sb3JSR0JBLk5VTEwuZXF1YWxzKCBjb2xvciApICkge1xyXG4gICAgICByZXR1cm4gW25ldyBDb2xvclJHQkEoXHJcbiAgICAgICAgTWF0aC5yb3VuZCggY29sb3IuciAvIHJnYlZhbHVlcy5sZW5ndGggKSxcclxuICAgICAgICBNYXRoLnJvdW5kKCBjb2xvci5nIC8gcmdiVmFsdWVzLmxlbmd0aCApLFxyXG4gICAgICAgIE1hdGgucm91bmQoIGNvbG9yLmIgLyByZ2JWYWx1ZXMubGVuZ3RoICksXHJcbiAgICAgICAgTWF0aC5yb3VuZCggY29sb3IuYSAvIHJnYlZhbHVlcy5sZW5ndGggKVxyXG4gICAgICApXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBbQ29sb3JSR0JBLk5VTExdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8vIEVuY29udHJhbmRvIG8gY2FuYWwgZGUgY29yIHF1ZSBtYWlzIGFwYXJlY2VcclxuICBjb25zdCBjb21wb25lbnRUb1NvcnRCeSA9IGZpbmRCaWdnZXN0Q29sb3JSYW5nZSggcmdiVmFsdWVzICk7XHJcblxyXG4gIC8vLyBPcmRlbmFuZG8gYSBhcnJheSBwZWxvIGNhbmFsIGRlIGNvciBwcmVkb21pbmFudGVcclxuICByZ2JWYWx1ZXMuc29ydCggKCBwMSwgcDIgKSA9PiB7XHJcbiAgICBzd2l0Y2ggKCBjb21wb25lbnRUb1NvcnRCeSApIHtcclxuICAgICAgY2FzZSBDT0xPUl9DSEFOTkVMLlI6XHJcbiAgICAgICAgcmV0dXJuIHAxLnIgLSBwMi5yXHJcbiAgICAgIGNhc2UgQ09MT1JfQ0hBTk5FTC5HOlxyXG4gICAgICAgIHJldHVybiBwMS5nIC0gcDIuZ1xyXG4gICAgICBjYXNlIENPTE9SX0NIQU5ORUwuQjpcclxuICAgICAgICByZXR1cm4gcDEuYiAtIHAyLmJcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gcDEuciAtIHAyLnJcclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIC8vLyBEaXZpZGluZG8gYSBhcnJheSBlbSBkb2lzIGUgdXNhbmRvIHJlY3Vyc8OjbyBwYXJhIG1lbGhvcmFyIG8gZGVzZW1wZW5ob1xyXG4gIGNvbnN0IG1pZCA9IHJnYlZhbHVlcy5sZW5ndGggLyAyO1xyXG4gIHJldHVybiBDb2xvclJHQkEuZ2V0VW5pcXVlKCBbXHJcbiAgICAuLi5nZXRDb2xvclBhbGV0dGUoIHJnYlZhbHVlcy5zbGljZSggMCwgbWlkICksIGRlcHRoICsgMSApLFxyXG4gICAgLi4uZ2V0Q29sb3JQYWxldHRlKCByZ2JWYWx1ZXMuc2xpY2UoIG1pZCArIDEgKSwgZGVwdGggKyAxICksXHJcbiAgXS5maWx0ZXIoIGMgPT4gIWMuZXF1YWxzKCBDb2xvclJHQkEuTlVMTCApICkgKTtcclxufSIsIlxyXG4vLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTYyNDU3NjcvY3JlYXRpbmctYS1ibG9iLWZyb20tYS1iYXNlNjQtc3RyaW5nLWluLWphdmFzY3JpcHRcclxuLy8vIERpdmlkZSB1bSBhcnF1aXZvIGJpbsOhcmlvIGVtIHbDoXJpYXMgcGFydGVzLCBwYXJhIHF1ZSBhIGNvbnZlcnPDo28gc2VqYSBvdGltaXphZGEsIGUgcmV0b3JuYSB1bWEgYmxvYiBjb20gbyBhcnF1aXZvXHJcblxyXG5pbXBvcnQgeyBpc051bGxPckVtcHR5IH0gZnJvbSAnLi9TdHJpbmdUb29scyc7XHJcblxyXG4vLy8gQHBhcmFtIG9uUHJvZ3Jlc3NvIFVtIGNhbGxiYWNrIHF1ZSByZWNlYmUgYSBwb3JjZW50YWdlbSBkZSBwcm9ncmVzc28gYXR1YWwgZGEgY29udmVyc8Ojb1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYmFzZTY0VG9CbG9iKCB0ZXh0b0Jhc2U2NDogc3RyaW5nLCBjb250ZW50VHlwZTogc3RyaW5nLCB0YW1hbmhvUGFydGVzID0gMTAyNCwgb25Qcm9ncmVzcyA9ICggcHJvZ3Jlc3NvQXR1YWw6IG51bWJlciApID0+IHsgY29uc29sZS5sb2coIHByb2dyZXNzb0F0dWFsICkgfSApIHtcclxuICBjb25zdCBieXRlQXJyYXlzID0gbmV3IEFycmF5PFVpbnQ4QXJyYXk+KCk7XHJcbiAgY29uc3QgZmlsZVNpemUgPSB0ZXh0b0Jhc2U2NC5sZW5ndGg7XHJcblxyXG4gIC8vLyBwcmVlbmNoZSBgYnl0ZUFycmF5c2AgY29tIG9zIGJ5dGVzIGRvIGFycXVpdm8gcGVnYW5kbyB1bWEgcGFydGUgZGUgXCJ0YW1hbmhvUGFydGVzXCIgcG9yIHZlelxyXG4gIGZvciAoIGxldCBvZmZzZXQgPSAwOyBvZmZzZXQgPCBmaWxlU2l6ZTsgb2Zmc2V0ICs9IHRhbWFuaG9QYXJ0ZXMgKSB7XHJcbiAgICAvLy8gcGVnYW5kbyB1bSBwYXJ0ZSBkZSB0YW1hbmhvIHt0YW1hbmhvUGFydGVzfSBkbyBhcnF1aXZvXHJcbiAgICBjb25zdCBjaHVuayA9IHRleHRvQmFzZTY0LnNsaWNlKCBvZmZzZXQsIG9mZnNldCArIHRhbWFuaG9QYXJ0ZXMgKTtcclxuXHJcbiAgICAvLy8gY29udmVydGVuZG8gYSBwYXJ0ZSBlbSB1bSBhcnJheSBjb20gY2FkYSBieXRlIGRlc3NlIHBlZGHDp28gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgYXJyQnl0ZXNDaHVuayA9IG5ldyBBcnJheTxudW1iZXI+KCBjaHVuay5sZW5ndGggKTtcclxuICAgIGZvciAoIGxldCBpID0gMDsgaSA8IGNodW5rLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICBhcnJCeXRlc0NodW5rW2ldID0gY2h1bmsuY2hhckNvZGVBdCggaSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyB0cmFuc2Zvcm1hbmRvIGVzc2UgYXJyYXkgZW0gdW0gYXJyYXkgY29tIGNhbXBvcyBkbyB0YW1hbmhvIGRlIHVtIGJ5dGVcclxuICAgIC8vLyBlIHVuaW5kbyBhcyBwYXJ0ZXMgasOhIGNvbmNsdcOtZGFzIGRvIGFycXVpdm9cclxuICAgIGJ5dGVBcnJheXMucHVzaCggbmV3IFVpbnQ4QXJyYXkoIGFyckJ5dGVzQ2h1bmsgKSApO1xyXG5cclxuICAgIC8vLyBDaGFtYW5kbyBjYWxsYmFjayBxdWUgZXhpYmUgbyBwcm9ncmVzc28gcXVhbmRvIG8gcGFzc28gYXR1YWwgZm9yIGNvbmNsdcOtZG9cclxuICAgIGF3YWl0IG9uUHJvZ3Jlc3MoICggb2Zmc2V0IC8gZmlsZVNpemUgKSAqIDEwMCApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG5ldyBCbG9iKCBieXRlQXJyYXlzLCB7IHR5cGU6IGNvbnRlbnRUeXBlIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkRmlsZUZyb21CbG9iKCBibG9iOiBCbG9iLCB0aXRsZTogc3RyaW5nICkge1xyXG4gIGxldCBmaWxlID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggYmxvYiApO1xyXG5cclxuICBpZiAoIGZpbGUgKSB7XHJcbiAgICBsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdhJyApO1xyXG4gICAgYS5ocmVmID0gZmlsZTtcclxuICAgIGEuZG93bmxvYWQgPSB0aXRsZTtcclxuICAgIGEuY2xpY2soKTtcclxuICAgIGEucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRmlsZVBhdGgoIGZpbGVQYXRoOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBjb25zdCByZWdleCA9IC8oPzouKltcXFxcL10pKFteXFxcXC9dKykkLztcclxuXHJcbiAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKCBmaWxlUGF0aCApO1xyXG4gIGlmICggbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSApIHtcclxuICAgIHJldHVybiBtYXRjaFsxXTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZpbGVQYXRoO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oIGZpbGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIGlzTnVsbE9yRW1wdHkoIGZpbGVOYW1lICkgKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRGaWxlU3JjID0gZmlsZU5hbWUuc3BsaXQoICcuJyApLnBvcCgpO1xyXG4gIGlmICggZGVmYXVsdEZpbGVTcmMgJiYgZGVmYXVsdEZpbGVTcmMgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlU3JjO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlsZVR5cGVTdHIgPSBmaWxlTmFtZS5zcGxpdCggJy8nICkucG9wKCk7XHJcbiAgaWYgKCBmaWxlVHlwZVN0ciAmJiBmaWxlVHlwZVN0ciAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZmlsZVR5cGVTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0iLCJleHBvcnQgY29uc3QgcmVnZXhOdW1iZXJQYXR0ZXJuID0gLy0/XFxkK1xcLj9cXGQqL2c7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50MkQge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9ucyB7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Sb3coIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBpbmRleCAvIGdyaWRXaWR0aCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb0NvbCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGluZGV4ICUgZ3JpZFdpZHRoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm93Q29sVG9JbmRleCggcm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCB3aWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiAoIHJvdyAqIHdpZHRoICkgKyBjb2w7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlc0Zyb21Qb2ludDJEKCBjb29yZHM6IFBvaW50MkQsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IGNvb3Jkcy54ICogTWF0aC5jb3MoIHJhZGlhbnMgKSAtIGNvb3Jkcy55ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0gY29vcmRzLnggKiBNYXRoLnNpbiggcmFkaWFucyApICsgY29vcmRzLnkgKiBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIHJldHVybiB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlcyggeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IHggKiBNYXRoLmNvcyggcmFkaWFucyApIC0geSAqIE1hdGguc2luKCByYWRpYW5zICk7XHJcbiAgY29uc3QgbmV3WSA9IHggKiBNYXRoLnNpbiggcmFkaWFucyApICsgeSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXJlRGlhZ29uYWxzKCBpbmRleDE6IG51bWJlciwgaW5kZXgyOiBudW1iZXIsIGdyaWRTaXplOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgaWYgKCBpbmRleDEgPCAwIHx8IGluZGV4MiA8IDAgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoICdJbnZhbGlkIGNlbGwgaW5kaWNlcycgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJvdzEgPSBpbmRleFRvUm93KCBpbmRleDEsIGdyaWRTaXplICk7XHJcbiAgY29uc3QgY29sMSA9IGluZGV4VG9Db2woIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuXHJcbiAgY29uc3Qgcm93MiA9IGluZGV4VG9Sb3coIGluZGV4MiwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wyID0gaW5kZXhUb0NvbCggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG5cclxuICByZXR1cm4gTWF0aC5hYnMoIHJvdzEgLSByb3cyICkgPT09IE1hdGguYWJzKCBjb2wxIC0gY29sMiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1BvaW50MkQoIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBpbmRleFRvQ29sKCBpbmRleCwgZ3JpZFdpZHRoICksXHJcbiAgICB5OiBpbmRleFRvUm93KCBpbmRleCwgZ3JpZFdpZHRoIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggMSAtIGFtb3VudCApICogbWluICsgYW1vdW50ICogbWF4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoIGE6IG51bWJlciwgYjogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIHZhbCAtIGEgKSAvICggYiAtIGEgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFwKCBpbk1pbjogbnVtYmVyLCBpbk1heDogbnVtYmVyLCBvdXRNaW46IG51bWJlciwgb3V0TWF4OiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIGxlcnAoIG91dE1pbiwgb3V0TWF4LCBpbnZlcnNlTGVycCggaW5NaW4sIGluTWF4LCB2YWwgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiApICsgbWluICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsU2V0czxUPiggc2V0MTogU2V0PFQ+LCBzZXQyOiBTZXQ8VD4gKSB7XHJcbiAgcmV0dXJuIHNldDEuc2l6ZSA9PT0gc2V0Mi5zaXplICYmXHJcbiAgICBbLi4uc2V0MV0uZXZlcnkoICggeCApID0+IHNldDIuaGFzKCB4ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEluY2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIG1pbiA9IE1hdGguY2VpbCggbWluICk7XHJcbiAgbWF4ID0gTWF0aC5mbG9vciggbWF4ICk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiArIDEgKSApICsgbWluO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRnJvbUFycmF5PFQ+KCBhcnI6IEFycmF5PFQ+ICkge1xyXG4gIHJldHVybiBhcnJbZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCBhcnIubGVuZ3RoICldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoIG51bTogbnVtYmVyID0gMCwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEwMCApOiBudW1iZXIge1xyXG4gIHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbnVtLCBtYXggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWludXRlc1RvTWlsbGlzZWNvbmRzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAqIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9NaW51dGVzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9Ib3VycyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyAzLjZlKzY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0RheXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gOC42NGUrNztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lZ2FieXRlVG9CeXRlKCBtYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBtYiAqIDEwMjQgKiAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVRvTWVnYWJ5dGUoIGI6IG51bWJlciApIHtcclxuICByZXR1cm4gYiAvIDEwMjQgLyAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlGcm9tUmFuZ2UoIHNpemU6IG51bWJlciwgc3RhcnRpbmdGcm9tOiBudW1iZXIgPSAwICk6IG51bWJlcltdIHtcclxuICBsZXQgcmVzdWx0ID0gWy4uLkFycmF5KCBzaXplICkua2V5cygpXVxyXG5cclxuICBpZiAoIHN0YXJ0aW5nRnJvbSAhPSAwICkge1xyXG4gICAgcmVzdWx0ID0gcmVzdWx0Lm1hcCggaSA9PiBpICsgc3RhcnRpbmdGcm9tICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFjY2VudHMoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiBzdHIubm9ybWFsaXplKCAnTkZEJyApLnJlcGxhY2UoIC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoIHN0cjogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbiAgcmV0dXJuIHN0ci5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoVGVybSggc3RyaW5nQXJyYXk6IHN0cmluZ1tdLCBzZWFyY2hUZXJtOiBzdHJpbmcgKTogc3RyaW5nW10ge1xyXG4gIHJldHVybiBzdHJpbmdBcnJheVxyXG4gICAgLmZpbHRlciggKCB2OiBzdHJpbmcgKSA9PiB2LnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpICkgPiAtMSApXHJcbiAgICAuc2xpY2UoIDAsIDEwIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHplcm9CZWZvcmUoIG46IG51bWJlciApIHtcclxuICByZXR1cm4gbi50b1N0cmluZygpLnBhZFN0YXJ0KCAyLCAnMCcgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbE9yRW1wdHkoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCAhc3RyIHx8IHN0ciA9PT0gJydcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUGhvbmVOdW1iZXIoIGlucHV0VGV4dDogc3RyaW5nICkge1xyXG4gIGNvbnN0IGNsZWFuTnVtYmVyID0gaW5wdXRUZXh0LnJlcGxhY2UoIC9cXEQvZywgJycgKTtcclxuXHJcbiAgbGV0IHJlc3VsdDtcclxuICBpZiAoIGNsZWFuTnVtYmVyLmxlbmd0aCA8PSAxMCApIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkezJ9KShcXGR7NH0pKFxcZHswLDR9KSQvO1xyXG4gICAgcmVzdWx0ID0gY2xlYW5OdW1iZXIucmVwbGFjZSggcmVnZXgsICcoJDEpICQyLSQzJyApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCByZWdleCA9IC9eKFxcZHsyfSkoXFxkezV9KShcXGR7MCw0fSkkLztcclxuICAgIHJlc3VsdCA9IGNsZWFuTnVtYmVyLnJlcGxhY2UoIHJlZ2V4LCAnKCQxKSAkMi0kMycgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTcGVjaWFsQ2hhcmFjdGVycyggaW5wdXQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBpbnB1dC5yZXBsYWNlKCAvW15hLXpBLVowLTldL2csICcnICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlU3BlY2lhbFdpdGhXaGl0ZXNwYWNlKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoIC9bXmEtekEtWjAtOV0vZywgJyAnICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlUGVyY2VudEVuY29kaW5nKCBodG1sOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICAvLyBSZXBsYWNlICUyMCB3aXRoIGFjdHVhbCBzcGFjZXNcclxuICByZXR1cm4gaHRtbC5yZXBsYWNlKCAvJTIwL2csICcgJyApO1xyXG59IiwiaW1wb3J0IHsgUG9pbnQyRCB9IGZyb20gJy4vVG9vbHMvTWF0aFRvb2xzJztcclxuXHJcbmV4cG9ydCBlbnVtIENPTlZFUlNJT05fVU5JVCB7IFBJWEVMLCBQRVJDRU5UQUdFIH1cclxuZXhwb3J0IGVudW0gRElSRUNUSU9OX1JFRkVSRU5DRSB7IEhPUklaT05UQUwsIFZFUlRJQ0FMIH1cclxuZXhwb3J0IGVudW0gVkVSVElDQUxfUkVGRVJFTkNFIHsgRlJPTV9UT1AsIEZST01fQk9UVE9NIH1cclxuZXhwb3J0IGVudW0gQ09MT1JfQ0hBTk5FTCB7IFIsIEcsIEIsIEEgfTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZTxUPiB7XHJcbiAgZXF1YWxzKCBiOiBUICk6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDU1NQb3NpdGlvbiBpbXBsZW1lbnRzIFBvaW50MkQge1xyXG4gIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgcHVibGljIHk6IG51bWJlcjtcclxuICBwcml2YXRlIHR5cGU6IENPTlZFUlNJT05fVU5JVDtcclxuICBwdWJsaWMgdmVydGljYWxSZWZlcmVuY2U6IFZFUlRJQ0FMX1JFRkVSRU5DRTtcclxuXHJcbiAgY29uc3RydWN0b3IoIHsgeCwgeSwgdmVydGljYWxSZWZlcmVuY2UgPSBWRVJUSUNBTF9SRUZFUkVOQ0UuRlJPTV9UT1AsIHR5cGUgPSBDT05WRVJTSU9OX1VOSVQuUElYRUwgfTogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgdmVydGljYWxSZWZlcmVuY2U/OiBWRVJUSUNBTF9SRUZFUkVOQ0U7IHR5cGU/OiBDT05WRVJTSU9OX1VOSVQ7IH0gKSB7XHJcbiAgICBbdGhpcy54LCB0aGlzLnksIHRoaXMudmVydGljYWxSZWZlcmVuY2UsIHRoaXMudHlwZV0gPSBbeCwgeSwgdmVydGljYWxSZWZlcmVuY2UsIHR5cGVdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGhvcml6b250YWwoKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAoIHRoaXMudHlwZSApIHtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUElYRUw6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnggfXB4YDtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUEVSQ0VOVEFHRTpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9JWA7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnggfXB4YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCB2ZXJ0aWNhbCgpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICggdGhpcy50eXBlICkge1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QSVhFTDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueSB9cHhgO1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QRVJDRU5UQUdFOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH0lYDtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueSB9cHhgO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCB9IGZyb20gJy4vQ2FudmFzVG9vbHMnO1xyXG5pbXBvcnQgeyBnZXRGaWxlRXh0ZW5zaW9uIH0gZnJvbSAnLi9GaWxlVG9vbHMnO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBDb2xvclJHQkEgfSBmcm9tICcuLi9FeHRyYXMvQ29sb3JSR0JBJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVBc3BlY3RSYXRpb0ZpdCggc3JjRGltZW5zaW9uczogRGltZW5zaW9ucywgb3V0cHV0RGltZW5zaW9uczogRGltZW5zaW9ucyApOiBEaW1lbnNpb25zIHtcclxuICBjb25zdCByYXRpbzogbnVtYmVyID0gTWF0aC5taW4oIG91dHB1dERpbWVuc2lvbnMud2lkdGggLyBzcmNEaW1lbnNpb25zLndpZHRoLCBvdXRwdXREaW1lbnNpb25zLmhlaWdodCAvIHNyY0RpbWVuc2lvbnMuaGVpZ2h0ICk7XHJcblxyXG4gIHJldHVybiB7IHdpZHRoOiBzcmNEaW1lbnNpb25zLndpZHRoICogcmF0aW8sIGhlaWdodDogc3JjRGltZW5zaW9ucy5oZWlnaHQgKiByYXRpbyB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEltYWdlUmVzaXplRGltZW5zaW9uc0tlZXBBc3BlY3RSYXRpbyggeyBzcmNEaW1lbnNpb25zLCBvdXRwdXREaW1lbnNpb25zIH06IHsgc3JjRGltZW5zaW9uczogRGltZW5zaW9uczsgb3V0cHV0RGltZW5zaW9uczogRGltZW5zaW9uczsgfSApOiBEaW1lbnNpb25zIHtcclxuICBpZiAoIG91dHB1dERpbWVuc2lvbnMud2lkdGggJiYgb3V0cHV0RGltZW5zaW9ucy53aWR0aCA+IDAgKSB7XHJcbiAgICBjb25zdCByYXRpbzogbnVtYmVyID0gb3V0cHV0RGltZW5zaW9ucy53aWR0aCAvIHNyY0RpbWVuc2lvbnMud2lkdGg7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IG91dHB1dERpbWVuc2lvbnMud2lkdGgsXHJcbiAgICAgIGhlaWdodDogc3JjRGltZW5zaW9ucy5oZWlnaHQgKiByYXRpb1xyXG4gICAgfTtcclxuICB9IGVsc2UgaWYgKCBvdXRwdXREaW1lbnNpb25zLmhlaWdodCAmJiBvdXRwdXREaW1lbnNpb25zLmhlaWdodCA+IDAgKSB7XHJcbiAgICBjb25zdCByYXRpbzogbnVtYmVyID0gb3V0cHV0RGltZW5zaW9ucy5oZWlnaHQgLyBzcmNEaW1lbnNpb25zLmhlaWdodDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogc3JjRGltZW5zaW9ucy53aWR0aCAqIHJhdGlvLFxyXG4gICAgICBoZWlnaHQ6IG91dHB1dERpbWVuc2lvbnMuaGVpZ2h0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZHRoOiBzcmNEaW1lbnNpb25zLndpZHRoLFxyXG4gICAgaGVpZ2h0OiBzcmNEaW1lbnNpb25zLmhlaWdodFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZUJ5VVJMKCBpbWFnZVNyYzogc3RyaW5nICk6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggYXN5bmMgKCByZXNvbHZlICkgPT4ge1xyXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBpbWcuc3JjID0gYXdhaXQgZmV0Y2goIGltYWdlU3JjIClcclxuICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHJlc3BvbnNlLmJsb2IoKSApXHJcbiAgICAgIC50aGVuKCBibG9iID0+IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKSApO1xyXG5cclxuICAgIGltZy5zZXRBdHRyaWJ1dGUoICd0eXBlJywgZ2V0RmlsZUV4dGVuc2lvbiggaW1hZ2VTcmMgKSApXHJcblxyXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgcmVzb2x2ZSggaW1nICk7XHJcbiAgICB9XHJcbiAgfSApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZUJ5SW5wdXRJZCggaW5wdXRJZDogc3RyaW5nICk6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggYXN5bmMgKCByZXNvbHZlICkgPT4ge1xyXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICBsZXQgZmlsZUxpc3QgPSAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpbnB1dElkICkgYXMgSFRNTElucHV0RWxlbWVudCApLmZpbGVzO1xyXG5cclxuICAgIGlmICggZmlsZUxpc3QgJiYgZmlsZUxpc3QubGVuZ3RoID4gMCApIHtcclxuICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGZpbGVMaXN0Lml0ZW0oIDAgKSEgKTtcclxuXHJcbiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoICd0eXBlJywgZ2V0RmlsZUV4dGVuc2lvbiggZmlsZUxpc3QuaXRlbSggMCApIS50eXBlICkgKTtcclxuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXNvbHZlKCBpbWcgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VCeUJsb2IoIGJsb2I6IEJsb2IgKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCBhc3luYyAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggYmxvYiApO1xyXG5cclxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgIHJlc29sdmUoIGltZyApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbWc7XHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzaXplSW1hZ2VGcm9tSW5wdXQoIGlucHV0SWQ6IHN0cmluZywgcmVzaXplRGltZW5zaW9uczogRGltZW5zaW9ucyApOiBQcm9taXNlPEJsb2IgfCBudWxsPiB7XHJcbiAgcmV0dXJuIGF3YWl0IGdldEltYWdlQnlJbnB1dElkKCBpbnB1dElkICkudGhlbiggaW1nID0+IHJlc2l6ZUltYWdlKCBpbWcsIHJlc2l6ZURpbWVuc2lvbnMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzaXplSW1hZ2VGcm9tVVJMKCBpbWFnZVNyYzogc3RyaW5nLCByZXNpemVEaW1lbnNpb25zOiBEaW1lbnNpb25zICk6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcclxuICByZXR1cm4gYXdhaXQgZ2V0SW1hZ2VCeVVSTCggaW1hZ2VTcmMgKS50aGVuKCBpbWcgPT4gcmVzaXplSW1hZ2UoIGltZywgcmVzaXplRGltZW5zaW9ucyApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYW52YXNSZXNpemVJbWFnZSggaW1nOiBIVE1MSW1hZ2VFbGVtZW50LCByZXNpemVEaW1lbnNpb25zOiBEaW1lbnNpb25zLCBjYW52YXNDb25maWc/OiB7IHJlc3VsdENhbnZhc0NvbnRleHQ/OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHJlc2l6ZUNhbnZhc0NvbnRleHQ/OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHJlc3VsdENhbnZhc0lkPzogc3RyaW5nLCByZXNpemVDYW52YXNJZD86IHN0cmluZyB9ICk6IFByb21pc2U8eyBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfT4ge1xyXG4gIGNvbnN0IHJlc3VsdENhbnZhcyA9IGNhbnZhc0NvbmZpZyAmJiBjYW52YXNDb25maWcucmVzdWx0Q2FudmFzSWRcclxuICAgID8gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggY2FudmFzQ29uZmlnLnJlc3VsdENhbnZhc0lkICkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJjYW52YXNcIiApICkgYXMgSFRNTENhbnZhc0VsZW1lbnRcclxuICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJjYW52YXNcIiApIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBjb25zdCByZXN1bHRDb250ZXh0ID0gY2FudmFzQ29uZmlnICYmIGNhbnZhc0NvbmZpZy5yZXN1bHRDYW52YXNDb250ZXh0XHJcbiAgICA/IGNhbnZhc0NvbmZpZy5yZXN1bHRDYW52YXNDb250ZXh0XHJcbiAgICA6IHJlc3VsdENhbnZhcy5nZXRDb250ZXh0KCBcIjJkXCIgKSE7XHJcblxyXG4gIGNvbnN0IHJlc3VsdERpbWVuc2lvbnMgPSBnZXRJbWFnZVJlc2l6ZURpbWVuc2lvbnNLZWVwQXNwZWN0UmF0aW8oIHtcclxuICAgIHNyY0RpbWVuc2lvbnM6IGltZyxcclxuICAgIG91dHB1dERpbWVuc2lvbnM6IHJlc2l6ZURpbWVuc2lvbnNcclxuICB9ICk7XHJcblxyXG4gIHJlc3VsdENhbnZhcy53aWR0aCA9IHJlc3VsdERpbWVuc2lvbnMud2lkdGg7XHJcbiAgcmVzdWx0Q2FudmFzLmhlaWdodCA9IHJlc3VsdERpbWVuc2lvbnMuaGVpZ2h0O1xyXG5cclxuICBjb25zdCByZXNpemVDYW52YXMgPSBjYW52YXNDb25maWcgJiYgY2FudmFzQ29uZmlnLnJlc2l6ZUNhbnZhc0lkXHJcbiAgICA/ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGNhbnZhc0NvbmZpZy5yZXNpemVDYW52YXNJZCApIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiY2FudmFzXCIgKSApIGFzIEhUTUxDYW52YXNFbGVtZW50XHJcbiAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiY2FudmFzXCIgKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbiAgY29uc3QgcmVzaXplQ2FudmFzQ29udGV4dCA9IGNhbnZhc0NvbmZpZyAmJiBjYW52YXNDb25maWcucmVzaXplQ2FudmFzQ29udGV4dFxyXG4gICAgPyBjYW52YXNDb25maWcucmVzaXplQ2FudmFzQ29udGV4dFxyXG4gICAgOiByZXN1bHRDYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiICkhO1xyXG5cclxuICByZXNpemVDYW52YXMud2lkdGggPSByZXN1bHREaW1lbnNpb25zLndpZHRoO1xyXG4gIHJlc2l6ZUNhbnZhcy5oZWlnaHQgPSByZXN1bHREaW1lbnNpb25zLmhlaWdodDtcclxuICByZXNpemVDYW52YXNDb250ZXh0LmRyYXdJbWFnZSggaW1nLCAwLCAwLCByZXNpemVDYW52YXMud2lkdGgsIHJlc2l6ZUNhbnZhcy5oZWlnaHQgKTtcclxuXHJcbiAgcmVzaXplQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoIGltZywgMCwgMCwgcmVzaXplQ2FudmFzLndpZHRoLCByZXNpemVDYW52YXMuaGVpZ2h0ICk7XHJcblxyXG4gIHJlc3VsdENvbnRleHQuZHJhd0ltYWdlKFxyXG4gICAgcmVzaXplQ2FudmFzLFxyXG4gICAgMCxcclxuICAgIDAsXHJcbiAgICByZXNpemVDYW52YXMud2lkdGgsXHJcbiAgICByZXNpemVDYW52YXMuaGVpZ2h0LFxyXG4gICAgMCxcclxuICAgIDAsXHJcbiAgICByZXN1bHRDYW52YXMud2lkdGgsXHJcbiAgICByZXN1bHRDYW52YXMuaGVpZ2h0ICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjYW52YXM6IHJlc3VsdENhbnZhcyxcclxuICAgIGNvbnRleHQ6IHJlc3VsdENvbnRleHRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VQYWxldHRlQnlVUkwoIGltYWdlU3JjOiBzdHJpbmcsIGRlcHRoOiBudW1iZXIgPSAyICkge1xyXG4gIGNvbnN0IGltZyA9IGF3YWl0IGdldEltYWdlQnlVUkwoIGltYWdlU3JjICk7XHJcblxyXG4gIGNvbnN0IGNvbnRleHQgPSAoIGF3YWl0IGRyYXdJbWFnZU9uQ2FudmFzKCBpbWcgKSApLmNvbnRleHQ7XHJcblxyXG4gIHJldHVybiBnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQoIGNvbnRleHQsIGRlcHRoICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VQYWxldHRlQnlJbnB1dElkKCBpbnB1dElkOiBzdHJpbmcsIGRlcHRoOiBudW1iZXIgPSAyICkge1xyXG4gIGNvbnN0IGltZyA9IGF3YWl0IGdldEltYWdlQnlJbnB1dElkKCBpbnB1dElkICk7XHJcblxyXG4gIGNvbnN0IGNvbnRleHQgPSAoIGF3YWl0IGRyYXdJbWFnZU9uQ2FudmFzKCBpbWcgKSApLmNvbnRleHQ7XHJcblxyXG4gIHJldHVybiBnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQoIGNvbnRleHQsIGRlcHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkcmF3SW1hZ2VPbkNhbnZhcyggaW1nOiBIVE1MSW1hZ2VFbGVtZW50ICkge1xyXG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdjYW52YXMnICk7XHJcbiAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xyXG4gIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xyXG5cclxuICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoIFwiMmRcIiwge1xyXG4gICAgYWxwaGE6IHRydWUsXHJcbiAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcclxuICB9ICkhO1xyXG5cclxuICBjb250ZXh0LmRyYXdJbWFnZSggaW1nLCAwLCAwICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjYW52YXM6IGNhbnZhcyxcclxuICAgIGNvbnRleHQ6IGNvbnRleHRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R3JhZGllbnRCeUltYWdlVVJMKCBpbWFnZVNyYzogc3RyaW5nICk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgcGFsZXR0ZUJ5VVJMID0gYXdhaXQgZ2V0SW1hZ2VQYWxldHRlQnlVUkwoIGltYWdlU3JjICk7XHJcbiAgcmV0dXJuIGdldEdyYWRpZW50RnJvbVBhbGV0dGUoIHBhbGV0dGVCeVVSTCApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdyYWRpZW50QnlJbWFnZUlucHV0SWQoIGlucHV0SWQ6IHN0cmluZyApIHtcclxuICBjb25zdCBwYWxldHRlQnlJbnB1dElkID0gYXdhaXQgZ2V0SW1hZ2VQYWxldHRlQnlJbnB1dElkKCBpbnB1dElkICk7XHJcbiAgcmV0dXJuIGdldEdyYWRpZW50RnJvbVBhbGV0dGUoIHBhbGV0dGVCeUlucHV0SWQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYWRpZW50RnJvbVBhbGV0dGUoIGltYWdlUGFsZXR0ZTogQ29sb3JSR0JBW10gKTogc3RyaW5nIHtcclxuICByZXR1cm4gaW1hZ2VQYWxldHRlXHJcbiAgICAubWFwKCBjID0+IGByZ2JhKCR7IGMudG9TdHJpbmcoKSB9KWAgKVxyXG4gICAgLmpvaW4oICcsICcgKVxyXG4gICAgLnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEVsZW1lbnRCYWNrZ3JvdW5kR3JhZGllbnRCeUNhbnZhc0NvbnRleHQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjYW52YXNDb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKTogdm9pZCB7XHJcbiAgY29uc3QgaW1hZ2VQYWxldHRlID0gZ2V0Q29sb3JQYWxldHRlQnlDb250ZXh0KCBjYW52YXNDb250ZXh0LCAyICk7XHJcbiAgY29uc3QgYmdHcmFkaWVudCA9IGdldEdyYWRpZW50RnJvbVBhbGV0dGUoIGltYWdlUGFsZXR0ZSApO1xyXG5cclxuICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGBsaW5lYXItZ3JhZGllbnQoJHsgYmdHcmFkaWVudCB9KWA7XHJcbn1cclxuXHJcbi8vLyBhZGFwdGHDp8OjbyBkZTogaHR0cHM6Ly93d3cuZGVsZnRzdGFjay5jb20vaG93dG8vamF2YXNjcmlwdC9qYXZhc2NyaXB0LXJlc2l6ZS1pbWFnZXMvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNpemVJbWFnZSggaW1nOiBIVE1MSW1hZ2VFbGVtZW50LCByZXNpemVEaW1lbnNpb25zOiBEaW1lbnNpb25zICk6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcclxuICBjb25zdCByZXN1bHRJbWFnZUNhbnZhcyA9ICggYXdhaXQgZ2V0Q2FudmFzUmVzaXplSW1hZ2UoIGltZywgcmVzaXplRGltZW5zaW9ucyApICkuY2FudmFzO1xyXG5cclxuICByZXR1cm4gbmV3IFByb21pc2UoIGFzeW5jICggcmVzb2x2ZSApID0+IHtcclxuICAgIHJlc3VsdEltYWdlQ2FudmFzLnRvQmxvYiggYiA9PiByZXNvbHZlKCBiISApLCBgaW1hZ2UvJHsgaW1nLmdldEF0dHJpYnV0ZSggJ3R5cGUnICkgfHwgJ3BuZycgfWAgKTtcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmV2aWV3SW1hZ2UoIHsgZGVmYXVsdEltYWdlU3JjLCB1cGxvYWRJbWFnZUlucHV0SWQsIHByZXZpZXdJbWFnZUVsZW1lbnRJZCB9OiB7IGRlZmF1bHRJbWFnZVNyYzogc3RyaW5nOyB1cGxvYWRJbWFnZUlucHV0SWQ/OiBzdHJpbmc7IHByZXZpZXdJbWFnZUVsZW1lbnRJZDogc3RyaW5nOyB9ICkge1xyXG4gIGxldCBmaWxlTGlzdDtcclxuICBpZiAoIHVwbG9hZEltYWdlSW5wdXRJZCApIHtcclxuICAgIGZpbGVMaXN0ID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdXBsb2FkSW1hZ2VJbnB1dElkICkgYXMgSFRNTElucHV0RWxlbWVudCApLmZpbGVzO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcHJldmlld0ltYWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBwcmV2aWV3SW1hZ2VFbGVtZW50SWQgKSEgYXMgSFRNTEltYWdlRWxlbWVudDtcclxuXHJcbiAgaWYgKCAhZmlsZUxpc3QgfHwgZmlsZUxpc3QubGVuZ3RoIDwgMSApIHtcclxuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuc3JjID0gZGVmYXVsdEltYWdlU3JjO1xyXG4gICAgcHJldmlld0ltYWdlRWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCc7XHJcbiAgICByZXR1cm47XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGJsb2JVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBmaWxlTGlzdC5pdGVtKCAwICkhICk7XHJcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50LnNyYyA9IGJsb2JVUkw7XHJcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50Lm9uY2xpY2sgPSBfID0+IHdpbmRvdy5vcGVuKCBibG9iVVJMLCAnX2JsYW5rJyApO1xyXG4gICAgcHJldmlld0ltYWdlRWxlbWVudC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiQ29sb3JSR0JBIiwiciIsImciLCJiIiwiYSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNsYW1wIiwidG9TdHJpbmciLCJ0b1N0cmluZ1dpdGhvdXRBbHBoYSIsImFzQXJyYXkiLCJub0FscGhhIiwiZ2V0Q29weSIsImluY3JlYXNlU2F0dXJhdGlvbiIsImNvbG9yIiwicGVyY2VudGFnZSIsIm1heFZhbHVlIiwiTWF0aCIsIm1heCIsImNvcHlDb2xvciIsImZsb29yIiwiZ2V0VW5pcXVlIiwiYXJyIiwicmVtb3ZlVHJhbnNwYXJlbnRQaXhlbHMiLCJmaWx0ZXIiLCJ2IiwiaSIsImZpbmRJbmRleCIsInYyIiwiSlNPTiIsInN0cmluZ2lmeSIsImMiLCJpc1ZhbGlkIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJlcXVhbHMiLCJjb2xvcjIiLCJOdW1iZXIiLCJpc05hTiIsIkJMQUNLIiwiTlVMTCIsImdldFBpeGVsQ29sb3JGcm9tQ2FudmFzIiwicGl4ZWxJbmRleCIsInBpeGVsQXJyYXkiLCJnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQiLCJjb250ZXh0IiwiZGVwdGgiLCJnZXRDb2xvclBhbGV0dGUiLCJudW1iZXJPZkNvbG9yQ2hhbm5lbHMiLCJnZXRJbWFnZURhdGEiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImRhdGEiLCJjb2xvckFycmF5IiwibGVuZ3RoIiwicHVzaCIsImdldENvbG9yQXJyYXlCeUNvbnRleHQiLCJyZ2JWYWx1ZXMiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsInJvdW5kIiwiY29tcG9uZW50VG9Tb3J0QnkiLCJyTWluIiwiTUFYX1ZBTFVFIiwiZ01pbiIsImJNaW4iLCJyTWF4IiwiTUlOX1ZBTFVFIiwiZ01heCIsImJNYXgiLCJmb3JFYWNoIiwicGl4ZWwiLCJtaW4iLCJyUmFuZ2UiLCJnUmFuZ2UiLCJiUmFuZ2UiLCJiaWdnZXN0UmFuZ2UiLCJDT0xPUl9DSEFOTkVMIiwiUiIsIkciLCJCIiwiZmluZEJpZ2dlc3RDb2xvclJhbmdlIiwic29ydCIsInAxIiwicDIiLCJtaWQiLCJzbGljZSIsImdldEZpbGVFeHRlbnNpb24iLCJmaWxlTmFtZSIsImlzTnVsbE9yRW1wdHkiLCJkZWZhdWx0RmlsZVNyYyIsInNwbGl0IiwicG9wIiwiZmlsZVR5cGVTdHIiLCJudW0iLCJzdHIiLCJDT05WRVJTSU9OX1VOSVQiLCJESVJFQ1RJT05fUkVGRVJFTkNFIiwiVkVSVElDQUxfUkVGRVJFTkNFIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsImNhbGN1bGF0ZUFzcGVjdFJhdGlvRml0Iiwic3JjRGltZW5zaW9ucyIsIm91dHB1dERpbWVuc2lvbnMiLCJyYXRpbyIsImdldEltYWdlUmVzaXplRGltZW5zaW9uc0tlZXBBc3BlY3RSYXRpbyIsImFzeW5jIiwiZ2V0SW1hZ2VCeVVSTCIsImltYWdlU3JjIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbWciLCJJbWFnZSIsInNyYyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwiYmxvYiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInNldEF0dHJpYnV0ZSIsIm9ubG9hZCIsImdldEltYWdlQnlJbnB1dElkIiwiaW5wdXRJZCIsImZpbGVMaXN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZpbGVzIiwiaXRlbSIsInR5cGUiLCJnZXRJbWFnZUJ5QmxvYiIsInJlc2l6ZUltYWdlRnJvbUlucHV0IiwicmVzaXplRGltZW5zaW9ucyIsInJlc2l6ZUltYWdlIiwicmVzaXplSW1hZ2VGcm9tVVJMIiwiZ2V0Q2FudmFzUmVzaXplSW1hZ2UiLCJjYW52YXNDb25maWciLCJyZXN1bHRDYW52YXMiLCJyZXN1bHRDYW52YXNJZCIsImNyZWF0ZUVsZW1lbnQiLCJyZXN1bHRDb250ZXh0IiwicmVzdWx0Q2FudmFzQ29udGV4dCIsImdldENvbnRleHQiLCJyZXN1bHREaW1lbnNpb25zIiwicmVzaXplQ2FudmFzIiwicmVzaXplQ2FudmFzSWQiLCJyZXNpemVDYW52YXNDb250ZXh0IiwiZHJhd0ltYWdlIiwiZ2V0SW1hZ2VQYWxldHRlQnlVUkwiLCJkcmF3SW1hZ2VPbkNhbnZhcyIsImdldEltYWdlUGFsZXR0ZUJ5SW5wdXRJZCIsImFscGhhIiwid2lsbFJlYWRGcmVxdWVudGx5IiwiZ2V0R3JhZGllbnRCeUltYWdlVVJMIiwiZ2V0R3JhZGllbnRGcm9tUGFsZXR0ZSIsImdldEdyYWRpZW50QnlJbWFnZUlucHV0SWQiLCJpbWFnZVBhbGV0dGUiLCJtYXAiLCJqb2luIiwidHJpbSIsInNldEVsZW1lbnRCYWNrZ3JvdW5kR3JhZGllbnRCeUNhbnZhc0NvbnRleHQiLCJlbGVtZW50IiwiY2FudmFzQ29udGV4dCIsImJnR3JhZGllbnQiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInJlc3VsdEltYWdlQ2FudmFzIiwidG9CbG9iIiwiZ2V0QXR0cmlidXRlIiwicHJldmlld0ltYWdlIiwiZGVmYXVsdEltYWdlU3JjIiwidXBsb2FkSW1hZ2VJbnB1dElkIiwicHJldmlld0ltYWdlRWxlbWVudElkIiwicHJldmlld0ltYWdlRWxlbWVudCIsImN1cnNvciIsImJsb2JVUkwiLCJvbmNsaWNrIiwiXyIsIndpbmRvdyIsIm9wZW4iXSwic291cmNlUm9vdCI6IiJ9