var Soundboard;(()=>{"use strict";var e={6401:(e,t,i)=>{i.d(t,{ComponentContainer:()=>n});class n{_element=null;templateElement;componentName;subComponentCountByName=new Map;subComponents=[];constructor(e,t){if("string"==typeof t){const e=document.getElementById(t);if(!e)throw new Error("Invalid template for scene component. Template id: "+t);this.templateElement=e}else this.templateElement=document.createElement("template"),this.templateElement.content.appendChild(t),document.body.appendChild(this.templateElement);this.componentName=e}getTemplateCloneNodes(){return this.templateElement.content.cloneNode(!0).children}async buildSingleSubComponent(e,t){this.subComponentCountByName.has(this.componentName)&&this.subComponentCountByName.set(this.componentName,0);let i=this.subComponentCountByName.get(this.componentName);return this.subComponentCountByName.set(this.componentName,i+1),await e.build(t,`${this.componentName}${e.componentName.capitalizeFirstLetter()}${i}`)}async buildOnBody(e){this._element=document.createElement("div"),e&&(this._element.id=e);for(let e of this.getTemplateCloneNodes())this._element.insertAdjacentElement("afterbegin",e);if(!this._element)throw new Error(`Fail building SceneComponent. ElementId: ${e}`);return await this.buildSubComponents(document.body),document.body.insertAdjacentElement("beforeend",this._element),this._element}async build(e,t){for(let t of this.getTemplateCloneNodes())e.insertAdjacentElement("afterbegin",t);return await this.buildSubComponents(e),e}}},241:(e,t,i)=>{i.d(t,{MediaComponent:()=>m});var n=i(6696),s=i(1319),a=i(3164),r=i(739),o=i(2843),d=i(4271),l=i(2560);class m extends l.S{src;mediaElement;_container;_isReady=!1;_startsAt;_blockInteraction=!1;_divBlockInteraction;constructor(e){super(),this.src=e.src,this._container=e.container,this.mediaElement=e.mediaElement,this._blockInteraction=!!e.blockInteraction,e.mediaElementId&&(this.mediaElement.id=e.mediaElementId),this._startsAt=e.startsAt??0,this.mediaElement.classList.add("media-component"),this.mediaElement.addEventListener("ended",(()=>{this.stop()})),this._container.id||(this._container.id=e.mediaElementId+"MediaComponentContainer"),this._container.classList.add("media-component-container"),this._divBlockInteraction=this.getInvisibleDivBlockInteraction(this),this.setupInvisibleDivBlockInteraction(),this.setElementsAttributes(),this.mediaElement.setAttribute("width",`${this.dimensions.width}px`),this.mediaElement.setAttribute("height",`${this.dimensions.height}px`),this.mediaElement.load(),this.mediaElement.addEventListener("loadedmetadata",(()=>{this._isReady=!0,this.callEventsByName("onmediaready",this),this.callEventsByName("onmediacomponentready",this)}))}destroy(){this.container.remove()}get isReady(){return this._isReady}get isPlaying(){return!this.mediaElement.paused}set id(e){this.mediaElement.id=e}get id(){return this.mediaElement.id}get _videoInfoAttributeList(){return[["media-component-src",this.src],["media-component-name",this.name]]}get name(){return(0,o.replacePercentEncoding)((0,a.removeFilePath)(this.src))}setElementsAttributes(){(0,s.setAttributeListForElement)(this.mediaElement,this._videoInfoAttributeList),(0,s.setAttributeListForElement)(this.container,this._videoInfoAttributeList),(0,s.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}get divBlockInteraction(){return this._divBlockInteraction}get container(){return this._container}get paused(){return this.mediaElement.paused}get fileName(){return this.mediaElement.src||this.mediaElement.querySelector("source")?.src||""}set startsAt(e){this._startsAt=e}get startsAt(){return this._startsAt}set playerCurrentTime(e){this.mediaElement.currentTime=e}get playerCurrentTime(){return this.mediaElement.currentTime}get playerDuration(){return this.mediaElement.duration}get duration(){return this.duration-this._startsAt}get currentTime(){return this.playerCurrentTime-this.startsAt}set currentTime(e){const t=(0,r.clamp)(e+this.startsAt,this.startsAt,this.playerDuration);this.seek(t)}get sourceElements(){return Array.from(this.mediaElement.querySelectorAll("source"))}async changeSource(e,t){this._isReady=!1,this.id=t??this.id,this.src=e,this.mediaElement.innerHTML=(0,n.audioSourceElementHTML)(this.src),await this.load(),this.setElementsAttributes(),this.stop()}async load(){return new Promise(((e,t)=>{this._isReady=!1,this.mediaElement.readyState>=HTMLMediaElement.HAVE_METADATA?(this._isReady=!0,this.callEventsByName("onmedialoaded",this),this.callEventsByName("onmediacomponentloaded",this),e()):(this.mediaElement.addEventListener("loadedmetadata",(()=>{this._isReady=!0,this.callEventsByName("onmedialoaded",this),this.callEventsByName("onmediacomponentloaded",this),e()})),this.mediaElement.addEventListener("error",(e=>{this._isReady=!1,this.callEventsByName("onmedialoaderror",this),this.callEventsByName("onmediacomponentloaderror",this),t(e)}))),this.mediaElement.load()}))}playWithoutTriggerEvents(){var e=this.mediaElement.play();return void 0!==e&&e.then((e=>{})).catch((()=>{this.stop()})),this.setClassesPlaying(),this}pauseWithoutTriggerEvents(){return this.mediaElement.pause(),this.setClassesPaused(),this}setClassesPlaying(){this._container.classList.add("media-component-playing"),this._divBlockInteraction.classList.add("media-component-playing"),this._container.classList.remove("media-component-paused"),this._divBlockInteraction.classList.remove("media-component-paused")}setClassesPaused(){this._container.classList.add("media-component-paused"),this._divBlockInteraction.classList.add("media-component-paused"),this._container.classList.remove("media-component-playing"),this._divBlockInteraction.classList.remove("media-component-playing")}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}stop(){return this.pause(),this.mediaElement.currentTime=this.startsAt,this.callEventsByName("onstop",this),this}toggle(){return this.paused?this.playWithoutTriggerEvents():this.pause(),this.callEventsByName("ontoggle",this),this}mute(){return this.mediaElement.volume=0,this.callEventsByName("onmute",this),this}unmute(){return this.mediaElement.volume=1,this.callEventsByName("onunmute",this),this}seek(e,t){return this.playerCurrentTime=e,this.callEventsByName("onseek",this),this}get dimensions(){return(0,s.getElementDimensions)(this._container)}getInvisibleDivBlockInteraction(e){const t=(0,s.createInvisibleDivAboveParent)({parentElement:e._container,id:`invisibleDivBlockInteraction${e._container.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("media-component-div-block-interaction"),t}setupInvisibleDivBlockInteraction(){this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(()=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}static async createMediaComponentOnBody(e){const t=(0,n.getMediaTypeBySource)(e.src),i=(0,n.getMediaDefaultsByMediaType)(t),s=await new d.MediaComponentFactory(e.src,i).buildOnBody();return new m({src:e.src,container:s,mediaElement:s.querySelector(t),mediaElementId:e.mediaElementId,blockInteraction:e.blockInteraction})}static async createMediaComponentByType(e){const t=(0,n.getMediaTypeBySource)(e.src),i=(0,n.getMediaDefaultsByMediaType)(t);if(e.container===document.body||!e.container)return this.createMediaComponentOnBody(e);const s=await new d.MediaComponentFactory(e.src,i).build(e.container);return new m({src:e.src,container:s,mediaElement:s.querySelector(t),mediaElementId:e.mediaElementId,blockInteraction:e.blockInteraction})}static async createMediaComponent(e){const t=(0,n.getMediaTypeBySource)(e.src),i=(0,n.getMediaDefaultsByMediaType)(t);if(!i||!t)throw new Error("Invalid media type");if(e.container===document.body||!e.container)return this.createMediaComponentOnBody(e);const s=await new d.MediaComponentFactory(e.src,i).build(e.container);return new m({src:e.src,container:s,mediaElement:s.querySelector(t),mediaElementId:e.mediaElementId,blockInteraction:e.blockInteraction})}}},4271:(e,t,i)=>{i.d(t,{MediaComponentFactory:()=>a});var n=i(6696),s=i(6401);class a extends s.ComponentContainer{constructor(e,t){super("audioComponent",(0,n.createMediaPlayer)([e],t))}async buildSubComponents(e){}}},6167:(e,t,i)=>{i.d(t,{templateSoundboardInput:()=>a,templateSoundboardItemContainer:()=>s});var n=i(2843);function s(e,t=""){return`\n  <div id="${e}SoundTableItem" class="sound-table-item-container">\n      <div class="sound-table-media-name-container position-absolute bottom-100 start-0 text-truncate" style="max-width: 100%;">\n        <span class="sound-table-media-name fw-bolder text-dark text-truncate" title="${(0,n.replacePercentEncoding)(t)}">\n          ${(0,n.replacePercentEncoding)(t)}\n        </span>\n      </div>\n  </div>\n  `.trim()}function a(e,t,i="",n=""){return`\n    <div class="sound-table-input-container text-truncate position-absolute top-0 start-0 w-100 h-100" style="z-index: 999 !important; pointer-events: none !important;">\n      <div class="form-floating position-absolute bottom-0 start-0" style="pointer-events: auto !important;">\n        <input type="text" value="${i}" class="form-control sound-table-input text-truncate" id="urlInput${e}" placeholder="${n}">\n        <label for="urlInput${e}">${t}</label>\n      </div>\n\n      <div class="sound-table-remove-item-container position-absolute top-0 end-0" style="pointer-events: auto !important;">\n        <button type="button" class="sound-table-remove-item-button btn-close badge rounded-0 bg-danger opacity-100 p-3">\n        </button>\n      </div>\n    </div>\n  `}},2560:(e,t,i)=>{i.d(t,{S:()=>s});var n=i(7930);class s extends n.ObjectEventListener{constructor(){super()}}},2152:(e,t,i)=>{function n(e){return`\n  <div id="${e}">\n  </div>\n  `.trim()}i.d(t,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(e,t,i)=>{i.d(t,{YoutubeIframe:()=>d});var n=i(1319),s=(i(4763),i(739)),a=i(2152),r=(i(4785),i(3362),i(7930)),o=i(2560);class d extends o.S{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;_videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;topDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new r.ObjectEventListener;cachedVideoInfo={};constructor(e){if(d._dictYoutubeIframeById.has(e.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=e.iframeId,this._startsAt=e.startsAt??0,this._videoId=e.videoId,this._startMuted=!!e.startMuted,this._blockInteraction=!!e.blockInteraction,this._iframeContainer=d.getYoutubeIframeElement({iframeId:e.iframeId,classList:e.classList}),this._iframeParentElement=d.setupParentFromYoutubeIframe({parentElement:e.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=e.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),d._dictYoutubeIframeById.set(e.iframeId,this),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}get name(){return this.videoName}get container(){return this._iframeContainer}get videoId(){return(0,n.extractYouTubeId)(this._videoId)}destroy(){this.player.destroy(),this.container.remove(),d._dictYoutubeIframeById.delete(this.id)}async setVideoInfo(){this.cachedVideoInfo=await this.getVideoInfo()??{},this.videoName=this.cachedVideoInfo.title?this.cachedVideoInfo.title:"",this.channelName=this.cachedVideoInfo.author_name?this.cachedVideoInfo.author_name:"",this.videoThumb=this.cachedVideoInfo.thumbnail_url?this.cachedVideoInfo.thumbnail_url:"",this.channelURL=this.cachedVideoInfo.author_url?this.cachedVideoInfo.author_url:""}async changeVideo(e){if((0,n.isValidYoutubeUrlOrId)(e.videoId)){for(;!this.player||!this.player.loadVideoById;)await(0,n.delay)(100);this.prepareOptions(e),await this.loadVideo(),this.player.seekTo(this.startsAt,!0),this.isPlaying?this.playWithoutTriggerEvents():this.pauseWithoutTriggerEvents()}}prepareOptions(e){this.id=e.iframeId,this._videoId=e.videoId,this.startsAt=e.startsAt??this.startsAt}async loadVideo(){this._isPlayerReady=!1,this.player.loadVideoById({videoId:this.videoId,startSeconds:this.startsAt,suggestedQuality:"highres"}),await this.setVideoInfo(),this.setExternalHTMLElementsAttributes()}async loadVideoInfo(){return await this.setVideoInfo(),this.setExternalHTMLElementsAttributes(),this.cachedVideoInfo}async getVideoInfo(){const e=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));return e.error?(console.error(e.error),null):await e.data().json()}onPlayerReady(e){this._startMuted&&this.player.mute(),d._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),d.checkIfEveryIframeIsReady()}onPlayerStateChange(e){e.data===d._youtubeAPIReference.PlayerState.PLAYING?(this._isPlaying=!0,this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this,this.isPlaying)),100),this.setClassesIframePlaying()):this._playingObserverInterval&&(clearInterval(this._playingObserverInterval),this.setClassesIframePaused(),this._isPlaying=!1,this._playingObserverInterval=null),this.callEventsByName("playerstatechange",this,this.isPlaying),this.callEventsByName("onplayerstatechange",this,this.isPlaying)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(e){const t=(0,s.clamp)(e+this.startsAt,this.startsAt,this.playerDuration);this.seek(t)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,s.clamp)(this._startsAt,0,this._startsAt)}set startsAt(e){this._startsAt=(0,s.clamp)(e,0,e)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(e,t=!1,i=!1){return this.callEventsByName("onseek",e,t,i,this),e+=i?this._startsAt:0,this.player.seekTo(e,t),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...d._dictYoutubeIframeById.keys()].some((e=>!this._arrYoutubeIframeIdReady.includes(e)))||(this.arrObjectToSetOnEveryIframeReady.forEach((e=>e.setup(d._dictYoutubeIframeById))),d._dictYoutubeIframeById.forEach(((e,t)=>{e.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:e,classList:t}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),t&&i.classList.add(...t),i.id=`containerYoutubeIframe${e}`,i.insertAdjacentHTML("afterbegin",(0,a.templateBackgroundYoutubeIframeElement)(e)),i}static setupParentFromYoutubeIframe({parentElement:e,iframeContainer:t}){const i=e??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",t),i}setExternalHTMLElements(){this.createInvisibleDivTop(),this.createInvisibleDivBlockInteraction(),this.setExternalHTMLElementsAttributes()}setExternalHTMLElementsAttributes(){this.setIframeContainerAttributes(),this.setTopDivAttributes(),this.setDivBlockInteractionAttributes()}createInvisibleDivTop(){this.topDiv=d.getInvisibleTopDiv(this),this.topDiv.style.zIndex="990"}createInvisibleDivBlockInteraction(){this._divBlockInteraction=d.getInvisibleDivBlockInteraction(this),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(e=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}setDivBlockInteractionAttributes(){this.divBlockInteraction&&(0,n.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}setIframeContainerAttributes(){this._iframeContainer&&(0,n.setAttributeListForElement)(this._iframeContainer,this._videoInfoAttributeList)}setTopDivAttributes(){this.topDiv&&(0,n.setAttributeListForElement)(this.topDiv,this._videoInfoAttributeList)}set blockInteraction(e){this._blockInteraction=e,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new d._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;get _videoInfoAttributeList(){return[["yt-iframe-id",this.id],["yt-iframe-video-name",this.videoName],["yt-iframe-video-channel-name",this.channelName],["yt-iframe-video-thumb-url",this.videoThumb],["yt-iframe-video-channel-url",this.channelURL]]}static async buildSingleIframe(e){if(e._isPlayerReady)return e;if(!document.getElementById("ytIframeAPIScriptTag")){var t=document.createElement("script");t.id="ytIframeAPIScriptTag",t.src="https://www.youtube.com/iframe_api";var i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.insertBefore(t,i)}return await(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag"),await(0,n.pollForVariableAsync)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(t=>{d._youtubeAPIReference=t,e.build()})),await e.loadVideoInfo(),e}static buildIframes(){if(!document.getElementById("ytIframeAPIScriptTag")){var e=document.createElement("script");e.id="ytIframeAPIScriptTag",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t)}(0,n.waitUntilElementExists)("#ytIframeAPIScriptTag").then((()=>{(0,n.pollForVariable)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(e=>{d._youtubeAPIReference=e,d.setYoutubeIframeElements()}))}))}build(){this.setExternalHTMLElements(),this.initPlayer()}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((e,t)=>{e.isPlayerReady||e.build()}))}static getInvisibleTopDiv(e){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleTopDivHoldToDrag${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:.2*e.dimensions.height}})}static getInvisibleDivBlockInteraction(e){const t=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleDivBlockInteraction${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("yt-div-block-interaction"),t}}},4785:(e,t,i)=>{i.d(t,{YoutubeIframe:()=>n.YoutubeIframe});var n=i(5102)},3362:(e,t,i)=>{i(5102)},2976:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(e,t="..."){return(this.length>e?this.substring(0,e)+t:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}},4763:(e,t,i)=>{i(1319),i(8586)},8586:(e,t,i)=>{i(1319)},7930:(e,t,i)=>{i.d(t,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(e,t){const i={id:crypto.randomUUID(),event:t};return this.eventsByName.has(e.toLowerCase())?(this.eventsByName.get(e.toLowerCase()).push(i),i.id):(this.eventsByName.set(e.toLowerCase(),[i]),i.id)}getEventsByName(e){return this.eventsByName.has(e.toLowerCase())||this.eventsByName.set(e.toLowerCase(),[]),this.eventsByName.get(e.toLowerCase())}removeEventById(e){this.eventsByName.forEach(((t,i)=>{this.eventsByName.set(i,t.filter((t=>t.id!==e)))}))}callEventsByName(e,...t){this.getEventsByName(e).forEach((e=>e.event(...t)))}}},1319:(e,t,i)=>{i.d(t,{createInvisibleDivAboveParent:()=>I,delay:()=>y,extractYouTubeId:()=>d,getElementDimensions:()=>c,getElementFromHTML:()=>m,handlePromise:()=>r,hideElement:()=>f,insertElementAtIndex:()=>v,isValidYoutubeUrlOrId:()=>o,pollForVariable:()=>u,pollForVariableAsync:()=>h,setAttributeListForElement:()=>l,waitUntilElementExists:()=>p});const n=new Map,s=new Map,a=new Map;async function r(e){try{const t=await e;return{data:()=>t,error:null}}catch(e){return console.error(e),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:e instanceof Error?e:new Error(String(e))}}}function o(e){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(e)||/^[a-zA-Z0-9_-]{11}$/.test(e)}function d(e){const t=e.match(/[?&]v=([^?&]+)/);return t&&t[1]?t[1]:11===e.length?e:null}function l(e,t){t.forEach((([t,i])=>{e.setAttribute(t,i)}))}function m(e,t=!0){if(!(e=t?e.trim():e))return null;const i=document.createElement("template");i.innerHTML=e;const n=i.content.children;return 1===n.length?n[0]:Array.from(n)}function c(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function u(e,t,i){const n=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(n),i(window[e]))}),100)}async function h(e,t,i){return new Promise((n=>{const s=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(s),i(window[e]),n())}),100)}))}function p(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver((n=>{document.querySelector(e)&&(i.disconnect(),t(document.querySelector(e)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}async function y(e){return new Promise((t=>setTimeout(t,e)))}function v(e,t,i){const n=e.childNodes;if(!(i>=0&&i<=n.length))throw console.error("Index out of bounds"),new Error("Index out of bounds");if(i===n.length)e.appendChild(t);else{const s=n[i];e.insertBefore(t,s)}}function I({parentElement:e,id:t,position:i,dimensions:n}){var s=document.createElement("div");return e.style.position||(e.style.position="relative"),s.id=t,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",e.appendChild(s),s}function f(e){e.style.display="block",e.style.position="absolute",e.style.zIndex="-1",e.style.opacity="0",e.style.width="0px !important",e.style.height="0px !important",e.setAttribute("hidden","")}new Map,window.addEventListener("keydown",(e=>{e.repeat||function(e){for(const t of n)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e),function(e){for(const t of s)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e)})),window.addEventListener("keyup",(e=>{for(const t of a)e.code===t[0]&&t[1].forEach((t=>t(e)))}))},3164:(e,t,i)=>{i.d(t,{getFileExtension:()=>a,removeFilePath:()=>s});var n=i(2843);function s(e){const t=/(?:.*[\\/])([^\\/]+)$/.exec(e);return t&&t.length>1?t[1]:e}function a(e){if((0,n.isNullOrEmpty)(e))return"";const t=e.split(".").pop();if(t&&t!==e)return t;const i=e.split("/").pop();return i&&i!==e?i:""}},739:(e,t,i)=>{function n(e=0,t=0,i=100){return Math.max(t,Math.min(e,i))}i.d(t,{clamp:()=>n})},6696:(e,t,i)=>{i.d(t,{audioSourceElementHTML:()=>u,createMediaPlayer:()=>c,getMediaDefaultsByMediaType:()=>m,getMediaTypeBySource:()=>l}),i(241),i(2976);var n=i(1319),s=i(3164);const a=["mp3","wav","ogg","aac","wma","flac","m4a"],r=["mp4","avi","mov","mkv","wmv","flv","webm","m4v"],o={type:"audio",autoplay:!1,muted:!1,loop:!1,preload:"auto"},d={type:"video",autoplay:!1,muted:!1,loop:!1,preload:"auto"};function l(e){return function(e){const t=e.toLowerCase();if(a.includes(t))return"audio";if(r.includes(t))return"video";throw new Error("Invalid file extension: "+e)}((0,s.getFileExtension)(e))}function m(e){switch(e){case"video":return d;case"audio":return o;default:throw new Error("Invalid file extension at: "+e)}}function c(e,t){const i=t&&"video"===t.type;let a=i?function(e,t){return`<video playsinline ${h(t)}>\n    ${e.map((e=>function(e){return`<source src="${e}" type="video/${(0,s.getFileExtension)(e)}">`}(e))).reduce(((e,t)=>e+t),"")}\n  </video>`}(e,t):function(e,t){return`<audio playsinline ${h(t)}>\n    ${e.map((e=>u(e))).reduce(((e,t)=>e+t),"")}\n  </audio>`}(e,t);const r=(0,n.getElementFromHTML)(a);return document.body.insertAdjacentElement("afterbegin",r),i||(0,n.hideElement)(r),r}function u(e){return`<source src="${e}" type="audio/${(0,s.getFileExtension)(e)}">`}function h(e){return` ${e.autoplay?"autoplay":""} ${e.muted?"muted":""} ${e.loop?"loop":""} ${e.preload?'preload="'+e.preload+'"':""}`.trimEnd()}},2843:(e,t,i)=>{function n(e){return"string"!=typeof e||!e||""===e}function s(e){return e.replace(/[^a-zA-Z0-9]/g,"")}function a(e){return e.replace(/%20/g," ")}i.d(t,{isNullOrEmpty:()=>n,removeSpecialCharacters:()=>s,replacePercentEncoding:()=>a})}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{i.r(n),i.d(n,{Soundboard:()=>l});var e=i(7930),t=i(1319),s=i(3164),a=i(2843),r=i(241),o=i(4785),d=i(6167);class l extends e.ObjectEventListener{container;containersClassList;itemClassList;_setMediaControllers=new Set;_mapMediaControllersById=new Map;_mapInputByComponentId=new Map;constructor(e){super(),this.container=e.container,this.containersClassList=e.containersClassList??[],this.itemClassList=e.itemClassList??[],this.addMediaList(e.arrMediaSrc)}static getInstantMP3DownloadLink(e){if(!l.isMyInstantsLink(e))throw new Error("Not a MyInstants link");const t=e.match(/\/instant\/([^/]+)\/?/);return!t||t.length<2?e:`https://www.myinstants.com/media/sounds/${t[1].replace(/-\d+$/,"")}.mp3`}static isMyInstantsLink(e){return e.includes("myinstants.com")}async addMediaList(e){let t=[];for(let i=0;i<e.length;++i){const n=this.getSourceInputDefaultOptions(e[i]),s=await this.addMedia(n);t.push(s)}return t}getCustomMediaComponentMediaOptions(e){const t=structuredClone(e);return l.isMyInstantsLink(e.src)&&(t.src=l.getInstantMP3DownloadLink(e.src)),t}get components(){return Array.from(this._setMediaControllers)}get length(){return this.components.length}async addMedia(e,i){let n;return n=(0,t.isValidYoutubeUrlOrId)(e.src)?await this.addIframe(this.container.id,e,i):await this.addMediaComponent(this.container.id,this.getCustomMediaComponentMediaOptions(e),i),this.setComponentNameById(n.media.id,n.media.name),n}getSourceInputDefaultOptions(e){return"string"==typeof e?{src:e,autoRepeatOnPlay:!0}:e}addYoutubeList(e=[]){e.map((e=>this.getSourceInputDefaultOptions(e))).forEach((e=>{this.addIframe(`${this.container.id}IframeTableItem${e.src}`,e)}))}addAudioList(e=[]){e.map((e=>this.getSourceInputDefaultOptions(e))).forEach((e=>this.addMediaComponent(this.container.id,this.getCustomMediaComponentMediaOptions(e))))}addComponentInteractionBlockEvent(e,t){e.media.addEventListener("oninteractionblocked",(()=>{e.media.currentTime=0,t.autoRepeatOnPlay?e.media.playWithoutTriggerEvents():e.media.toggle()}))}getInputBySource(e){if(!this._mapInputByComponentId.has(e))throw new Error("Element src not on sound table.");return this._mapInputByComponentId.get(e)}get componentsControllers(){return Array.from(this._setMediaControllers)}getElementMediaContainer(e,i=""){const n=(0,t.getElementFromHTML)((0,d.templateSoundboardItemContainer)(e,i));return n.classList.add(...this.containersClassList),n}setComponentNameById(e,t){const i=this.getElementItemNameContainerById(e);i.innerHTML=(0,a.replacePercentEncoding)(t),i.setAttribute("title",(0,a.replacePercentEncoding)(t))}getElementItemNameContainerById(e){const t=this._mapMediaControllersById.get(e);if(!t)throw new Error("Component does not exist.");const i=t.mediaContainer.querySelector(".sound-table-media-name");if(!i)throw new Error("Media name for this element was removed.");return i}getNewMediaComponentId(e,t){return(0,a.removeSpecialCharacters)(e+"AudioElement"+(0,s.removeFilePath)(t.src)+crypto.randomUUID())}getNewYoutubeIframeId(e,t){return(0,a.removeSpecialCharacters)(e+"YoutubeIframe"+(0,s.removeFilePath)(t.src)+crypto.randomUUID())}async addMediaComponent(e,i,n){const s=this.getNewMediaComponentId(e,i);if(this._mapMediaControllersById.has(s))throw new Error("A component with this id already exists: "+s);n=n??this.length;const a=this.getElementMediaContainer(e);a.classList.add("loading","not-ready"),(0,t.insertElementAtIndex)(this.container,a,n);const o=await r.MediaComponent.createMediaComponent({src:i.src,mediaElementId:s,blockInteraction:!0,container:a});await o.load(),o.startsAt=i.startsAt??0;const d=this.addInputElementToContainer(a,o,o.id,i.src),l={media:o,input:d.input,inputContainer:d.container,buttonRemoveItem:d.buttonElement,mediaContainer:a,itemOptions:i,index:n};return o.container.classList.add("sound-table-item",...this.itemClassList),this._setMediaControllers.add(l),this._mapMediaControllersById.set(o.id,l),this.addComponentInteractionBlockEvent(l,i),this.setComponentNameById(o.id,o.name),a.classList.remove("loading","not-ready"),l}async addIframe(e,i,n){const s=this.getNewYoutubeIframeId(e,i);if(this._mapMediaControllersById.has(s))throw new Error("A component with this id already exists: "+s);n=n??this.length;const a=this.getElementMediaContainer(e);a.classList.add("loading","not-ready"),(0,t.insertElementAtIndex)(this.container,a,n);const r=new o.YoutubeIframe({iframeId:s,videoId:i.src,parentElement:a,startsAt:i.startsAt??0,classList:["sound-table-item","overflow-hidden",...this.itemClassList],blockInteraction:!0}),d=this.addInputElementToContainer(a,r,r.id,i.src),l={media:r,input:d.input,inputContainer:d.container,buttonRemoveItem:d.buttonElement,mediaContainer:a,itemOptions:i,index:n};return this._setMediaControllers.add(l),this._mapMediaControllersById.set(r.id,l),await o.YoutubeIframe.buildSingleIframe(r),this.addComponentInteractionBlockEvent(l,i),this.setComponentNameById(s,r.videoName),a.classList.remove("loading","not-ready"),l}async changeComponentSourceToInputValue(e){const t=this._mapMediaControllersById.get(e);if(!t)throw new Error("Component id does not exist");return await this.changeComponentSource(e,t.input.value)}async changeComponentSource(e,i){let n=this._mapMediaControllersById.get(e);if(!n)throw new Error("Component id does not exist");return(0,t.isValidYoutubeUrlOrId)(i)&&n.media instanceof o.YoutubeIframe?await this.changeYoutubeIframeSource(e,i):(this.removeComponentById(e),n=await this.addMedia({src:i,autoRepeatOnPlay:n.itemOptions.autoRepeatOnPlay},n.index)),this._mapMediaControllersById.delete(e),this._mapInputByComponentId.delete(e),this._mapMediaControllersById.set(n.media.id,n),this._mapInputByComponentId.set(n.media.id,n.input),this.setComponentNameById(n.media.id,n.media.name),n}async changeMediaComponentSource(e,t){const i=this._mapMediaControllersById.get(e);if(!i)throw new Error("Component id does not exist");if(!(i.media instanceof r.MediaComponent))throw new Error("Invalid operation");i.itemOptions.src=t;const n=this.getCustomMediaComponentMediaOptions(i.itemOptions),s=this.getNewMediaComponentId(i.mediaContainer.id,n);if(this._mapMediaControllersById.has(s))throw new Error("A component with this id already exists: "+s);await i.media.changeSource(n.src,s)}async changeYoutubeIframeSource(e,i){const n=this._mapMediaControllersById.get(e);if(!n)throw new Error("Component id does not exist");if(!(n.media instanceof o.YoutubeIframe))throw new Error("Invalid operation");if(!(0,t.isValidYoutubeUrlOrId)(i))throw new Error("Invalid youtube URL");n.itemOptions.src=i;const s=this.getNewYoutubeIframeId(n.mediaContainer.id,n.itemOptions);if(this._mapMediaControllersById.has(s))throw new Error("A component with this id already exists: "+s);await n.media.changeVideo({iframeId:s,videoId:i,startsAt:0})}addInputElementToContainer(e,i,n,s){const a=(0,t.getElementFromHTML)((0,d.templateSoundboardInput)(n,"Source",s));e.insertAdjacentElement("beforeend",a);const r=a.querySelector(".sound-table-input"),o=a.querySelector(".sound-table-remove-item-button");return r.addEventListener("input",(()=>{const e=this.components.filter((e=>e.media.id!==i.id));this.callEventsByName("input",r.value,i,e),this.callEventsByName("oninput",r.value,i,e),this.callEventsByName("inputchange",r.value,i,e),this.callEventsByName("oninputchange",r.value,i,e)})),o.addEventListener("click",(()=>{const e=this.components.filter((e=>e.media.id!==i.id));this.removeItem(i),this.callEventsByName("removeelement",r.value,i,e),this.callEventsByName("onremoveelement",r.value,i,e),this.callEventsByName("removeitem",r.value,i,e),this.callEventsByName("onremoveitem",r.value,i,e)})),{input:r,container:a,buttonElement:o}}removeComponent(e){return this.removeComponentById(e.media.id)}removeItem(e){return this.removeComponentById(e.id)}removeComponentById(e){const t=this._mapMediaControllersById.get(e);t&&(t.media.destroy(),t.mediaContainer.remove(),this._mapMediaControllersById.delete(e),this._mapInputByComponentId.delete(e),this._setMediaControllers.delete(t))}}})(),Soundboard=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWU5YSxLQUMzRm5CLEtBQUt1YyxXQUFZTixHQUVqQmpjLEtBQUtpRCxpQkFBa0IsZ0JBQWlCbVosRUFBYWhVLE1BQU82VCxFQUFnQkksR0FDNUVyYyxLQUFLaUQsaUJBQWtCLGtCQUFtQm1aLEVBQWFoVSxNQUFPNlQsRUFBZ0JJLEdBQzlFcmMsS0FBS2lELGlCQUFrQixhQUFjbVosRUFBYWhVLE1BQU82VCxFQUFnQkksR0FDekVyYyxLQUFLaUQsaUJBQWtCLGVBQWdCbVosRUFBYWhVLE1BQU82VCxFQUFnQkksRUFBeUIsSUFHL0YsQ0FDTHpLLE1BQU93SyxFQUNQN2EsVUFBVzRhLEVBQ1hmLGNBQWVBLEVBRW5CLENBRUEsZUFBQW9CLENBQWlCL2IsR0FDZixPQUFPVCxLQUFLNmIsb0JBQXFCcGIsRUFBVWdaLE1BQU10WSxHQUNuRCxDQUVBLFVBQUFvYixDQUFZOWIsR0FDVixPQUFPVCxLQUFLNmIsb0JBQXFCcGIsRUFBVVUsR0FDN0MsQ0FFQSxtQkFBQTBhLENBQXFCOVQsR0FDbkIsTUFBTXRILEVBQVlULEtBQUtvWSx5QkFBeUJ0WCxJQUFLaUgsR0FDL0N0SCxJQUlOQSxFQUFVZ1osTUFBTXZXLFVBQ2hCekMsRUFBVWlhLGVBQWV2WCxTQUV6Qm5ELEtBQUtvWSx5QkFBeUI3TixPQUFReEMsR0FDdEMvSCxLQUFLcVksdUJBQXVCOU4sT0FBUXhDLEdBQ3BDL0gsS0FBS2tZLHFCQUFxQjNOLE9BQVE5SixHQUNwQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQ29tcG9uZW50Q29udGFpbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL01lZGlhQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL01lZGlhQ29tcG9uZW50RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Tb3VuZGJvYXJkL1RlbXBsYXRlc1NvdW5kYm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvVHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9UZW1wbGF0ZXNZb3V0dWJlSWZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvWW91dHViZUlmcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXh0ZW5zaW9ucy9TdHJpbmdFeHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvRE9NVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0ZpbGVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvTWF0aFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9NZWRpYVRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9TdHJpbmdUb29scy50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU291bmRib2FyZC9Tb3VuZGJvYXJkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21wb25lbnRDb250YWluZXIge1xyXG4gIHByb3RlY3RlZCBfZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwdWJsaWMgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIHB1YmxpYyByZWFkb25seSBjb21wb25lbnROYW1lOiBzdHJpbmc7XHJcbiAgcHJvdGVjdGVkIHN1YkNvbXBvbmVudENvdW50QnlOYW1lOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gIHByb3RlY3RlZCBzdWJDb21wb25lbnRzOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gIC8vLyBUZW1wbGF0ZSBpcyBlaXRoZXIgYSBpZCBmb3IgYSBodG1sIHRlbXBsYXRlIGVsZW1lbnQgb3IgYW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWQgYXMgYSB0ZW1wbGF0ZSBpbnNpZGUgZG9jdW1lbnQuYm9keVxyXG4gIGNvbnN0cnVjdG9yKCBjb21wb25lbnROYW1lOiBzdHJpbmcsIHRlbXBsYXRlOiBzdHJpbmcgfCBIVE1MRWxlbWVudCApIHtcclxuICAgIGlmICggdHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJyApIHtcclxuICAgICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRlbXBsYXRlICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuXHJcbiAgICAgIGlmICggIXRlbXBsYXRlRWxlbWVudCApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCB0ZW1wbGF0ZSBmb3Igc2NlbmUgY29tcG9uZW50LiBUZW1wbGF0ZSBpZDogXCIgKyB0ZW1wbGF0ZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRlbXBsYXRlRWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0ZW1wbGF0ZVwiICk7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQuYXBwZW5kQ2hpbGQoIHRlbXBsYXRlICk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMudGVtcGxhdGVFbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXRUZW1wbGF0ZUNsb25lTm9kZXMoKTogSFRNTENvbGxlY3Rpb24ge1xyXG4gICAgcmV0dXJuICggdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUoIHRydWUgKSBhcyBEb2N1bWVudEZyYWdtZW50ICkuY2hpbGRyZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgYnVpbGRTdWJDb21wb25lbnRzKCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnRbXSB8IHZvaWQ+O1xyXG5cclxuICBwcm90ZWN0ZWQgYXN5bmMgYnVpbGRTaW5nbGVTdWJDb21wb25lbnQoIGNvbXBvbmVudDogQ29tcG9uZW50Q29udGFpbmVyLCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGlmICggdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5oYXMoIHRoaXMuY29tcG9uZW50TmFtZSApICkge1xyXG4gICAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCAwICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbXBvbmVudENvdW50ID0gdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5nZXQoIHRoaXMuY29tcG9uZW50TmFtZSApITtcclxuXHJcbiAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCBjb21wb25lbnRDb3VudCArIDEgKTtcclxuXHJcbiAgICByZXR1cm4gYXdhaXQgY29tcG9uZW50LmJ1aWxkKCBwYXJlbnQsIGAkeyB0aGlzLmNvbXBvbmVudE5hbWUgfSR7IGNvbXBvbmVudC5jb21wb25lbnROYW1lLmNhcGl0YWxpemVGaXJzdExldHRlcigpIH0keyBjb21wb25lbnRDb3VudCB9YCApO1xyXG4gIH1cclxuXHJcbiAgLy8vIEdldHMgdGhlIHRlbXBsYXRlIG5vZGVzIGFuZCBpbnNlcnQgdGhlbSBpbnRvIGEgY29udGFpbmVyIHRoZW4gcmV0dXJucyB0aGUgY29udGFpbmVyXHJcbiAgcHVibGljIGFzeW5jIGJ1aWxkT25Cb2R5KCBlbGVtZW50SWQ/OiBzdHJpbmcgKTogUHJvbWlzZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gICAgaWYgKCBlbGVtZW50SWQgKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuaWQgPSBlbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICggbGV0IGl0ZW0gb2YgdGhpcy5nZXRUZW1wbGF0ZUNsb25lTm9kZXMoKSApIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMuX2VsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggYEZhaWwgYnVpbGRpbmcgU2NlbmVDb21wb25lbnQuIEVsZW1lbnRJZDogJHsgZWxlbWVudElkIH1gICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5idWlsZFN1YkNvbXBvbmVudHMoIGRvY3VtZW50LmJvZHkgKTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuX2VsZW1lbnQgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vLyBHZXRzIHRoZSB0ZW1wbGF0ZSBub2RlcyBhbmQgaW5zZXJ0IHRoZW0gaW50byBhIGNvbnRhaW5lciB0aGVuIHJldHVybnMgdGhlIGNvbnRhaW5lclxyXG4gIHB1YmxpYyBhc3luYyBidWlsZCggY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudElkPzogc3RyaW5nICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGZvciAoIGxldCBpdGVtIG9mIHRoaXMuZ2V0VGVtcGxhdGVDbG9uZU5vZGVzKCkgKSB7XHJcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuYnVpbGRTdWJDb21wb25lbnRzKCBjb250YWluZXIgKTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvc3NpYmxlTWVkaWFUeXBlLCBhdWRpb1NvdXJjZUVsZW1lbnRIVE1MLCBkZWZhdWx0QXVkaW9QbGF5ZXJDb25maWcsIGRlZmF1bHRWaWRlb1BsYXllckNvbmZpZywgZ2V0TWVkaWFEZWZhdWx0c0J5RXh0ZW5zaW9uLCBnZXRNZWRpYURlZmF1bHRzQnlNZWRpYVR5cGUsIGdldE1lZGlhRGVmYXVsdHNCeVNvdXJjZSwgZ2V0TWVkaWFUeXBlQnlFeHRlbnNpb24sIGdldE1lZGlhVHlwZUJ5U291cmNlIH0gZnJvbSAnLi4vVG9vbHMvTWVkaWFUb29scyc7XHJcbmltcG9ydCB7IGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50LCBnZXRFbGVtZW50RGltZW5zaW9ucywgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQgfSBmcm9tICcuLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IGdldEZpbGVFeHRlbnNpb24sIHJlbW92ZUZpbGVQYXRoIH0gZnJvbSAnLi4vVG9vbHMvRmlsZVRvb2xzJztcclxuaW1wb3J0IHsgRGltZW5zaW9ucywgY2xhbXAgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyByZXBsYWNlUGVyY2VudEVuY29kaW5nIH0gZnJvbSAnLi4vVG9vbHMvU3RyaW5nVG9vbHMnO1xyXG5pbXBvcnQgeyBNZWRpYUNvbXBvbmVudEZhY3RvcnkgfSBmcm9tICcuL01lZGlhQ29tcG9uZW50RmFjdG9yeSc7XHJcbmltcG9ydCB7IE1lZGlhUGxheWVyIH0gZnJvbSAnLi9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBNZWRpYUNvbXBvbmVudE9wdGlvbnMgPSB7XHJcbiAgc3JjOiBzdHJpbmc7XHJcbiAgbWVkaWFFbGVtZW50SWQ6IHN0cmluZztcclxuICBtZWRpYUVsZW1lbnQ6IEhUTUxNZWRpYUVsZW1lbnQ7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENyZWF0ZU1lZGlhQ29tcG9uZW50T3B0aW9ucyA9IHtcclxuICBzcmM6IHN0cmluZztcclxuICBtZWRpYUVsZW1lbnRJZDogc3RyaW5nO1xyXG4gIGJsb2NrSW50ZXJhY3Rpb24/OiBib29sZWFuO1xyXG4gIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lZGlhQ29tcG9uZW50IGV4dGVuZHMgTWVkaWFQbGF5ZXIge1xyXG4gIHB1YmxpYyBzcmM6IHN0cmluZztcclxuICBwdWJsaWMgbWVkaWFFbGVtZW50OiBIVE1MTWVkaWFFbGVtZW50O1xyXG4gIHByaXZhdGUgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG5cclxuICBwcml2YXRlIF9pc1JlYWR5OiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBfc3RhcnRzQXQ6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIF9ibG9ja0ludGVyYWN0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaXZCbG9ja0ludGVyYWN0aW9uOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IE1lZGlhQ29tcG9uZW50T3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5zcmMgPSBvcHRpb25zLnNyYztcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xyXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQgPSBvcHRpb25zLm1lZGlhRWxlbWVudDtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSBvcHRpb25zLmJsb2NrSW50ZXJhY3Rpb24gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLm1lZGlhRWxlbWVudElkICkge1xyXG4gICAgICB0aGlzLm1lZGlhRWxlbWVudC5pZCA9IG9wdGlvbnMubWVkaWFFbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBvcHRpb25zLnN0YXJ0c0F0ID8/IDA7XHJcblxyXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ21lZGlhLWNvbXBvbmVudCcgKTtcclxuICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdlbmRlZCcsICgpID0+IHtcclxuICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgaWYgKCAhdGhpcy5fY29udGFpbmVyLmlkICkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuaWQgPSBvcHRpb25zLm1lZGlhRWxlbWVudElkICsgJ01lZGlhQ29tcG9uZW50Q29udGFpbmVyJztcclxuICAgIH1cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAnbWVkaWEtY29tcG9uZW50LWNvbnRhaW5lcicgKTtcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uID0gdGhpcy5nZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB0aGlzICk7XHJcbiAgICB0aGlzLnNldHVwSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpO1xyXG4gICAgdGhpcy5zZXRFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuXHJcbiAgICB0aGlzLm1lZGlhRWxlbWVudC5zZXRBdHRyaWJ1dGUoICd3aWR0aCcsIGAkeyB0aGlzLmRpbWVuc2lvbnMud2lkdGggfXB4YCApO1xyXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQuc2V0QXR0cmlidXRlKCAnaGVpZ2h0JywgYCR7IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgfXB4YCApO1xyXG4gICAgdGhpcy5tZWRpYUVsZW1lbnQubG9hZCgpO1xyXG5cclxuICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcclxuICAgICAgdGhpcy5faXNSZWFkeSA9IHRydWU7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubWVkaWFyZWFkeScsIHRoaXMgKTtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25tZWRpYWNvbXBvbmVudHJlYWR5JywgdGhpcyApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpc1JlYWR5KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzUmVhZHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWluZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAhdGhpcy5tZWRpYUVsZW1lbnQucGF1c2VkO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBpZCggdmFsOiBzdHJpbmcgKSB7XHJcbiAgICB0aGlzLm1lZGlhRWxlbWVudC5pZCA9IHZhbDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLm1lZGlhRWxlbWVudC5pZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0IF92aWRlb0luZm9BdHRyaWJ1dGVMaXN0KCk6IFtzdHJpbmcsIHN0cmluZ11bXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBbJ21lZGlhLWNvbXBvbmVudC1zcmMnLCB0aGlzLnNyY10sXHJcbiAgICAgIFsnbWVkaWEtY29tcG9uZW50LW5hbWUnLCB0aGlzLm5hbWVdXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gcmVwbGFjZVBlcmNlbnRFbmNvZGluZyggcmVtb3ZlRmlsZVBhdGgoIHRoaXMuc3JjICkgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0RWxlbWVudHNBdHRyaWJ1dGVzKCkge1xyXG4gICAgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIHRoaXMubWVkaWFFbGVtZW50LCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5jb250YWluZXIsIHRoaXMuX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QgKTtcclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLmRpdkJsb2NrSW50ZXJhY3Rpb24sIHRoaXMuX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGl2QmxvY2tJbnRlcmFjdGlvbigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhdXNlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLm1lZGlhRWxlbWVudC5wYXVzZWQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5tZWRpYUVsZW1lbnQuc3JjIHx8IHRoaXMubWVkaWFFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoICdzb3VyY2UnICk/LnNyYyB8fCAnJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgc3RhcnRzQXQoIHQ6IG51bWJlciApIHtcclxuICAgIHRoaXMuX3N0YXJ0c0F0ID0gdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhcnRzQXQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgcGxheWVyQ3VycmVudFRpbWUoIHQ6IG51bWJlciApIHtcclxuICAgIHRoaXMubWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyQ3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyRHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLm1lZGlhRWxlbWVudC5kdXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmR1cmF0aW9uIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJDdXJyZW50VGltZSAtIHRoaXMuc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGN1cnJlbnRUaW1lKCB0OiBudW1iZXIgKSB7XHJcbiAgICBjb25zdCB0aW1lQ29uc2lkZXJpbmdTdGFydCA9IGNsYW1wKCB0ICsgdGhpcy5zdGFydHNBdCwgdGhpcy5zdGFydHNBdCwgdGhpcy5wbGF5ZXJEdXJhdGlvbiApO1xyXG4gICAgdGhpcy5zZWVrKCB0aW1lQ29uc2lkZXJpbmdTdGFydCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzb3VyY2VFbGVtZW50cygpOiBIVE1MU291cmNlRWxlbWVudFtdIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKCB0aGlzLm1lZGlhRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnc291cmNlJyApICkgYXMgSFRNTFNvdXJjZUVsZW1lbnRbXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjaGFuZ2VTb3VyY2UoIHNyYzogc3RyaW5nLCBuZXdJZD86IHN0cmluZyApIHtcclxuICAgIHRoaXMuX2lzUmVhZHkgPSBmYWxzZTtcclxuICAgIHRoaXMuaWQgPSBuZXdJZCA/PyB0aGlzLmlkO1xyXG4gICAgdGhpcy5zcmMgPSBzcmM7XHJcbiAgICB0aGlzLm1lZGlhRWxlbWVudC5pbm5lckhUTUwgPSBhdWRpb1NvdXJjZUVsZW1lbnRIVE1MKCB0aGlzLnNyYyApO1xyXG4gICAgYXdhaXQgdGhpcy5sb2FkKCk7XHJcbiAgICB0aGlzLnNldEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5zdG9wKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgbG9hZCgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPiggKCByZXNvbHZlLCByZWplY3QgKSA9PiB7XHJcbiAgICAgIHRoaXMuX2lzUmVhZHkgPSBmYWxzZTtcclxuICAgICAgaWYgKCB0aGlzLm1lZGlhRWxlbWVudC5yZWFkeVN0YXRlID49IEhUTUxNZWRpYUVsZW1lbnQuSEFWRV9NRVRBREFUQSApIHtcclxuICAgICAgICB0aGlzLl9pc1JlYWR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbm1lZGlhbG9hZGVkJywgdGhpcyApO1xyXG4gICAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubWVkaWFjb21wb25lbnRsb2FkZWQnLCB0aGlzICk7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdsb2FkZWRtZXRhZGF0YScsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2lzUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25tZWRpYWxvYWRlZCcsIHRoaXMgKTtcclxuICAgICAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubWVkaWFjb21wb25lbnRsb2FkZWQnLCB0aGlzICk7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSApO1xyXG5cclxuICAgICAgICB0aGlzLm1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCAoIGVycm9yICkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5faXNSZWFkeSA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25tZWRpYWxvYWRlcnJvcicsIHRoaXMgKTtcclxuICAgICAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubWVkaWFjb21wb25lbnRsb2FkZXJyb3InLCB0aGlzICk7XHJcbiAgICAgICAgICByZWplY3QoIGVycm9yICk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLm1lZGlhRWxlbWVudC5sb2FkKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCkge1xyXG4gICAgdmFyIHBsYXlQcm9taXNlID0gdGhpcy5tZWRpYUVsZW1lbnQucGxheSgpO1xyXG5cclxuICAgIGlmICggcGxheVByb21pc2UgIT09IHVuZGVmaW5lZCApIHtcclxuICAgICAgcGxheVByb21pc2UudGhlbiggXyA9PiB7IH0gKVxyXG4gICAgICAgIC5jYXRjaCggKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0Q2xhc3Nlc1BsYXlpbmcoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB0aGlzLm1lZGlhRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgdGhpcy5zZXRDbGFzc2VzUGF1c2VkKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldENsYXNzZXNQbGF5aW5nKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICdtZWRpYS1jb21wb25lbnQtcGxheWluZycgKTtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uY2xhc3NMaXN0LmFkZCggJ21lZGlhLWNvbXBvbmVudC1wbGF5aW5nJyApO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnbWVkaWEtY29tcG9uZW50LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSggJ21lZGlhLWNvbXBvbmVudC1wYXVzZWQnICk7XHJcbiAgfVxyXG5cclxuICBzZXRDbGFzc2VzUGF1c2VkKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICdtZWRpYS1jb21wb25lbnQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QuYWRkKCAnbWVkaWEtY29tcG9uZW50LXBhdXNlZCcgKTtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ21lZGlhLWNvbXBvbmVudC1wbGF5aW5nJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCAnbWVkaWEtY29tcG9uZW50LXBsYXlpbmcnICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGxheSgpIHtcclxuICAgIHRoaXMucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBsYXknLCB0aGlzICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wYXVzZScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0b3AoKSB7XHJcbiAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICB0aGlzLm1lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHRoaXMuc3RhcnRzQXQ7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25zdG9wJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9nZ2xlKCkge1xyXG4gICAgaWYgKCB0aGlzLnBhdXNlZCApIHtcclxuICAgICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnRvZ2dsZScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgbXV0ZSgpIHtcclxuICAgIHRoaXMubWVkaWFFbGVtZW50LnZvbHVtZSA9IDA7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbm11dGUnLCB0aGlzICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHVubXV0ZSgpIHtcclxuICAgIHRoaXMubWVkaWFFbGVtZW50LnZvbHVtZSA9IDE7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnVubXV0ZScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2Vlayggc2Vla1RpbWU6IG51bWJlciwgX3JlbG9hZEJ1ZmZlcj86IGJvb2xlYW4gKSB7XHJcbiAgICB0aGlzLnBsYXllckN1cnJlbnRUaW1lID0gc2Vla1RpbWU7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnNlZWsnLCB0aGlzICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGltZW5zaW9ucygpOiBEaW1lbnNpb25zIHtcclxuICAgIHJldHVybiBnZXRFbGVtZW50RGltZW5zaW9ucyggdGhpcy5fY29udGFpbmVyICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIG1lZGlhQ29tcG9uZW50OiBNZWRpYUNvbXBvbmVudCApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBlbGVtZW50SW52aXNpYmxlRGl2ID0gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogbWVkaWFDb21wb25lbnQuX2NvbnRhaW5lcixcclxuICAgICAgaWQ6IGBpbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uJHsgbWVkaWFDb21wb25lbnQuX2NvbnRhaW5lci5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IG1lZGlhQ29tcG9uZW50LmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogbWVkaWFDb21wb25lbnQuZGltZW5zaW9ucy5oZWlnaHQgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIGVsZW1lbnRJbnZpc2libGVEaXYuY2xhc3NMaXN0LmFkZCggJ21lZGlhLWNvbXBvbmVudC1kaXYtYmxvY2staW50ZXJhY3Rpb24nICk7XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnRJbnZpc2libGVEaXY7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0dXBJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLnpJbmRleCA9ICc5OTUnO1xyXG5cclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmNsaWNraW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmludGVyYWN0aW9uYmxvY2tlZCcsIHRoaXMsIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8vIGF3YWl0cyBtZWRpYSBsb2FkcyBmcm9tIHNvdXJjZSB0aGVuIGNyZWF0ZXMgdGhlIGNvbXBvbmVudFxyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgY3JlYXRlTWVkaWFDb21wb25lbnRPbkJvZHkoIG9wdGlvbnM6IENyZWF0ZU1lZGlhQ29tcG9uZW50T3B0aW9ucyApOiBQcm9taXNlPE1lZGlhQ29tcG9uZW50PiB7XHJcbiAgICBjb25zdCBtZWRpYVR5cGUgPSBnZXRNZWRpYVR5cGVCeVNvdXJjZSggb3B0aW9ucy5zcmMgKTtcclxuICAgIGNvbnN0IG1lZGlhRGVmYXVsdHMgPSBnZXRNZWRpYURlZmF1bHRzQnlNZWRpYVR5cGUoIG1lZGlhVHlwZSApO1xyXG5cclxuICAgIGNvbnN0IG1lZGlhQ29tcG9uZW50Q29udGFpbmVyID0gYXdhaXQgbmV3IE1lZGlhQ29tcG9uZW50RmFjdG9yeSggb3B0aW9ucy5zcmMsIG1lZGlhRGVmYXVsdHMgKS5idWlsZE9uQm9keSgpO1xyXG5cclxuICAgIHJldHVybiBuZXcgTWVkaWFDb21wb25lbnQoIHtcclxuICAgICAgc3JjOiBvcHRpb25zLnNyYyxcclxuICAgICAgY29udGFpbmVyOiBtZWRpYUNvbXBvbmVudENvbnRhaW5lcixcclxuICAgICAgbWVkaWFFbGVtZW50OiBtZWRpYUNvbXBvbmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCBtZWRpYVR5cGUgKSEsXHJcbiAgICAgIG1lZGlhRWxlbWVudElkOiBvcHRpb25zLm1lZGlhRWxlbWVudElkLFxyXG4gICAgICBibG9ja0ludGVyYWN0aW9uOiBvcHRpb25zLmJsb2NrSW50ZXJhY3Rpb25cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIC8vIGF3YWl0cyBtZWRpYSBsb2FkcyBmcm9tIHNvdXJjZSB0aGVuIGNyZWF0ZXMgdGhlIGNvbXBvbmVudFxyXG4gIHB1YmxpYyBzdGF0aWMgYXN5bmMgY3JlYXRlTWVkaWFDb21wb25lbnRCeVR5cGUoIG9wdGlvbnM6IENyZWF0ZU1lZGlhQ29tcG9uZW50T3B0aW9ucyApOiBQcm9taXNlPE1lZGlhQ29tcG9uZW50PiB7XHJcbiAgICBjb25zdCBtZWRpYVR5cGUgPSBnZXRNZWRpYVR5cGVCeVNvdXJjZSggb3B0aW9ucy5zcmMgKTtcclxuICAgIGNvbnN0IG1lZGlhRGVmYXVsdHMgPSBnZXRNZWRpYURlZmF1bHRzQnlNZWRpYVR5cGUoIG1lZGlhVHlwZSApO1xyXG5cclxuICAgIGlmICggb3B0aW9ucy5jb250YWluZXIgPT09IGRvY3VtZW50LmJvZHkgfHwgIW9wdGlvbnMuY29udGFpbmVyICkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVNZWRpYUNvbXBvbmVudE9uQm9keSggb3B0aW9ucyApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lZGlhQ29tcG9uZW50Q29udGFpbmVyID0gYXdhaXQgbmV3IE1lZGlhQ29tcG9uZW50RmFjdG9yeSggb3B0aW9ucy5zcmMsIG1lZGlhRGVmYXVsdHMgKS5idWlsZCggb3B0aW9ucy5jb250YWluZXIgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE1lZGlhQ29tcG9uZW50KCB7XHJcbiAgICAgIHNyYzogb3B0aW9ucy5zcmMsXHJcbiAgICAgIGNvbnRhaW5lcjogbWVkaWFDb21wb25lbnRDb250YWluZXIsXHJcbiAgICAgIG1lZGlhRWxlbWVudDogbWVkaWFDb21wb25lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggbWVkaWFUeXBlICkhLFxyXG4gICAgICBtZWRpYUVsZW1lbnRJZDogb3B0aW9ucy5tZWRpYUVsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvLyBhd2FpdHMgbWVkaWEgbG9hZHMgZnJvbSBzb3VyY2UgdGhlbiBjcmVhdGVzIHRoZSBjb21wb25lbnRcclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGNyZWF0ZU1lZGlhQ29tcG9uZW50KCBvcHRpb25zOiBDcmVhdGVNZWRpYUNvbXBvbmVudE9wdGlvbnMgKTogUHJvbWlzZTxNZWRpYUNvbXBvbmVudD4ge1xyXG4gICAgY29uc3QgbWVkaWFUeXBlID0gZ2V0TWVkaWFUeXBlQnlTb3VyY2UoIG9wdGlvbnMuc3JjICk7XHJcbiAgICBjb25zdCBtZWRpYURlZmF1bHRzID0gZ2V0TWVkaWFEZWZhdWx0c0J5TWVkaWFUeXBlKCBtZWRpYVR5cGUgKTtcclxuXHJcbiAgICBpZiAoICFtZWRpYURlZmF1bHRzIHx8ICFtZWRpYVR5cGUgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIG1lZGlhIHR5cGVcIiApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggb3B0aW9ucy5jb250YWluZXIgPT09IGRvY3VtZW50LmJvZHkgfHwgIW9wdGlvbnMuY29udGFpbmVyICkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVNZWRpYUNvbXBvbmVudE9uQm9keSggb3B0aW9ucyApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1lZGlhQ29tcG9uZW50Q29udGFpbmVyID0gYXdhaXQgbmV3IE1lZGlhQ29tcG9uZW50RmFjdG9yeSggb3B0aW9ucy5zcmMsIG1lZGlhRGVmYXVsdHMgKS5idWlsZCggb3B0aW9ucy5jb250YWluZXIgKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE1lZGlhQ29tcG9uZW50KCB7XHJcbiAgICAgIHNyYzogb3B0aW9ucy5zcmMsXHJcbiAgICAgIGNvbnRhaW5lcjogbWVkaWFDb21wb25lbnRDb250YWluZXIsXHJcbiAgICAgIG1lZGlhRWxlbWVudDogbWVkaWFDb21wb25lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggbWVkaWFUeXBlICkhLFxyXG4gICAgICBtZWRpYUVsZW1lbnRJZDogb3B0aW9ucy5tZWRpYUVsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgTWVkaWFQbGF5ZXJFbGVtZW50Q29uZmlnLCBjcmVhdGVNZWRpYVBsYXllciB9IGZyb20gJy4uL1Rvb2xzL01lZGlhVG9vbHMnO1xyXG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICcuL0NvbXBvbmVudENvbnRhaW5lcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVkaWFDb21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50Q29udGFpbmVyIHtcclxuICBjb25zdHJ1Y3Rvciggc3JjOiBzdHJpbmcsIHBsYXllckNvbmZpZzogTWVkaWFQbGF5ZXJFbGVtZW50Q29uZmlnICkge1xyXG4gICAgc3VwZXIoIFwiYXVkaW9Db21wb25lbnRcIiwgY3JlYXRlTWVkaWFQbGF5ZXIoIFtzcmNdLCBwbGF5ZXJDb25maWcgKSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGJ1aWxkU3ViQ29tcG9uZW50cyggcGFyZW50OiBIVE1MRWxlbWVudCApOiBQcm9taXNlPEhUTUxFbGVtZW50W10gfCB2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgcmVwbGFjZVBlcmNlbnRFbmNvZGluZyB9IGZyb20gJy4uLy4uL1Rvb2xzL1N0cmluZ1Rvb2xzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZVNvdW5kYm9hcmRJdGVtQ29udGFpbmVyKCBpdGVtSWQ6IHN0cmluZywgbWVkaWFOYW1lOiBzdHJpbmcgPSBcIlwiICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGlkPVwiJHsgaXRlbUlkIH1Tb3VuZFRhYmxlSXRlbVwiIGNsYXNzPVwic291bmQtdGFibGUtaXRlbS1jb250YWluZXJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInNvdW5kLXRhYmxlLW1lZGlhLW5hbWUtY29udGFpbmVyIHBvc2l0aW9uLWFic29sdXRlIGJvdHRvbS0xMDAgc3RhcnQtMCB0ZXh0LXRydW5jYXRlXCIgc3R5bGU9XCJtYXgtd2lkdGg6IDEwMCU7XCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3VuZC10YWJsZS1tZWRpYS1uYW1lIGZ3LWJvbGRlciB0ZXh0LWRhcmsgdGV4dC10cnVuY2F0ZVwiIHRpdGxlPVwiJHsgcmVwbGFjZVBlcmNlbnRFbmNvZGluZyggbWVkaWFOYW1lICkgfVwiPlxyXG4gICAgICAgICAgJHsgcmVwbGFjZVBlcmNlbnRFbmNvZGluZyggbWVkaWFOYW1lICkgfVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgYC50cmltKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZVNvdW5kYm9hcmRJbnB1dCggaXRlbUlkOiBzdHJpbmcsIGxhYmVsVGV4dDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nID0gXCJcIiwgcGxhY2Vob2xkZXI6IHN0cmluZyA9IFwiXCIgKSB7XHJcbiAgcmV0dXJuIGBcclxuICAgIDxkaXYgY2xhc3M9XCJzb3VuZC10YWJsZS1pbnB1dC1jb250YWluZXIgdGV4dC10cnVuY2F0ZSBwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtMCBzdGFydC0wIHctMTAwIGgtMTAwXCIgc3R5bGU9XCJ6LWluZGV4OiA5OTkgIWltcG9ydGFudDsgcG9pbnRlci1ldmVudHM6IG5vbmUgIWltcG9ydGFudDtcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZmxvYXRpbmcgcG9zaXRpb24tYWJzb2x1dGUgYm90dG9tLTAgc3RhcnQtMFwiIHN0eWxlPVwicG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcIj5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cIiR7IHZhbHVlIH1cIiBjbGFzcz1cImZvcm0tY29udHJvbCBzb3VuZC10YWJsZS1pbnB1dCB0ZXh0LXRydW5jYXRlXCIgaWQ9XCJ1cmxJbnB1dCR7IGl0ZW1JZCB9XCIgcGxhY2Vob2xkZXI9XCIkeyBwbGFjZWhvbGRlciB9XCI+XHJcbiAgICAgICAgPGxhYmVsIGZvcj1cInVybElucHV0JHsgaXRlbUlkIH1cIj4keyBsYWJlbFRleHQgfTwvbGFiZWw+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGRpdiBjbGFzcz1cInNvdW5kLXRhYmxlLXJlbW92ZS1pdGVtLWNvbnRhaW5lciBwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtMCBlbmQtMFwiIHN0eWxlPVwicG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcIj5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNvdW5kLXRhYmxlLXJlbW92ZS1pdGVtLWJ1dHRvbiBidG4tY2xvc2UgYmFkZ2Ugcm91bmRlZC0wIGJnLWRhbmdlciBvcGFjaXR5LTEwMCBwLTNcIj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59XHJcbiIsImltcG9ydCB7IE9iamVjdEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi9FeHRyYXMvT2JqZWN0RXZlbnRMaXN0ZW5lcic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgcGxheSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgcGF1c2UoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zO1xyXG4gIHRvZ2dsZSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgc2Vlayggc2Vla1RpbWU6IG51bWJlciwgcmVsb2FkQnVmZmVyPzogYm9vbGVhbiApOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgbXV0ZSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgdW5tdXRlKCk6IElNZWRpYVBsYXllckZ1bmN0aW9ucztcclxuICBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zO1xyXG4gIHBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zO1xyXG4gIGRlc3Ryb3koKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1lZGlhUGxheWVyIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgcHVibGljIGFic3RyYWN0IGlkOiBzdHJpbmc7XHJcbiAgcHVibGljIGFic3RyYWN0IG5hbWU6IHN0cmluZztcclxuICBwdWJsaWMgYWJzdHJhY3QgaXNQbGF5aW5nOiBib29sZWFuO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBzdGFydHNBdDogbnVtYmVyO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBjdXJyZW50VGltZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBhYnN0cmFjdCBwbGF5ZXJDdXJyZW50VGltZTogbnVtYmVyO1xyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgcGxheWVyRHVyYXRpb246IG51bWJlcjtcclxuXHJcbiAgcHVibGljIGFic3RyYWN0IGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBhYnN0cmFjdCBwbGF5KCk6IElNZWRpYVBsYXllckZ1bmN0aW9ucztcclxuICBhYnN0cmFjdCBwYXVzZSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgYWJzdHJhY3QgdG9nZ2xlKCk6IElNZWRpYVBsYXllckZ1bmN0aW9ucztcclxuICBhYnN0cmFjdCBzZWVrKCBzZWVrVGltZTogbnVtYmVyLCByZWxvYWRCdWZmZXI/OiBib29sZWFuICk6IElNZWRpYVBsYXllckZ1bmN0aW9ucztcclxuICBhYnN0cmFjdCBtdXRlKCk6IElNZWRpYVBsYXllckZ1bmN0aW9ucztcclxuICBhYnN0cmFjdCB1bm11dGUoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zO1xyXG4gIGFic3RyYWN0IHBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgYWJzdHJhY3QgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnM7XHJcbiAgYWJzdHJhY3QgZGVzdHJveSgpOiB2b2lkO1xyXG59XHJcbiIsIlxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQoIGlmcmFtZUlkOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gYFxyXG4gIDxkaXYgaWQ9XCIkeyBpZnJhbWVJZCB9XCI+XHJcbiAgPC9kaXY+XHJcbiAgYC50cmltKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZVlvdXR1YmVJZnJhbWVUYWJsZUl0ZW0oIGlmcmFtZUlkOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gYFxyXG4gIDxkaXYgaWQ9XCIkeyBpZnJhbWVJZCB9SWZyYW1lVGFibGVJdGVtXCIgY2xhc3M9XCJ5dC1pZnJhbWUtdGFibGUtaXRlbS1jb250YWluZXJcIj5cclxuICA8L2Rpdj5cclxuICBgLnRyaW0oKTtcclxufSIsImltcG9ydCB7IGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50LCBkZWxheSwgZXh0cmFjdFlvdVR1YmVJZCwgZ2V0RWxlbWVudERpbWVuc2lvbnMsIGhhbmRsZVByb21pc2UsIGlzVmFsaWRZb3VUdWJlVXJsLCBpc1ZhbGlkWW91dHViZVVybE9ySWQsIHBvbGxGb3JWYXJpYWJsZSwgcG9sbEZvclZhcmlhYmxlQXN5bmMsIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50LCB3YWl0VW50aWxFbGVtZW50RXhpc3RzIH0gZnJvbSAnLi4vLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBEcmFnZ2FibGVFbGVtZW50IH0gZnJvbSAnLi4vLi4vRXh0cmFzL0RyYWdnYWJsZUVsZW1lbnQnO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zLCBjbGFtcCB9IGZyb20gJy4uLy4uL1Rvb2xzL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IH0gZnJvbSAnLi9UZW1wbGF0ZXNZb3V0dWJlSWZyYW1lJztcclxuaW1wb3J0IHsgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IH0gZnJvbSAnLi9UeXBlcyc7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWVTd2l0Y2hlciB9IGZyb20gJy4vWW91dHViZUlmcmFtZVN3aXRjaGVyJztcclxuaW1wb3J0IHsgWW91dHViZUlmcmFtZVN5bmMgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWVTeW5jJztcclxuaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuaW1wb3J0IHsgSU1lZGlhUGxheWVyRnVuY3Rpb25zLCBNZWRpYVBsYXllciB9IGZyb20gJy4uL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIFlvdXR1YmVJZnJhbWVPcHRpb25zID0ge1xyXG4gIGlmcmFtZUlkOiBzdHJpbmc7XHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIGRpbWVuc2lvbnM/OiBEaW1lbnNpb25zO1xyXG4gIHBhcmVudEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcclxuICBjbGFzc0xpc3Q/OiBzdHJpbmdbXTtcclxuICBzdGFydE11dGVkPzogYm9vbGVhbjtcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICByZXBsYXlPbkVuZD86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBZb3V0dWJlSWZyYW1lQ2hhbmdlVmlkZW9PcHRpb25zID0ge1xyXG4gIGlmcmFtZUlkOiBzdHJpbmc7XHJcbiAgdmlkZW9JZDogc3RyaW5nO1xyXG4gIHN0YXJ0c0F0PzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRHJhZ2dhYmxlWW91dHViZUlmcmFtZSggeyBpZnJhbWVJZCwgdmlkZW9JZCwgc3RhcnRzQXQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCA9IFtdIH06IFlvdXR1YmVJZnJhbWVPcHRpb25zICkge1xyXG4gIGNvbnN0IGlmcmFtZUNvbnRyb2xsZXJSZXN1bHQgPSBuZXcgWW91dHViZUlmcmFtZSggeyBzdGFydHNBdCwgaWZyYW1lSWQsIHZpZGVvSWQsIHBhcmVudEVsZW1lbnQsIGNsYXNzTGlzdCB9ICk7XHJcblxyXG4gIGNvbnN0IGRyYWdnYWJsZVJlc3VsdCA9IG5ldyBEcmFnZ2FibGVFbGVtZW50KCB7XHJcbiAgICBlbGVtZW50OiBwYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksXHJcbiAgICBhbGxvd0RyYWdnaW5nQnlJbm5lckNvbnRlbnQ6IHRydWUsXHJcbiAgICBvbkRyb3A6ICgpID0+IHtcclxuXHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaWZyYW1lQ29udHJvbGxlcjogaWZyYW1lQ29udHJvbGxlclJlc3VsdCxcclxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlUmVzdWx0XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlSWZyYW1lIGV4dGVuZHMgTWVkaWFQbGF5ZXIge1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHk6IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeVtdID0gW107XHJcblxyXG4gIHByb3RlY3RlZCBzdGF0aWMgX2RpY3RZb3V0dWJlSWZyYW1lQnlJZDogTWFwPHN0cmluZywgWW91dHViZUlmcmFtZT4gPSBuZXcgTWFwKCk7XHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfYXJyWW91dHViZUlmcmFtZUlkUmVhZHk6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHB1YmxpYyBwbGF5ZXI6IGFueSB8IG51bGw7XHJcbiAgcHJvdGVjdGVkIF9pc1BsYXllclJlYWR5OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyBpZDogc3RyaW5nO1xyXG4gIHByaXZhdGUgX3ZpZGVvSWQ6IHN0cmluZztcclxuICBwdWJsaWMgdmlkZW9OYW1lOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgdmlkZW9UaHVtYjogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIGNoYW5uZWxVUkw6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyBjaGFubmVsTmFtZTogc3RyaW5nID0gJyc7XHJcblxyXG4gIHByb3RlY3RlZCBfaWZyYW1lRWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgLy8gQSBkaXYgd2hpY2ggaXMgY3JlYXRlZCBhZnRlciBpZnJhbWUgcmVuZGVyIGFuZCBob2xkcyBpZnJhbWUgZWxlbWVudFxyXG4gIHByb3RlY3RlZCBfaWZyYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgLy8gVGhlIGVsZW1lbnQgdGhhdCBob2xkcyB7IF9pZnJhbWVDb250YWluZXIgfVxyXG4gIHByb3RlY3RlZCBfaWZyYW1lUGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByb3RlY3RlZCBfaXNQbGF5aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25zO1xyXG5cclxuICAvLy8gQ2FuIGJlIHVzZWQgdG8gZHJhZywgaXMgYW4gaW52aXNpYmxlIGRpdiBwbGFjZWQgYXQgdGhlIHRvcCBvZiB0aGUgY29udGFpbmVyXHJcbiAgcHJvdGVjdGVkIHRvcERpdj86IEhUTUxFbGVtZW50O1xyXG5cclxuICBwcml2YXRlIF9zdGFydHNBdDogbnVtYmVyO1xyXG5cclxuICBwcm90ZWN0ZWQgX2Jsb2NrSW50ZXJhY3Rpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcm90ZWN0ZWQgX2RpdkJsb2NrSW50ZXJhY3Rpb246IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHByb3RlY3RlZCBfc3RhcnRNdXRlZDogYm9vbGVhbjtcclxuICBwdWJsaWMgX3BsYXlpbmdPYnNlcnZlckludGVydmFsOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcm90ZWN0ZWQgX2V2ZW50TGlzdGVuZXI6IE9iamVjdEV2ZW50TGlzdGVuZXIgPSBuZXcgT2JqZWN0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIHByaXZhdGUgY2FjaGVkVmlkZW9JbmZvOiB7XHJcbiAgICB0aXRsZT86IHN0cmluZztcclxuICAgIGF1dGhvcl9uYW1lPzogc3RyaW5nO1xyXG4gICAgdGh1bWJuYWlsX3VybD86IHN0cmluZztcclxuICAgIGF1dGhvcl91cmw/OiBzdHJpbmc7XHJcbiAgfSA9IHt9O1xyXG5cclxuICBjb25zdHJ1Y3Rvciggb3B0aW9uczogWW91dHViZUlmcmFtZU9wdGlvbnMgKSB7XHJcbiAgICBpZiAoIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5oYXMoIG9wdGlvbnMuaWZyYW1lSWQgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgaWZyYW1lIHRoZXJlJ3MgYWxyZWFkeSBhbiBpZnJhbWUgd2l0aCB0aGlzIGlkLlwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmlkID0gb3B0aW9ucy5pZnJhbWVJZDtcclxuICAgIHRoaXMuX3N0YXJ0c0F0ID0gb3B0aW9ucy5zdGFydHNBdCA/PyAwO1xyXG4gICAgdGhpcy5fdmlkZW9JZCA9IG9wdGlvbnMudmlkZW9JZDtcclxuXHJcbiAgICB0aGlzLl9zdGFydE11dGVkID0gb3B0aW9ucy5zdGFydE11dGVkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA9IG9wdGlvbnMuYmxvY2tJbnRlcmFjdGlvbiA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIgPSBZb3V0dWJlSWZyYW1lLmdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7XHJcbiAgICAgIGlmcmFtZUlkOiBvcHRpb25zLmlmcmFtZUlkLFxyXG4gICAgICBjbGFzc0xpc3Q6IG9wdGlvbnMuY2xhc3NMaXN0XHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudCA9IFlvdXR1YmVJZnJhbWUuc2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBvcHRpb25zLnBhcmVudEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSxcclxuICAgICAgaWZyYW1lQ29udGFpbmVyOiB0aGlzLl9pZnJhbWVDb250YWluZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICB0aGlzLl9kaW1lbnNpb25zID0gb3B0aW9ucy5kaW1lbnNpb25zID8/IGdldEVsZW1lbnREaW1lbnNpb25zKCB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50ICk7XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLnNldCggb3B0aW9ucy5pZnJhbWVJZCwgdGhpcyApO1xyXG5cclxuICAgIHRoaXMuc2V0VmlkZW9JbmZvKCkudGhlbiggKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBuYW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlkZW9OYW1lO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjb250YWluZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWZyYW1lQ29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2aWRlb0lkKCkge1xyXG4gICAgcmV0dXJuIGV4dHJhY3RZb3VUdWJlSWQoIHRoaXMuX3ZpZGVvSWQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5wbGF5ZXIuZGVzdHJveSgpO1xyXG4gICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZGVsZXRlKCB0aGlzLmlkICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIHNldFZpZGVvSW5mbygpIHtcclxuICAgIHRoaXMuY2FjaGVkVmlkZW9JbmZvID0gYXdhaXQgdGhpcy5nZXRWaWRlb0luZm8oKSA/PyB7fTtcclxuICAgIHRoaXMudmlkZW9OYW1lID0gdGhpcy5jYWNoZWRWaWRlb0luZm8udGl0bGUgPyB0aGlzLmNhY2hlZFZpZGVvSW5mby50aXRsZSBhcyBzdHJpbmcgOiAnJztcclxuICAgIHRoaXMuY2hhbm5lbE5hbWUgPSB0aGlzLmNhY2hlZFZpZGVvSW5mby5hdXRob3JfbmFtZSA/IHRoaXMuY2FjaGVkVmlkZW9JbmZvLmF1dGhvcl9uYW1lIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgdGhpcy52aWRlb1RodW1iID0gdGhpcy5jYWNoZWRWaWRlb0luZm8udGh1bWJuYWlsX3VybCA/IHRoaXMuY2FjaGVkVmlkZW9JbmZvLnRodW1ibmFpbF91cmwgYXMgc3RyaW5nIDogJyc7XHJcbiAgICB0aGlzLmNoYW5uZWxVUkwgPSB0aGlzLmNhY2hlZFZpZGVvSW5mby5hdXRob3JfdXJsID8gdGhpcy5jYWNoZWRWaWRlb0luZm8uYXV0aG9yX3VybCBhcyBzdHJpbmcgOiAnJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjaGFuZ2VWaWRlbyggb3B0aW9uczogWW91dHViZUlmcmFtZUNoYW5nZVZpZGVvT3B0aW9ucyApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICggIWlzVmFsaWRZb3V0dWJlVXJsT3JJZCggb3B0aW9ucy52aWRlb0lkICkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB3aGlsZSAoICF0aGlzLnBsYXllciB8fCAhdGhpcy5wbGF5ZXIubG9hZFZpZGVvQnlJZCApIHtcclxuICAgICAgYXdhaXQgZGVsYXkoIDEwMCApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucHJlcGFyZU9wdGlvbnMoIG9wdGlvbnMgKTtcclxuICAgIGF3YWl0IHRoaXMubG9hZFZpZGVvKCk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCB0aGlzLnN0YXJ0c0F0LCB0cnVlICk7XHJcbiAgICBpZiAoIHRoaXMuaXNQbGF5aW5nICkge1xyXG4gICAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZXBhcmVPcHRpb25zKCBvcHRpb25zOiBZb3V0dWJlSWZyYW1lQ2hhbmdlVmlkZW9PcHRpb25zICkge1xyXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWZyYW1lSWQ7XHJcbiAgICB0aGlzLl92aWRlb0lkID0gb3B0aW9ucy52aWRlb0lkO1xyXG4gICAgdGhpcy5zdGFydHNBdCA9IG9wdGlvbnMuc3RhcnRzQXQgPz8gdGhpcy5zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgbG9hZFZpZGVvKCkge1xyXG4gICAgdGhpcy5faXNQbGF5ZXJSZWFkeSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQoIHtcclxuICAgICAgJ3ZpZGVvSWQnOiB0aGlzLnZpZGVvSWQsXHJcbiAgICAgICdzdGFydFNlY29uZHMnOiB0aGlzLnN0YXJ0c0F0LFxyXG4gICAgICAnc3VnZ2VzdGVkUXVhbGl0eSc6ICdoaWdocmVzJ1xyXG4gICAgfSApO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuc2V0VmlkZW9JbmZvKCk7XHJcbiAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGxvYWRWaWRlb0luZm8oKSB7XHJcbiAgICBhd2FpdCB0aGlzLnNldFZpZGVvSW5mbygpO1xyXG4gICAgdGhpcy5zZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuICAgIHJldHVybiB0aGlzLmNhY2hlZFZpZGVvSW5mbztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBnZXRWaWRlb0luZm8oKTogUHJvbWlzZTxvYmplY3QgfCBudWxsPiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVByb21pc2U8UmVzcG9uc2U+KCBmZXRjaCggYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL29lbWJlZD91cmw9JHsgdGhpcy52aWRlb1VSTCB9JmZvcm1hdD1qc29uYCApICk7XHJcblxyXG4gICAgaWYgKCByZXNwb25zZS5lcnJvciApIHtcclxuICAgICAgY29uc29sZS5lcnJvciggcmVzcG9uc2UuZXJyb3IgKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmRhdGEoKS5qc29uKCkgYXMgb2JqZWN0O1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIG9uUGxheWVyUmVhZHkoIGV2ZW50OiBhbnkgKSB7XHJcbiAgICBpZiAoIHRoaXMuX3N0YXJ0TXV0ZWQgKSB7XHJcbiAgICAgIHRoaXMucGxheWVyLm11dGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5wdXNoKCB0aGlzLmlkICk7XHJcbiAgICB0aGlzLl9pZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRoaXMuaWQgKSE7XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuc2V0UGxheWJhY2tRdWFsaXR5KCAnaGlnaHJlcycgKTtcclxuICAgIHRoaXMucGxheWVyLnNlZWtUbyggdGhpcy5fc3RhcnRzQXQgPz8gMCwgdHJ1ZSApO1xyXG4gICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5ZXJSZWFkeSA9IHRydWU7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25pZnJhbWVyZWFkeScsIHRoaXMgKTtcclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBvblBsYXllclN0YXRlQ2hhbmdlKCBldmVudDogYW55ICkge1xyXG4gICAgaWYgKCBldmVudC5kYXRhID09PSBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlLlBsYXllclN0YXRlLlBMQVlJTkcgKSB7XHJcbiAgICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XHJcbiAgICAgIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsID0gc2V0SW50ZXJ2YWwoICgpID0+IHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheWluZycsIHRoaXMsIHRoaXMuaXNQbGF5aW5nICksIDEwMCApO1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcbiAgICB9IGVsc2UgaWYgKCB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCApIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgKTtcclxuICAgICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcbiAgICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAncGxheWVyc3RhdGVjaGFuZ2UnLCB0aGlzLCB0aGlzLmlzUGxheWluZyApO1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5ZXJzdGF0ZWNoYW5nZScsIHRoaXMsIHRoaXMuaXNQbGF5aW5nICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmcoKSB7XHJcbiAgICBpZiAoIHRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNldENsYXNzZXNJZnJhbWVQYXVzZWQoKSB7XHJcbiAgICBpZiAoIHRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuXHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG4gIH1cclxuXHJcblxyXG4gIHByb3RlY3RlZCBvbkV2ZXJ5WW91dHViZUlmcmFtZVJlYWR5KCkge1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25ldmVyeXlvdXR1YmVpZnJhbWVyZWFkeScgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGl2QmxvY2tJbnRlcmFjdGlvbigpOiBIVE1MRWxlbWVudCB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZpZGVvVVJMKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9JHsgdGhpcy52aWRlb0lkIH1gO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwYXJlbnRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9pZnJhbWVQYXJlbnRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpZnJhbWVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGlmICggIXRoaXMuX2lmcmFtZUVsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJZnJhbWUgd2FzIGNhbGxlZCBidXQgaXQncyBub3QgcmVhZHkuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5faWZyYW1lRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaXNQbGF5ZXJSZWFkeSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BsYXllclJlYWR5O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkdXJhdGlvbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCkgLSB0aGlzLl9zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyRHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBjdXJyZW50VGltZSggdDogbnVtYmVyICkge1xyXG4gICAgY29uc3QgdGltZUNvbnNpZGVyaW5nU3RhcnQgPSBjbGFtcCggdCArIHRoaXMuc3RhcnRzQXQsIHRoaXMuc3RhcnRzQXQsIHRoaXMucGxheWVyRHVyYXRpb24gKTtcclxuICAgIHRoaXMuc2VlayggdGltZUNvbnNpZGVyaW5nU3RhcnQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllckN1cnJlbnRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllclByb2dyZXNzUGVyY2VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyQ3VycmVudFRpbWUgLyB0aGlzLnBsYXllckR1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdGFydE11dGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0TXV0ZWQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWluZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BsYXlpbmc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpbWVuc2lvbnMoKTogRGltZW5zaW9ucyB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGltZW5zaW9ucztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhcnRzQXQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBjbGFtcCggdGhpcy5fc3RhcnRzQXQsIDAsIHRoaXMuX3N0YXJ0c0F0ICk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc3RhcnRzQXQoIHZhbDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBjbGFtcCggdmFsLCAwLCB2YWwgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGUoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zIHtcclxuICAgIGlmICggdGhpcy5pc1BsYXlpbmcgKSB7XHJcbiAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBsYXkoKSB7XHJcbiAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheScsIHRoaXMgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB0aGlzLnBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICB0aGlzLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGF1c2UnLCB0aGlzICk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2Vlayggc2Vla1RpbWU6IG51bWJlciwgcmVsb2FkQnVmZmVyOiBib29sZWFuID0gZmFsc2UsIGNvbnNpZGVyU3RhcnRzQXQ6IGJvb2xlYW4gPSBmYWxzZSApIHtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uc2VlaycsIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIsIGNvbnNpZGVyU3RhcnRzQXQsIHRoaXMgKTtcclxuXHJcbiAgICBzZWVrVGltZSArPSBjb25zaWRlclN0YXJ0c0F0ID8gdGhpcy5fc3RhcnRzQXQgOiAwO1xyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCBzZWVrVGltZSwgcmVsb2FkQnVmZmVyICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIubXV0ZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5tdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIudW5tdXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCkge1xyXG4gICAgY29uc3QgYXJyRXZlcnlJZnJhbWVJZCA9IFsuLi5Zb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQua2V5cygpXTtcclxuICAgIGNvbnN0IGhhc0lmcmFtZU5vdFJlYWR5WWV0ID0gYXJyRXZlcnlJZnJhbWVJZC5zb21lKCByID0+ICF0aGlzLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5pbmNsdWRlcyggciApICk7XHJcblxyXG4gICAgaWYgKCAhaGFzSWZyYW1lTm90UmVhZHlZZXQgKSB7XHJcbiAgICAgIHRoaXMuYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkuZm9yRWFjaCggbyA9PiBvLnNldHVwKCBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQgKSApO1xyXG5cclxuICAgICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmZvckVhY2goICggdmFsLCBrZXkgKSA9PiB7XHJcbiAgICAgICAgdmFsLm9uRXZlcnlZb3V0dWJlSWZyYW1lUmVhZHkoKTtcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7IGlmcmFtZUlkLCBjbGFzc0xpc3QgfTogeyBpZnJhbWVJZDogc3RyaW5nOyBjbGFzc0xpc3Q/OiBzdHJpbmdbXTsgfSApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWlmcmFtZS1jb250YWluZXInICk7XHJcbiAgICBpZiAoIGNsYXNzTGlzdCApIHtcclxuICAgICAgY29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoIC4uLmNsYXNzTGlzdCApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5lckRpdi5pZCA9IGBjb250YWluZXJZb3V0dWJlSWZyYW1lJHsgaWZyYW1lSWQgfWA7XHJcbiAgICBjb250YWluZXJEaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKCAnYWZ0ZXJiZWdpbicsIHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50KCBpZnJhbWVJZCApICk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyRGl2O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUoIHsgcGFyZW50RWxlbWVudCwgaWZyYW1lQ29udGFpbmVyIH06IHsgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7IGlmcmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IH0gKSB7XHJcbiAgICBjb25zdCBpZnJhbWVQYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5O1xyXG4gICAgaWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtaWZyYW1lLXBhcmVudCcgKTtcclxuICAgIGlmcmFtZVBhcmVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYWZ0ZXJiZWdpbicsIGlmcmFtZUNvbnRhaW5lciApO1xyXG4gICAgcmV0dXJuIGlmcmFtZVBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvLyBTZXRzIGRpdiB0byBibG9jayBpbnRlcmFjdGlvbiwgdG9wIGRpdiwgY29udGFpbmVyIGFuZCBhbnkgb3RoZXIgZWxlbWVudCB0aGF0IGlzIG5vdCB0aGUgbWFpbiBpZnJhbWVcclxuICBwcml2YXRlIHNldEV4dGVybmFsSFRNTEVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5jcmVhdGVJbnZpc2libGVEaXZUb3AoKTtcclxuICAgIHRoaXMuY3JlYXRlSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpO1xyXG5cclxuICAgIHRoaXMuc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpIHtcclxuICAgIHRoaXMuc2V0SWZyYW1lQ29udGFpbmVyQXR0cmlidXRlcygpO1xyXG4gICAgdGhpcy5zZXRUb3BEaXZBdHRyaWJ1dGVzKCk7XHJcbiAgICB0aGlzLnNldERpdkJsb2NrSW50ZXJhY3Rpb25BdHRyaWJ1dGVzKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUludmlzaWJsZURpdlRvcCgpIHtcclxuICAgIHRoaXMudG9wRGl2ID0gWW91dHViZUlmcmFtZS5nZXRJbnZpc2libGVUb3BEaXYoIHRoaXMgKTtcclxuICAgIHRoaXMudG9wRGl2LnN0eWxlLnpJbmRleCA9ICc5OTAnO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCkge1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiA9IFlvdXR1YmVJZnJhbWUuZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggdGhpcyApO1xyXG5cclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuZGlzcGxheSA9IHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPyAnYmxvY2snIDogJ25vbmUnO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS56SW5kZXggPSAnOTk1JztcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICggZXZ0ICkgPT4ge1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmNsaWNraW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmludGVyYWN0aW9uYmxvY2tlZCcsIHRoaXMsIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0RGl2QmxvY2tJbnRlcmFjdGlvbkF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLmRpdkJsb2NrSW50ZXJhY3Rpb24gKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5kaXZCbG9ja0ludGVyYWN0aW9uLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldElmcmFtZUNvbnRhaW5lckF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLl9pZnJhbWVDb250YWluZXIgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5faWZyYW1lQ29udGFpbmVyLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFRvcERpdkF0dHJpYnV0ZXMoKSB7XHJcbiAgICBpZiAoICF0aGlzLnRvcERpdiApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLnRvcERpdiwgdGhpcy5fdmlkZW9JbmZvQXR0cmlidXRlTGlzdCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBibG9ja0ludGVyYWN0aW9uKCB2YWw6IGJvb2xlYW4gKSB7XHJcbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gdmFsO1xyXG5cclxuICAgIGlmICggdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApIHtcclxuICAgICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaW5pdFBsYXllcigpIHtcclxuICAgIHRoaXMucGxheWVyID0gbmV3IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyKCB0aGlzLmlkLCB7XHJcbiAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9JZCxcclxuICAgICAgd2lkdGg6IHRoaXMuZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0LFxyXG4gICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgJ3JlbCc6IDAsICAgICAgICAgICAgLy8gRGVzYXRpdmEgdsOtZGVvcyByZWxhY2lvbmFkb3NcclxuICAgICAgICAnaXZfbG9hZF9wb2xpY3knOiAzLCAvLyBEZXNhdGl2YSBzdWdlc3TDtWVzIGRlIHbDrWRlb3MgZHVyYW50ZSBhIHBhdXNhXHJcbiAgICAgICAgJ3Nob3dpbmZvJzogMCwgICAgICAgLy8gUmVtb3ZlIGluZm9ybWHDp8O1ZXMgZG8gdsOtZGVvICh0w610dWxvLCBldGMuKVxyXG4gICAgICAgICdjb250cm9scyc6IDAsICAgICAgIC8vIFJlbW92ZSBvcyBjb250cm9sZXMgZG8gcGxheWVyXHJcbiAgICAgICAgJ2F1dG9wbGF5JzogMCAgICAgICAgLy8gRGVzYXRpdmEgYSByZXByb2R1w6fDo28gYXV0b23DoXRpY2FcclxuICAgICAgfSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgJ29uUmVhZHknOiB0aGlzLm9uUGxheWVyUmVhZHkuYmluZCggdGhpcyApLFxyXG4gICAgICAgICdvblN0YXRlQ2hhbmdlJzogdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlLmJpbmQoIHRoaXMgKVxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc3RhdGljIF95b3V0dWJlQVBJUmVmZXJlbmNlOiBhbnk7XHJcblxyXG4gIHByaXZhdGUgZ2V0IF92aWRlb0luZm9BdHRyaWJ1dGVMaXN0KCk6IFtzdHJpbmcsIHN0cmluZ11bXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBbJ3l0LWlmcmFtZS1pZCcsIHRoaXMuaWRdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby1uYW1lJywgdGhpcy52aWRlb05hbWVdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby1jaGFubmVsLW5hbWUnLCB0aGlzLmNoYW5uZWxOYW1lXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tdGh1bWItdXJsJywgdGhpcy52aWRlb1RodW1iXSxcclxuICAgICAgWyd5dC1pZnJhbWUtdmlkZW8tY2hhbm5lbC11cmwnLCB0aGlzLmNoYW5uZWxVUkxdXHJcbiAgICBdXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgYnVpbGRTaW5nbGVJZnJhbWUoIHlvdXR1YmVJZnJhbWU6IFlvdXR1YmVJZnJhbWUgKSB7XHJcbiAgICBpZiAoIHlvdXR1YmVJZnJhbWUuX2lzUGxheWVyUmVhZHkgKSB7XHJcbiAgICAgIHJldHVybiB5b3V0dWJlSWZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAneXRJZnJhbWVBUElTY3JpcHRUYWcnICkgKSB7XHJcbiAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnc2NyaXB0JyApO1xyXG4gICAgICB0YWcuaWQgPSAneXRJZnJhbWVBUElTY3JpcHRUYWcnO1xyXG5cclxuICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gICAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ3NjcmlwdCcgKVswXTtcclxuICAgICAgaWYgKCBmaXJzdFNjcmlwdFRhZyAmJiBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlICkge1xyXG4gICAgICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0YWcsIGZpcnN0U2NyaXB0VGFnICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCAnI3l0SWZyYW1lQVBJU2NyaXB0VGFnJyApO1xyXG5cclxuICAgIGF3YWl0IHBvbGxGb3JWYXJpYWJsZUFzeW5jPGFueT4oICdZVCcsXHJcbiAgICAgICggdmFsdWU6IGFueSApID0+IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlLlBsYXllciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZVxyXG4gICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuUGxheWVyXHJcbiAgICAgICAgICAmJiB2YWx1ZS5sb2FkZWQ7XHJcbiAgICAgIH0sXHJcbiAgICAgICggdmFsdWUgKSA9PiB7XHJcbiAgICAgICAgWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZSA9IHZhbHVlO1xyXG4gICAgICAgIHlvdXR1YmVJZnJhbWUuYnVpbGQoKTtcclxuICAgICAgfSApO1xyXG5cclxuICAgIGF3YWl0IHlvdXR1YmVJZnJhbWUubG9hZFZpZGVvSW5mbygpO1xyXG4gICAgcmV0dXJuIHlvdXR1YmVJZnJhbWU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYnVpbGRJZnJhbWVzKCkge1xyXG4gICAgaWYgKCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICd5dElmcmFtZUFQSVNjcmlwdFRhZycgKSApIHtcclxuICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XHJcbiAgICAgIHRhZy5pZCA9ICd5dElmcmFtZUFQSVNjcmlwdFRhZyc7XHJcblxyXG4gICAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XHJcbiAgICAgIHZhciBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAnc2NyaXB0JyApWzBdO1xyXG4gICAgICBpZiAoIGZpcnN0U2NyaXB0VGFnICYmIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgICAgZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIHRhZywgZmlyc3RTY3JpcHRUYWcgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoICcjeXRJZnJhbWVBUElTY3JpcHRUYWcnICkudGhlbiggKCkgPT4ge1xyXG4gICAgICBwb2xsRm9yVmFyaWFibGU8YW55PiggJ1lUJyxcclxuICAgICAgICAoIHZhbHVlOiBhbnkgKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlLlBsYXllciA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAmJiB2YWx1ZS5QbGF5ZXIucHJvdG90eXBlXHJcbiAgICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGUuY29uc3RydWN0b3IgPT09IHZhbHVlLlBsYXllclxyXG4gICAgICAgICAgICAmJiB2YWx1ZS5sb2FkZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAoIHZhbHVlICkgPT4ge1xyXG4gICAgICAgICAgWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZSA9IHZhbHVlO1xyXG4gICAgICAgICAgWW91dHViZUlmcmFtZS5zZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMoKTtcclxuICAgICAgICB9ICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYnVpbGQoKSB7XHJcbiAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzKCk7XHJcbiAgICB0aGlzLmluaXRQbGF5ZXIoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZm9yRWFjaCggKCB2YWwsIGtleSApID0+IHtcclxuICAgICAgaWYgKCAhdmFsLmlzUGxheWVyUmVhZHkgKSB7XHJcbiAgICAgICAgdmFsLmJ1aWxkKCk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRJbnZpc2libGVUb3BEaXYoIHl0SWZyYW1lOiBZb3V0dWJlSWZyYW1lICk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggeXRJZnJhbWUuaWQgKSEucGFyZW50RWxlbWVudCEsXHJcbiAgICAgIGlkOiBgaW52aXNpYmxlVG9wRGl2SG9sZFRvRHJhZyR7IHl0SWZyYW1lLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogeXRJZnJhbWUuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiB5dElmcmFtZS5kaW1lbnNpb25zLmhlaWdodCAqIDAuMiB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc3RhdGljIGdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIHl0SWZyYW1lOiBZb3V0dWJlSWZyYW1lICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGVsZW1lbnRJbnZpc2libGVEaXYgPSBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggeXRJZnJhbWUuaWQgKSEucGFyZW50RWxlbWVudCEsXHJcbiAgICAgIGlkOiBgaW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiR7IHl0SWZyYW1lLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogeXRJZnJhbWUuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiB5dElmcmFtZS5kaW1lbnNpb25zLmhlaWdodCB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgZWxlbWVudEludmlzaWJsZURpdi5jbGFzc0xpc3QuYWRkKCAneXQtZGl2LWJsb2NrLWludGVyYWN0aW9uJyApO1xyXG5cclxuICAgIHJldHVybiBlbGVtZW50SW52aXNpYmxlRGl2O1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IFlvdXR1YmVJZnJhbWVTd2l0Y2hlciwgWW91dHViZUlmcmFtZVN5bmMgfTsiLCJcclxuaW50ZXJmYWNlIFN0cmluZyB7XHJcbiAgdHJ1bmNhdGUoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyApOiBzdHJpbmc7XHJcbiAgcmVtb3ZlQWNjZW50cygpOiBzdHJpbmc7XHJcbiAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCk6IHN0cmluZztcclxuICB6ZXJvQmVmb3JlKCk6IHN0cmluZztcclxuICBpc051bGxPckVtcHR5KCk6IGJvb2xlYW47XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcclxuICByZXR1cm4gdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICYmICF0aGlzICYmIHRoaXMgIT09ICcnO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uICggbWF4OiBudW1iZXIsIGRlY29yYXRvcjogc3RyaW5nID0gJy4uLicgKTogc3RyaW5nIHtcclxuICByZXR1cm4gKCB0aGlzLmxlbmd0aCA+IG1heCA/IHRoaXMuc3Vic3RyaW5nKCAwLCBtYXggKSArIGRlY29yYXRvciA6IHRoaXMgKS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVBY2NlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggJ05GRCcgKS5yZXBsYWNlKCAvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIiApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gIGlmICggdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuemVyb0JlZm9yZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5wYWRTdGFydCggMiwgJzAnICk7XHJcbn0iLCJleHBvcnQgdHlwZSBFdmVudExpc3RlbmVyID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZXZlbnQ6IEZ1bmN0aW9uO1xyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBPYmplY3RFdmVudExpc3RlbmVyIHtcclxuICBwdWJsaWMgZXZlbnRzQnlOYW1lOiBNYXA8c3RyaW5nLCBFdmVudExpc3RlbmVyW10+ID0gbmV3IE1hcCgpO1xyXG5cclxuICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciggZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50OiBGdW5jdGlvbiApOiBzdHJpbmcge1xyXG4gICAgY29uc3QgbmV3RXZlbnQ6IEV2ZW50TGlzdGVuZXIgPSB7XHJcbiAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICBldmVudDogZXZlbnQsXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICggIXRoaXMuZXZlbnRzQnlOYW1lLmhhcyggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSApIHtcclxuICAgICAgdGhpcy5ldmVudHNCeU5hbWUuc2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSwgW25ld0V2ZW50XSApO1xyXG4gICAgICByZXR1cm4gbmV3RXZlbnQuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ldmVudHNCeU5hbWUuZ2V0KCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApIS5wdXNoKCBuZXdFdmVudCApO1xyXG5cclxuICAgIHJldHVybiBuZXdFdmVudC5pZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRFdmVudHNCeU5hbWUoIGV2ZW50TmFtZTogc3RyaW5nICk6IEV2ZW50TGlzdGVuZXJbXSB7XHJcbiAgICBpZiAoICF0aGlzLmV2ZW50c0J5TmFtZS5oYXMoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkgKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzQnlOYW1lLnNldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCksIFtdICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzQnlOYW1lLmdldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSE7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlRXZlbnRCeUlkKCBldmVudElkOiBzdHJpbmcgKSB7XHJcbiAgICB0aGlzLmV2ZW50c0J5TmFtZS5mb3JFYWNoKCAoIHZhbHVlLCBrZXkgKSA9PiB7XHJcbiAgICAgIHRoaXMuZXZlbnRzQnlOYW1lLnNldCgga2V5LCB2YWx1ZS5maWx0ZXIoIGUgPT4gZS5pZCAhPT0gZXZlbnRJZCApICk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2FsbEV2ZW50c0J5TmFtZSggZXZlbnROYW1lOiBzdHJpbmcsIC4uLmV2ZW50QXJnczogYW55W10gKTogdm9pZCB7XHJcbiAgICB0aGlzLmdldEV2ZW50c0J5TmFtZSggZXZlbnROYW1lICkuZm9yRWFjaCggZSA9PiBlLmV2ZW50KCAuLi5ldmVudEFyZ3MgKSApO1xyXG4gIH1cclxufSIsImltcG9ydCB7IERpbWVuc2lvbnMsIFBvaW50MkQsIGxlcnAsIHJlZ2V4TnVtYmVyUGF0dGVybiwgcm90YXRlQ29vcmRpbmF0ZXMsIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRvUGhvbmVOdW1iZXIgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIEJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi4vRXh0cmFzL0NvbGxpc2lvbkV2ZW50cy9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcbmV4cG9ydCBjb25zdCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0gPSAvdHJhbnNsYXRlXFwoW14pXSpcXCkvZztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSA9IC9yb3RhdGVcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUgPSAvcm90YXRlWFxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSA9IC9yb3RhdGVZXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWlZhbHVlID0gL3JvdGF0ZVpcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuXHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXl1cCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSggeyBrZXksIGtleWRvd246IGV2ZW50S2V5ZG93biwga2V5dXA6IGV2ZW50S2V5dXAsIGV4ZWN1dGVPbmx5T25jZSA9IHRydWUgfTogeyBrZXk6IHN0cmluZzsga2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBrZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjazsgZXhlY3V0ZU9ubHlPbmNlPzogYm9vbGVhbjsgfSApIHtcclxuICBpZiAoIGV4ZWN1dGVPbmx5T25jZSApIHtcclxuICAgIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleSwgZXZlbnRLZXlkb3duLCBldmVudEtleXVwICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2FmZVByb21pc2U8VD4gPSB7XHJcbiAgZGF0YTogKCkgPT4gVDtcclxuICBlcnJvcjogRXJyb3IgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHJvbWlzZTxUPiggcHJvbWlzZTogUHJvbWlzZTxUPiApOiBQcm9taXNlPFNhZmVQcm9taXNlPFQ+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwcm9taXNlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6ICgpID0+IGRhdGEsXHJcbiAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKCBlcnJvciApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoIFwiQ291bGRuJ3QgZmV0Y2gsIGNoZWNrIFNhZmVQcm9taXNlLmVycm9yIGZvciBkZXRhaWxzLlwiICk7IH0sXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoIFN0cmluZyggZXJyb3IgKSApXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3V0dWJlVXJsT3JJZCggaW5wdXQ6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCB1cmxQYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgY29uc3QgaWRQYXR0ZXJuID0gL15bYS16QS1aMC05Xy1dezExfSQvO1xyXG5cclxuICByZXR1cm4gdXJsUGF0dGVybi50ZXN0KCBpbnB1dCApIHx8IGlkUGF0dGVybi50ZXN0KCBpbnB1dCApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3VUdWJlVXJsKCB1cmw6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCBwYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCggdXJsICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0WW91VHViZUlkKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB8IG51bGwge1xyXG4gIGNvbnN0IHJlZ2V4ID0gL1s/Jl12PShbXj8mXSspLztcclxuICBjb25zdCBtYXRjaCA9IGlucHV0Lm1hdGNoKCByZWdleCApO1xyXG4gIGlmICggbWF0Y2ggJiYgbWF0Y2hbMV0gKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hbMV07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIElmIGRpcmVjdCB2aWRlbyBJRCBpcyBwcm92aWRlZFxyXG4gICAgcmV0dXJuIGlucHV0Lmxlbmd0aCA9PT0gMTEgPyBpbnB1dCA6IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0ckxpc3Q6IFtzdHJpbmcsIHN0cmluZ11bXSApIHtcclxuICBhdHRyTGlzdC5mb3JFYWNoKCAoIFtrZXksIHZhbF0gKSA9PiB7XHJcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgga2V5LCB2YWwgKTtcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RnJvbUhUTUwoIGh0bWw6IHN0cmluZywgdHJpbTogYm9vbGVhbiA9IHRydWUgKSB7XHJcbiAgaHRtbCA9IHRyaW0gPyBodG1sLnRyaW0oKSA6IGh0bWw7XHJcblxyXG4gIGlmICggIWh0bWwgKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RlbXBsYXRlJyApO1xyXG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUuY29udGVudC5jaGlsZHJlbjtcclxuXHJcbiAgaWYgKCByZXN1bHQubGVuZ3RoID09PSAxICkge1xyXG4gICAgcmV0dXJuIHJlc3VsdFswXSBhcyBIVE1MRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHJldHVybiBBcnJheS5mcm9tKCByZXN1bHQgKSBhcyBIVE1MRWxlbWVudFtdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnNCeUlkKCBlbGVtZW50SWQ6IHN0cmluZyApOiBEaW1lbnNpb25zIHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGVsZW1lbnRJZCApO1xyXG5cclxuICBpZiAoICFlbGVtZW50ICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgZWxlbWVudCBhdCBnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQgd2l0aCBpZDogXCIgKyBlbGVtZW50SWQgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBnZXRFbGVtZW50RGltZW5zaW9ucyggZWxlbWVudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERpbWVuc2lvbnMge1xyXG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERPTVJlY3Qge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IGNlbnRlclggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcclxuICBjb25zdCBjZW50ZXJZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XHJcblxyXG4gIC8vIFJvdGF0aW9uIGFuZ2xlIGluIGRlZ3JlZXMgKGV4dHJhY3RlZCBmcm9tIHN0eWxlLnRyYW5zZm9ybSBvciBhbnkgb3RoZXIgc291cmNlKVxyXG4gIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSBnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMoKTtcclxuXHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogcm90YXRpb25BbmdsZTtcclxuICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgY29uc3Qgc2luVGhldGEgPSBNYXRoLnNpbiggcmFkaWFucyApO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIHJvdGF0ZWQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkWDEgPSBjZW50ZXJYICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBjb3NUaGV0YSAtICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBzaW5UaGV0YTtcclxuICBjb25zdCByb3RhdGVkWTEgPSBjZW50ZXJZICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgY29uc3Qgcm90YXRlZFgyID0gY2VudGVyWCArICggcmVjdC5yaWdodCAtIGNlbnRlclggKSAqIGNvc1RoZXRhIC0gKCByZWN0LmJvdHRvbSAtIGNlbnRlclkgKSAqIHNpblRoZXRhO1xyXG4gIGNvbnN0IHJvdGF0ZWRZMiA9IGNlbnRlclkgKyAoIHJlY3QucmlnaHQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC5ib3R0b20gLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGxlZnQsIHRvcCwgYm90dG9tLCBhbmQgcmlnaHQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkTGVmdCA9IE1hdGgubWluKCByb3RhdGVkWDEsIHJvdGF0ZWRYMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRUb3AgPSBNYXRoLm1pbiggcm90YXRlZFkxLCByb3RhdGVkWTIgKTtcclxuICBjb25zdCByb3RhdGVkQm90dG9tID0gTWF0aC5tYXgoIHJvdGF0ZWRZMSwgcm90YXRlZFkyICk7XHJcbiAgY29uc3Qgcm90YXRlZFJpZ2h0ID0gTWF0aC5tYXgoIHJvdGF0ZWRYMSwgcm90YXRlZFgyICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4OiByb3RhdGVkTGVmdCxcclxuICAgIHk6IHJvdGF0ZWRUb3AsXHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICB0b0pTT046IHJlY3QudG9KU09OLFxyXG4gICAgbGVmdDogcm90YXRlZExlZnQsXHJcbiAgICB0b3A6IHJvdGF0ZWRUb3AsXHJcbiAgICBib3R0b206IHJvdGF0ZWRCb3R0b20sXHJcbiAgICByaWdodDogcm90YXRlZFJpZ2h0LFxyXG4gIH0gYXMgRE9NUmVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25jZSgga2V5OiBzdHJpbmcsIGV2ZW50S2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrLCBldmVudEtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrICkge1xyXG4gIGlmICggZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd24sIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5nZXQoIGtleSApIV0gKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25SZXBlYXQoIGtleTogc3RyaW5nLCBldmVudEtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjaywgZXZlbnRLZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjayApIHtcclxuICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0Lmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5zZXQoIGtleSwgW2V2ZW50S2V5ZG93biwgLi4uZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRWxlbWVudENvbGxpc2lvbiggZWxlbWVudDE6IEhUTUxFbGVtZW50LCBlbGVtZW50MjogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50MS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQxICk7XHJcbiAgY29uc3QgcmVjdDIgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQyICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9ICEoXHJcbiAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20gfHxcclxuICAgIHJlY3QxLnJpZ2h0IDwgcmVjdDIubGVmdCB8fFxyXG4gICAgcmVjdDEuYm90dG9tIDwgcmVjdDIudG9wIHx8XHJcbiAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHRcclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlPFQ+KCB2YXJpYWJsZU5hbWU6IHN0cmluZywgcmVhZHlDb25kaXRpb246ICggdmFsdWU6IFQgKSA9PiBib29sZWFuLCBjYWxsYmFjazogKCB2YWx1ZTogVCApID0+IHZvaWQgKSB7XHJcbiAgY29uc3QgcG9sbEludGVydmFsID0gMTAwO1xyXG4gIGNvbnN0IHBvbGwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgLy8gSWYgYm90aCBjb25kaXRpb25zIGFyZSBtZXQsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFuZCBzdG9wIHBvbGxpbmdcclxuICAgICAgY2xlYXJJbnRlcnZhbCggcG9sbCApO1xyXG4gICAgICBjYWxsYmFjayggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSApO1xyXG4gICAgfVxyXG4gIH0sIHBvbGxJbnRlcnZhbCApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlQXN5bmM8VD4oIHZhcmlhYmxlTmFtZTogc3RyaW5nLCByZWFkeUNvbmRpdGlvbjogKCB2YWx1ZTogVCApID0+IGJvb2xlYW4sIGNhbGxiYWNrOiAoIHZhbHVlOiBUICkgPT4gdm9pZCApOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCBwb2xsSW50ZXJ2YWwgPSAxMDA7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBwb2xsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgICAvLyBJZiBib3RoIGNvbmRpdGlvbnMgYXJlIG1ldCwgZXhlY3V0ZSB0aGUgY2FsbGJhY2ssIHN0b3AgcG9sbGluZywgYW5kIHJlc29sdmUgdGhlIHByb21pc2VcclxuICAgICAgICBjbGVhckludGVydmFsKCBwb2xsICk7XHJcbiAgICAgICAgY2FsbGJhY2soICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHBvbGxJbnRlcnZhbCApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoIHNlbGVjdG9yOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3Rvciggc2VsZWN0b3IgKSApIHtcclxuICAgICAgcmV0dXJuIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCBtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUoIGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsYXkoIG1zOiBudW1iZXIgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHNldFRpbWVvdXQoIHJlc29sdmUsIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VFbGVtZW50KCBlbGVtZW50VG9SZW1vdmU6IEhUTUxFbGVtZW50LCBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCwgbmV3RWxlbWVudDogSFRNTEVsZW1lbnQgKTogdm9pZCB7XHJcbiAgaWYgKCBwYXJlbnRFbGVtZW50ICYmIGVsZW1lbnRUb1JlbW92ZSApIHtcclxuICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGVsZW1lbnRUb1JlbW92ZSApO1xyXG5cclxuICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKCBuZXdFbGVtZW50LCBlbGVtZW50VG9SZW1vdmUubmV4dFNpYmxpbmcgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRFbGVtZW50QXRJbmRleCggcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIG5ld0VsZW1lbnQ6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyICk6IHZvaWQge1xyXG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXM7XHJcblxyXG4gIGlmICggaW5kZXggPj0gMCAmJiBpbmRleCA8PSBjaGlsZE5vZGVzLmxlbmd0aCApIHtcclxuICAgIGlmICggaW5kZXggPT09IGNoaWxkTm9kZXMubGVuZ3RoICkge1xyXG4gICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBuZXdFbGVtZW50ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCByZWZOb2RlID0gY2hpbGROb2Rlc1tpbmRleF07XHJcbiAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKCBuZXdFbGVtZW50LCByZWZOb2RlICk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoICdJbmRleCBvdXQgb2YgYm91bmRzJyApO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkluZGV4IG91dCBvZiBib3VuZHNcIiApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluZGV4SW5QYXJlbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IG51bWJlciB7XHJcbiAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cclxuICBpZiAoIHBhcmVudCApIHtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbSggcGFyZW50LmNoaWxkcmVuICk7XHJcbiAgICByZXR1cm4gY2hpbGRyZW4uaW5kZXhPZiggZWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG4vLy8gR2V0IHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSBvbiBtYXAgd2lsbCBzZXQgdGhlIGN1cnJlbnQgYXR0cmlidXRlIGFzIGRlZmF1bHRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSB3aWxsIHJldHVybiBhbiBlbXB0eSBzdHJpbmdcclxuZXhwb3J0IGNvbnN0IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgTWFwPHN0cmluZywgc3RyaW5nPj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldDogSFRNTEVsZW1lbnQsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGlmICggIW1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmhhcyggdGFyZ2V0ICkgKSB7XHJcbiAgICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5zZXQoIHRhcmdldCwgbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSApO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XHJcbiAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSA9IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhO1xyXG4gIGNvbnN0IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgPSAhZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZS5oYXMoIGF0dHJpYnV0ZU5hbWUgKSA/IHRhcmdldC5nZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUgKSA6IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuZ2V0KCBhdHRyaWJ1dGVOYW1lICkhO1xyXG5cclxuICByZXN1bHQgPSB0YXJnZXREZWZhdWx0QXR0cmlidXRlID8gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA6ICcnO1xyXG4gIHNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldCwgYXR0cmlidXRlTmFtZSwgcmVzdWx0ICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIG5ld0RlZmF1bHRBdHRyaWJ1dGU6IHN0cmluZyApOiB2b2lkIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhLnNldCggYXR0cmlidXRlTmFtZSwgbmV3RGVmYXVsdEF0dHJpYnV0ZSApO1xyXG59XHJcblxyXG4vLy8gRGl2aWRlIG8gZWxlbWVudG8gQHRhcmdldCBlbSA5IFwicXVhZHJhZG9zXCIgaWd1YWlzIGUgcmV0b3JuYSBlbSBxdWFpcyBxdWFkcmFkb3MgbyBkcmFnZ2FibGUgZXN0w6EgY29saWRpbmRvIGNvbSBvIHRhcmdldFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sbGlzaW9uRGlyZWN0aW9uKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IEJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGNlbnRlciA9IHtcclxuICAgIHg6IHJlY3QxLmxlZnQgKyByZWN0MS53aWR0aCAvIDIsXHJcbiAgICB5OiByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQgLyAyLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlcjogQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgICB0b3A6IGNlbnRlci55IC0gcmVjdDIudG9wLFxyXG4gICAgcmlnaHQ6IHJlY3QyLnJpZ2h0IC0gY2VudGVyLngsXHJcbiAgICBib3R0b206IHJlY3QyLmJvdHRvbSAtIGNlbnRlci55LFxyXG4gICAgbGVmdDogY2VudGVyLnggLSByZWN0Mi5sZWZ0LFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBkaXN0YW5jZUZyb21Cb3JkZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBldnQgPT4ge1xyXG4gIGlmICggIWV2dC5yZXBlYXQgKSB7XHJcbiAgICBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQgKTtcclxuICB9XHJcblxyXG4gIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQgKTtcclxufSApO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGV2dCA9PiB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5dXAgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXhpczogJ3gnIHwgJ3knIHwgJ3onID0gJ3gnICk6IG51bWJlciB7XHJcbiAgbGV0IHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZTogUmVnRXhwO1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0Y2ggPSByZWdleE1hdGNoUm90YXRlVmFsdWUuZXhlYyggZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk6IG51bWJlciB7XHJcbiAgY29uc3QgbWF0Y2ggPSBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKS5leGVjKCBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSApO1xyXG4gIGlmICggbWF0Y2ggKSB7XHJcbiAgICBjb25zdCByb3RhdGlvblZhbHVlID0gcGFyc2VGbG9hdCggbWF0Y2hbMV0gKTtcclxuICAgIHJldHVybiByb3RhdGlvblZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKSB7XHJcbiAgcmV0dXJuIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggZ2V0Qm9keVJvdGF0aW9uQXhpcygpIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggYXhpczogJ3gnIHwgJ3knIHwgJ3onICkge1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkF4aXMoKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICByZXR1cm4gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZG9jdW1lbnQuYm9keSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICBjb25zdCBlbGVtZW50VHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0udG9Mb3dlckNhc2UoKTtcclxuICBpZiAoIGVsZW1lbnRUcmFuc2Zvcm0uaW5jbHVkZXMoICd4JyApICkge1xyXG4gICAgcmV0dXJuICd4JztcclxuICB9IGVsc2UgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneScgKSApIHtcclxuICAgIHJldHVybiAneSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAneic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlID0gKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApLnRyYW5zZm9ybS5tYXRjaCggcmVnZXhOdW1iZXJQYXR0ZXJuICkgPz8gWzAsIDBdICkubWFwKCBuID0+ICtuICk7XHJcblxyXG4gIGxldCByZXN1bHQgPSB7XHJcbiAgICB4OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs0XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gKSA6IDAsXHJcbiAgICB5OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs1XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gKSA6IDBcclxuICB9XHJcblxyXG4gIGlmICggY2hlY2tCb2R5Um90YXRpb24gKSB7XHJcbiAgICBjb25zdCBib2R5QW5nbGUgPSBnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMoIGRvY3VtZW50LmJvZHksIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQgKSApIHx8IDA7XHJcbiAgICByZXR1cm4gcm90YXRlQ29vcmRpbmF0ZXMoIHJlc3VsdC54LCByZXN1bHQueSwgYm9keUFuZ2xlICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7IHBhcmVudEVsZW1lbnQsIGlkLCBwb3NpdGlvbiwgZGltZW5zaW9ucyB9OiB7IHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50OyBpZDogc3RyaW5nOyBwb3NpdGlvbj86IHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgfTsgZGltZW5zaW9ucz86IERpbWVuc2lvbnM7IH0gKSB7XHJcbiAgdmFyIGludmlzaWJsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gIGlmICggIXBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gKSB7XHJcbiAgICBwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICB9XHJcblxyXG4gIGludmlzaWJsZURpdi5pZCA9IGlkO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLndpZHRoID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLndpZHRoID8gZGltZW5zaW9ucy53aWR0aC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLmhlaWdodCA/IGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHgnIDogJzEwMCUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS50b3AgPSAoIHBvc2l0aW9uPy50b3AudG9TdHJpbmcoKSA/PyAnMCcgKSArICdweCc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmxlZnQgPSAoIHBvc2l0aW9uPy5sZWZ0LnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5vcGFjaXR5ID0gJzAnOyAvLyBNYWtlIHRoZSBkaXYgaW52aXNpYmxlXHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7IC8vIEFsbG93IHRoZSBkaXYgdG8gaW50ZXJjZXB0IG1vdXNlIGV2ZW50c1xyXG5cclxuICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBpbnZpc2libGVEaXYgKTtcclxuXHJcbiAgcmV0dXJuIGludmlzaWJsZURpdjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnaGlkZGVuJywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwQXN5bmMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiBzZXRUaW1lb3V0KCAoKSA9PiByZXNvbHZlKCksIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50c0J5Q2hlY2soIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCwgb25DaGVjazogRnVuY3Rpb24sIG9uVW5jaGVjazogRnVuY3Rpb24gKSB7XHJcbiAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdHJpZ2dlckdyb3VwID0gdHJpZ2dlckVsZW1lbnQubmFtZVxyXG4gICAgPyBBcnJheS5mcm9tKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBgW25hbWU9XCIkeyB0cmlnZ2VyRWxlbWVudC5uYW1lIH1cIl1gICkgKVxyXG4gICAgOiBbdHJpZ2dlckVsZW1lbnRdO1xyXG5cclxuICB0cmlnZ2VyR3JvdXAuZm9yRWFjaCggdCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoICdjaGFuZ2UnLCBldnQgPT4ge1xyXG4gICAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uVW5jaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9XHJcbiAgfSApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnB1dEZvcmNlUGhvbmVOdW1iZXJGb3JtYXQoIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCApIHtcclxuICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBob25lSW5wdXQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGNsZWFuUGhvbmVJbnB1dCA9IHBob25lSW5wdXQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG4gICAgaWYgKCBjbGVhblBob25lSW5wdXQubGVuZ3RoID4gMTEgKSB7XHJcbiAgICAgIHBob25lSW5wdXQgPSBjbGVhblBob25lSW5wdXQuc2xpY2UoIDAsIDExICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBob25lTnVtYmVyRm9ybWF0dGVkID0gdG9QaG9uZU51bWJlciggcGhvbmVJbnB1dCApO1xyXG5cclxuICAgIGlmICggcGhvbmVOdW1iZXJGb3JtYXR0ZWQubGVuZ3RoID09PSAxMCApIHtcclxuICAgICAgcGhvbmVOdW1iZXJGb3JtYXR0ZWQgPSBwaG9uZU51bWJlckZvcm1hdHRlZC5yZXBsYWNlQWxsKCAnLScsICcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHBob25lTnVtYmVyRm9ybWF0dGVkO1xyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZUJyb3dzZXIoKSB7XHJcbiAgcmV0dXJuIC9BbmRyb2lkfGlQaG9uZS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEZXZpY2VUeXBlKCk6ICdhbmRyb2lkJyB8ICdhcHBsZScgfCAnZGVza3RvcCcge1xyXG4gIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKCB3aW5kb3cgYXMgYW55ICkub3BlcmE7XHJcblxyXG4gIGlmICggL2FuZHJvaWQvaS50ZXN0KCB1c2VyQWdlbnQgKSApIHtcclxuICAgIHJldHVybiAnYW5kcm9pZCc7XHJcbiAgfSBlbHNlIGlmICggL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIHVzZXJBZ2VudCApICYmICEoIHdpbmRvdyBhcyBhbnkgKS5NU1N0cmVhbSApIHtcclxuICAgIHJldHVybiAnYXBwbGUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ2Rlc2t0b3AnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT25TY3JlZW4oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiAoXHJcbiAgICByZWN0LnRvcCA+PSAwICYmXHJcbiAgICByZWN0LmxlZnQgPj0gMCAmJlxyXG4gICAgcmVjdC5ib3R0b20gPD0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCApICYmXHJcbiAgICByZWN0LnJpZ2h0IDw9ICggd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIClcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRWaWV3SWZDaGVja2VkKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucyA9IHtcclxuICBvbkNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfSxcclxuICBvblVuY2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9XHJcbn0gKSB7XHJcbiAgYmluZEVsZW1lbnRzQnlDaGVjayhcclxuICAgIHRyaWdnZXJFbGVtZW50LFxyXG4gICAgdGFyZ2V0RWxlbWVudCxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vbkNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vblVuY2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZyb21SYWRpb0dyb3VwKCBncm91cE5hbWU6IHN0cmluZyApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggYFtuYW1lPSR7IGdyb3VwTmFtZSB9XTpjaGVja2VkYCApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgaWYgKCBlbCApIHtcclxuICAgIHJldHVybiBlbC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKCB0YXJnZXRZOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgY29uc3Qgc3RhcnRZID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gIGxldCBzdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzdGVwKCBjdXJyZW50VGltZTogbnVtYmVyICkge1xyXG4gICAgaWYgKCAhc3RhcnRUaW1lICkgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbiggZWxhcHNlZFRpbWUgLyBkdXJhdGlvbiwgMSApO1xyXG4gICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGxlcnAoIDAsIDEsIHByb2dyZXNzICk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIGxlcnAoIHN0YXJ0WSwgdGFyZ2V0WSwgZWFzZWRQcm9ncmVzcyApICk7XHJcbiAgICBpZiAoIGVsYXBzZWRUaW1lIDwgZHVyYXRpb24gKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzdGVwICk7XHJcbn1cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IHBvcyxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUb0VsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB1c2VCcm93c2VyRGVmYXVsdHM6IGJvb2xlYW4gPSB0cnVlICk6IHZvaWQge1xyXG4gIGlmICggIXVzZUJyb3dzZXJEZWZhdWx0cyApIHtcclxuICAgIGNvbnN0IHRhcmdldFkgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSAxMDAwOyAvLyBEdXJhw6fDo28gZml4YSBlbSBtaWxpc3NlZ3VuZG9zICgxIHNlZ3VuZG8pXHJcbiAgICBzbW9vdGhTY3JvbGwoIHRhcmdldFksIGR1cmF0aW9uICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSxcclxuICAgIGxlZnQ6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJcclxuLy8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MjQ1NzY3L2NyZWF0aW5nLWEtYmxvYi1mcm9tLWEtYmFzZTY0LXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbi8vLyBEaXZpZGUgdW0gYXJxdWl2byBiaW7DoXJpbyBlbSB2w6FyaWFzIHBhcnRlcywgcGFyYSBxdWUgYSBjb252ZXJzw6NvIHNlamEgb3RpbWl6YWRhLCBlIHJldG9ybmEgdW1hIGJsb2IgY29tIG8gYXJxdWl2b1xyXG5cclxuaW1wb3J0IHsgaXNOdWxsT3JFbXB0eSB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5cclxuLy8vIEBwYXJhbSBvblByb2dyZXNzbyBVbSBjYWxsYmFjayBxdWUgcmVjZWJlIGEgcG9yY2VudGFnZW0gZGUgcHJvZ3Jlc3NvIGF0dWFsIGRhIGNvbnZlcnPDo29cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2U2NFRvQmxvYiggdGV4dG9CYXNlNjQ6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgdGFtYW5ob1BhcnRlcyA9IDEwMjQsIG9uUHJvZ3Jlc3MgPSAoIHByb2dyZXNzb0F0dWFsOiBudW1iZXIgKSA9PiB7IGNvbnNvbGUubG9nKCBwcm9ncmVzc29BdHVhbCApIH0gKSB7XHJcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheTxVaW50OEFycmF5PigpO1xyXG4gIGNvbnN0IGZpbGVTaXplID0gdGV4dG9CYXNlNjQubGVuZ3RoO1xyXG5cclxuICAvLy8gcHJlZW5jaGUgYGJ5dGVBcnJheXNgIGNvbSBvcyBieXRlcyBkbyBhcnF1aXZvIHBlZ2FuZG8gdW1hIHBhcnRlIGRlIFwidGFtYW5ob1BhcnRlc1wiIHBvciB2ZXpcclxuICBmb3IgKCBsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgZmlsZVNpemU7IG9mZnNldCArPSB0YW1hbmhvUGFydGVzICkge1xyXG4gICAgLy8vIHBlZ2FuZG8gdW0gcGFydGUgZGUgdGFtYW5obyB7dGFtYW5ob1BhcnRlc30gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0b0Jhc2U2NC5zbGljZSggb2Zmc2V0LCBvZmZzZXQgKyB0YW1hbmhvUGFydGVzICk7XHJcblxyXG4gICAgLy8vIGNvbnZlcnRlbmRvIGEgcGFydGUgZW0gdW0gYXJyYXkgY29tIGNhZGEgYnl0ZSBkZXNzZSBwZWRhw6dvIGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGFyckJ5dGVzQ2h1bmsgPSBuZXcgQXJyYXk8bnVtYmVyPiggY2h1bmsubGVuZ3RoICk7XHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJyQnl0ZXNDaHVua1tpXSA9IGNodW5rLmNoYXJDb2RlQXQoIGkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gdHJhbnNmb3JtYW5kbyBlc3NlIGFycmF5IGVtIHVtIGFycmF5IGNvbSBjYW1wb3MgZG8gdGFtYW5obyBkZSB1bSBieXRlXHJcbiAgICAvLy8gZSB1bmluZG8gYXMgcGFydGVzIGrDoSBjb25jbHXDrWRhcyBkbyBhcnF1aXZvXHJcbiAgICBieXRlQXJyYXlzLnB1c2goIG5ldyBVaW50OEFycmF5KCBhcnJCeXRlc0NodW5rICkgKTtcclxuXHJcbiAgICAvLy8gQ2hhbWFuZG8gY2FsbGJhY2sgcXVlIGV4aWJlIG8gcHJvZ3Jlc3NvIHF1YW5kbyBvIHBhc3NvIGF0dWFsIGZvciBjb25jbHXDrWRvXHJcbiAgICBhd2FpdCBvblByb2dyZXNzKCAoIG9mZnNldCAvIGZpbGVTaXplICkgKiAxMDAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYiggYnl0ZUFycmF5cywgeyB0eXBlOiBjb250ZW50VHlwZSB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGVGcm9tQmxvYiggYmxvYjogQmxvYiwgdGl0bGU6IHN0cmluZyApIHtcclxuICBsZXQgZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgaWYgKCBmaWxlICkge1xyXG4gICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYScgKTtcclxuICAgIGEuaHJlZiA9IGZpbGU7XHJcbiAgICBhLmRvd25sb2FkID0gdGl0bGU7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZpbGVQYXRoKCBmaWxlUGF0aDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgY29uc3QgcmVnZXggPSAvKD86LipbXFxcXC9dKShbXlxcXFwvXSspJC87XHJcblxyXG4gIGNvbnN0IG1hdGNoID0gcmVnZXguZXhlYyggZmlsZVBhdGggKTtcclxuICBpZiAoIG1hdGNoICYmIG1hdGNoLmxlbmd0aCA+IDEgKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hbMV07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmaWxlUGF0aDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKCBmaWxlTmFtZTogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCBpc051bGxPckVtcHR5KCBmaWxlTmFtZSApICkgcmV0dXJuICcnO1xyXG5cclxuICBjb25zdCBkZWZhdWx0RmlsZVNyYyA9IGZpbGVOYW1lLnNwbGl0KCAnLicgKS5wb3AoKTtcclxuICBpZiAoIGRlZmF1bHRGaWxlU3JjICYmIGRlZmF1bHRGaWxlU3JjICE9PSBmaWxlTmFtZSApIHtcclxuICAgIHJldHVybiBkZWZhdWx0RmlsZVNyYztcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpbGVUeXBlU3RyID0gZmlsZU5hbWUuc3BsaXQoICcvJyApLnBvcCgpO1xyXG4gIGlmICggZmlsZVR5cGVTdHIgJiYgZmlsZVR5cGVTdHIgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGZpbGVUeXBlU3RyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICcnO1xyXG59IiwiZXhwb3J0IGNvbnN0IHJlZ2V4TnVtYmVyUGF0dGVybiA9IC8tP1xcZCtcXC4/XFxkKi9nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpbWVuc2lvbnMge1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUm93KCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggaW5kZXggLyBncmlkV2lkdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Db2woIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBpbmRleCAlIGdyaWRXaWR0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvd0NvbFRvSW5kZXgoIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgd2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gKCByb3cgKiB3aWR0aCApICsgY29sO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ29vcmRpbmF0ZXNGcm9tUG9pbnQyRCggY29vcmRzOiBQb2ludDJELCBhbmdsZTogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIGFuZ2xlO1xyXG4gIGNvbnN0IG5ld1ggPSBjb29yZHMueCAqIE1hdGguY29zKCByYWRpYW5zICkgLSBjb29yZHMueSAqIE1hdGguc2luKCByYWRpYW5zICk7XHJcbiAgY29uc3QgbmV3WSA9IGNvb3Jkcy54ICogTWF0aC5zaW4oIHJhZGlhbnMgKSArIGNvb3Jkcy55ICogTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICByZXR1cm4geyB4OiBuZXdYLCB5OiBuZXdZIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ29vcmRpbmF0ZXMoIHg6IG51bWJlciwgeTogbnVtYmVyLCBhbmdsZTogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIGFuZ2xlO1xyXG4gIGNvbnN0IG5ld1ggPSB4ICogTWF0aC5jb3MoIHJhZGlhbnMgKSAtIHkgKiBNYXRoLnNpbiggcmFkaWFucyApO1xyXG4gIGNvbnN0IG5ld1kgPSB4ICogTWF0aC5zaW4oIHJhZGlhbnMgKSArIHkgKiBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIHJldHVybiB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFyZURpYWdvbmFscyggaW5kZXgxOiBudW1iZXIsIGluZGV4MjogbnVtYmVyLCBncmlkU2l6ZTogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gIGlmICggaW5kZXgxIDwgMCB8fCBpbmRleDIgPCAwICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCAnSW52YWxpZCBjZWxsIGluZGljZXMnICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByb3cxID0gaW5kZXhUb1JvdyggaW5kZXgxLCBncmlkU2l6ZSApO1xyXG4gIGNvbnN0IGNvbDEgPSBpbmRleFRvQ29sKCBpbmRleDEsIGdyaWRTaXplICk7XHJcblxyXG4gIGNvbnN0IHJvdzIgPSBpbmRleFRvUm93KCBpbmRleDIsIGdyaWRTaXplICk7XHJcbiAgY29uc3QgY29sMiA9IGluZGV4VG9Db2woIGluZGV4MiwgZ3JpZFNpemUgKTtcclxuXHJcbiAgcmV0dXJuIE1hdGguYWJzKCByb3cxIC0gcm93MiApID09PSBNYXRoLmFicyggY29sMSAtIGNvbDIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Qb2ludDJEKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApOiBQb2ludDJEIHtcclxuICByZXR1cm4ge1xyXG4gICAgeDogaW5kZXhUb0NvbCggaW5kZXgsIGdyaWRXaWR0aCApLFxyXG4gICAgeTogaW5kZXhUb1JvdyggaW5kZXgsIGdyaWRXaWR0aCApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGVycCggbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCBhbW91bnQ6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIDEgLSBhbW91bnQgKSAqIG1pbiArIGFtb3VudCAqIG1heDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2VMZXJwKCBhOiBudW1iZXIsIGI6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCB2YWwgLSBhICkgLyAoIGIgLSBhICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1hcCggaW5NaW46IG51bWJlciwgaW5NYXg6IG51bWJlciwgb3V0TWluOiBudW1iZXIsIG91dE1heDogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiBsZXJwKCBvdXRNaW4sIG91dE1heCwgaW52ZXJzZUxlcnAoIGluTWluLCBpbk1heCwgdmFsICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEV4Y2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBtYXggLSBtaW4gKSArIG1pbiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbFNldHM8VD4oIHNldDE6IFNldDxUPiwgc2V0MjogU2V0PFQ+ICkge1xyXG4gIHJldHVybiBzZXQxLnNpemUgPT09IHNldDIuc2l6ZSAmJlxyXG4gICAgWy4uLnNldDFdLmV2ZXJ5KCAoIHggKSA9PiBzZXQyLmhhcyggeCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRJbmNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICBtaW4gPSBNYXRoLmNlaWwoIG1pbiApO1xyXG4gIG1heCA9IE1hdGguZmxvb3IoIG1heCApO1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogKCBtYXggLSBtaW4gKyAxICkgKSArIG1pbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUZyb21BcnJheTxUPiggYXJyOiBBcnJheTxUPiApIHtcclxuICByZXR1cm4gYXJyW2dldFJhbmRvbUludEV4Y2x1c2l2ZSggMCwgYXJyLmxlbmd0aCApXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKCBudW06IG51bWJlciA9IDAsIG1pbjogbnVtYmVyID0gMCwgbWF4OiBudW1iZXIgPSAxMDAgKTogbnVtYmVyIHtcclxuICByZXR1cm4gTWF0aC5tYXgoIG1pbiwgTWF0aC5taW4oIG51bSwgbWF4ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbnV0ZXNUb01pbGxpc2Vjb25kcyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgKiA2MDAwMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvTWludXRlcyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA2MDAwMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvSG91cnMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gMy42ZSs2O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9EYXlzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDguNjRlKzc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZWdhYnl0ZVRvQnl0ZSggbWI6IG51bWJlciApIHtcclxuICByZXR1cm4gbWIgKiAxMDI0ICogMTAyNDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVUb01lZ2FieXRlKCBiOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGIgLyAxMDI0IC8gMTAyNDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEFycmF5RnJvbVJhbmdlKCBzaXplOiBudW1iZXIsIHN0YXJ0aW5nRnJvbTogbnVtYmVyID0gMCApOiBudW1iZXJbXSB7XHJcbiAgbGV0IHJlc3VsdCA9IFsuLi5BcnJheSggc2l6ZSApLmtleXMoKV1cclxuXHJcbiAgaWYgKCBzdGFydGluZ0Zyb20gIT0gMCApIHtcclxuICAgIHJlc3VsdCA9IHJlc3VsdC5tYXAoIGkgPT4gaSArIHN0YXJ0aW5nRnJvbSApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufSIsImltcG9ydCB7IENyZWF0ZU1lZGlhQ29tcG9uZW50T3B0aW9ucywgTWVkaWFDb21wb25lbnQgfSBmcm9tICcuLi9Db21wb25lbnRzL01lZGlhQ29tcG9uZW50JztcclxuaW1wb3J0ICcuLi9FeHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBnZXRFbGVtZW50RnJvbUhUTUwsIGhpZGVFbGVtZW50IH0gZnJvbSAnLi9ET01Ub29scyc7XHJcbmltcG9ydCB7IGdldEZpbGVFeHRlbnNpb24gfSBmcm9tICcuL0ZpbGVUb29scyc7XHJcblxyXG5leHBvcnQgdHlwZSBQb3NzaWJsZU1lZGlhVHlwZSA9ICdhdWRpbycgfCAndmlkZW8nO1xyXG5cclxuZXhwb3J0IGNvbnN0IGF1ZGlvRXh0ZW5zaW9uczogc3RyaW5nW10gPSBbJ21wMycsICd3YXYnLCAnb2dnJywgJ2FhYycsICd3bWEnLCAnZmxhYycsICdtNGEnXTtcclxuZXhwb3J0IGNvbnN0IHZpZGVvRXh0ZW5zaW9uczogc3RyaW5nW10gPSBbJ21wNCcsICdhdmknLCAnbW92JywgJ21rdicsICd3bXYnLCAnZmx2JywgJ3dlYm0nLCAnbTR2J107XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgTWVkaWFQbGF5ZXJFbGVtZW50Q29uZmlnID0ge1xyXG4gIHR5cGU6IFBvc3NpYmxlTWVkaWFUeXBlO1xyXG4gIGF1dG9wbGF5OiBib29sZWFuO1xyXG4gIG11dGVkOiBib29sZWFuO1xyXG4gIGxvb3A6IGJvb2xlYW47XHJcbiAgcHJlbG9hZDogJ2F1dG8nIHwgJ21ldGFkYXRhJyB8ICdub25lJztcclxuICBvbnBsYXk/OiAoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCApID0+IHZvaWQ7XHJcbiAgb25wYXVzZT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvblBsYXk/OiAoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCApID0+IHZvaWQ7XHJcbiAgb25QYXVzZT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBkZWZhdWx0QXVkaW9QbGF5ZXJDb25maWc6IE1lZGlhUGxheWVyRWxlbWVudENvbmZpZyA9IHtcclxuICB0eXBlOiAnYXVkaW8nLFxyXG4gIGF1dG9wbGF5OiBmYWxzZSxcclxuICBtdXRlZDogZmFsc2UsXHJcbiAgbG9vcDogZmFsc2UsXHJcbiAgcHJlbG9hZDogJ2F1dG8nLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZGVmYXVsdFZpZGVvUGxheWVyQ29uZmlnOiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcgPSB7XHJcbiAgdHlwZTogJ3ZpZGVvJyxcclxuICBhdXRvcGxheTogZmFsc2UsXHJcbiAgbXV0ZWQ6IGZhbHNlLFxyXG4gIGxvb3A6IGZhbHNlLFxyXG4gIHByZWxvYWQ6ICdhdXRvJyxcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZWRpYVR5cGVCeVNvdXJjZSggc291cmNlOiBzdHJpbmcgKTogUG9zc2libGVNZWRpYVR5cGUge1xyXG4gIHJldHVybiBnZXRNZWRpYVR5cGVCeUV4dGVuc2lvbiggZ2V0RmlsZUV4dGVuc2lvbiggc291cmNlICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lZGlhVHlwZUJ5RXh0ZW5zaW9uKCBleHRlbnNpb246IHN0cmluZyApOiBQb3NzaWJsZU1lZGlhVHlwZSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZEV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICBpZiAoIGF1ZGlvRXh0ZW5zaW9ucy5pbmNsdWRlcyggbm9ybWFsaXplZEV4dGVuc2lvbiApICkge1xyXG4gICAgcmV0dXJuICdhdWRpbyc7XHJcbiAgfSBlbHNlIGlmICggdmlkZW9FeHRlbnNpb25zLmluY2x1ZGVzKCBub3JtYWxpemVkRXh0ZW5zaW9uICkgKSB7XHJcbiAgICByZXR1cm4gJ3ZpZGVvJztcclxuICB9XHJcblxyXG4gIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIGZpbGUgZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiApO1xyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZWRpYURlZmF1bHRzQnlTb3VyY2UoIHNyYzogc3RyaW5nICk6IE1lZGlhUGxheWVyRWxlbWVudENvbmZpZyB7XHJcbiAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGdldEZpbGVFeHRlbnNpb24oIHNyYyApO1xyXG5cclxuICBpZiAoICFmaWxlRXh0ZW5zaW9uICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgZmlsZSBleHRlbnNpb25cIiApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdldE1lZGlhRGVmYXVsdHNCeUV4dGVuc2lvbiggZmlsZUV4dGVuc2lvbiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWVkaWFEZWZhdWx0c0J5RXh0ZW5zaW9uKCBleHRlbnNpb246IHN0cmluZyApOiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcge1xyXG4gIGNvbnN0IG1lZGlhVHlwZSA9IGdldE1lZGlhVHlwZUJ5RXh0ZW5zaW9uKCBleHRlbnNpb24gKTtcclxuXHJcbiAgc3dpdGNoICggbWVkaWFUeXBlICkge1xyXG4gICAgY2FzZSAndmlkZW8nOlxyXG4gICAgICByZXR1cm4gZGVmYXVsdFZpZGVvUGxheWVyQ29uZmlnO1xyXG4gICAgY2FzZSAnYXVkaW8nOlxyXG4gICAgICByZXR1cm4gZGVmYXVsdEF1ZGlvUGxheWVyQ29uZmlnO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCAnSW52YWxpZCBmaWxlIGV4dGVuc2lvbiBhdDogJyArIGV4dGVuc2lvbiApXHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1lZGlhRGVmYXVsdHNCeU1lZGlhVHlwZSggbWVkaWFUeXBlOiBQb3NzaWJsZU1lZGlhVHlwZSApOiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcge1xyXG4gIHN3aXRjaCAoIG1lZGlhVHlwZSApIHtcclxuICAgIGNhc2UgJ3ZpZGVvJzpcclxuICAgICAgcmV0dXJuIGRlZmF1bHRWaWRlb1BsYXllckNvbmZpZztcclxuICAgIGNhc2UgJ2F1ZGlvJzpcclxuICAgICAgcmV0dXJuIGRlZmF1bHRBdWRpb1BsYXllckNvbmZpZztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggJ0ludmFsaWQgZmlsZSBleHRlbnNpb24gYXQ6ICcgKyBtZWRpYVR5cGUgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lZGlhQ29tcG9uZW50T25Cb2R5KCBvcHRpb25zOiBDcmVhdGVNZWRpYUNvbXBvbmVudE9wdGlvbnMgKSB7XHJcbiAgcmV0dXJuIGF3YWl0IE1lZGlhQ29tcG9uZW50LmNyZWF0ZU1lZGlhQ29tcG9uZW50T25Cb2R5KCBvcHRpb25zICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNZWRpYVBsYXllciggYXJyU291cmNlczogc3RyaW5nW10sIHBsYXllckNvbmZpZzogTWVkaWFQbGF5ZXJFbGVtZW50Q29uZmlnICkge1xyXG4gIGNvbnN0IGlzTWVkaWFUeXBlVmlkZW8gPSBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLnR5cGUgPT09ICd2aWRlbyc7XHJcbiAgbGV0IG1lZGlhRWxlbWVudEhUTUwgPSBpc01lZGlhVHlwZVZpZGVvXHJcbiAgICA/IHZpZGVvRWxlbWVudEhUTUwoIGFyclNvdXJjZXMsIHBsYXllckNvbmZpZyApXHJcbiAgICA6IGF1ZGlvRWxlbWVudEhUTUwoIGFyclNvdXJjZXMsIHBsYXllckNvbmZpZyApO1xyXG5cclxuICBjb25zdCBtZWRpYUVsZW1lbnQgPSBnZXRFbGVtZW50RnJvbUhUTUwoIG1lZGlhRWxlbWVudEhUTUwgKSBhcyBIVE1MRWxlbWVudDtcclxuICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2FmdGVyYmVnaW4nLCBtZWRpYUVsZW1lbnQgKTtcclxuXHJcbiAgaWYgKCAhaXNNZWRpYVR5cGVWaWRlbyApIHtcclxuICAgIGhpZGVFbGVtZW50KCBtZWRpYUVsZW1lbnQgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtZWRpYUVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2aWRlb0VsZW1lbnRIVE1MKCBhcnJTb3VyY2VzOiBzdHJpbmdbXSwgcGxheWVyQ29uZmlnOiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcgKSB7XHJcbiAgcmV0dXJuIGA8dmlkZW8gcGxheXNpbmxpbmUgJHsgcGFyYW1zVG9QbGF5ZXJDb25maWcoIHBsYXllckNvbmZpZyApIH0+XHJcbiAgICAkeyBhcnJTb3VyY2VzLm1hcCggc3JjID0+IHZpZGVvU291cmNlRWxlbWVudEhUTUwoIHNyYyApICkucmVkdWNlKCAoIGFjYywgbmV4dCApID0+IGFjYyArIG5leHQsICcnICkgfVxyXG4gIDwvdmlkZW8+YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF1ZGlvRWxlbWVudEhUTUwoIGFyclNvdXJjZXM6IHN0cmluZ1tdLCBwbGF5ZXJDb25maWc6IE1lZGlhUGxheWVyRWxlbWVudENvbmZpZyApIHtcclxuICByZXR1cm4gYDxhdWRpbyBwbGF5c2lubGluZSAkeyBwYXJhbXNUb1BsYXllckNvbmZpZyggcGxheWVyQ29uZmlnICkgfT5cclxuICAgICR7IGFyclNvdXJjZXMubWFwKCBzcmMgPT4gYXVkaW9Tb3VyY2VFbGVtZW50SFRNTCggc3JjICkgKS5yZWR1Y2UoICggYWNjLCBuZXh0ICkgPT4gYWNjICsgbmV4dCwgJycgKSB9XHJcbiAgPC9hdWRpbz5gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmlkZW9Tb3VyY2VFbGVtZW50SFRNTCggc3JjOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIGA8c291cmNlIHNyYz1cIiR7IHNyYyB9XCIgdHlwZT1cInZpZGVvLyR7IGdldEZpbGVFeHRlbnNpb24oIHNyYyApIH1cIj5gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXVkaW9Tb3VyY2VFbGVtZW50SFRNTCggc3JjOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIGA8c291cmNlIHNyYz1cIiR7IHNyYyB9XCIgdHlwZT1cImF1ZGlvLyR7IGdldEZpbGVFeHRlbnNpb24oIHNyYyApIH1cIj5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJhbXNUb1BsYXllckNvbmZpZyggcGxheWVyQ29uZmlnOiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcgKSB7XHJcbiAgY29uc3QgcGFyYW1BdXRvUGxheSA9IHBsYXllckNvbmZpZy5hdXRvcGxheSA/ICdhdXRvcGxheScgOiAnJztcclxuICBjb25zdCBwYXJhbU11dGVkID0gcGxheWVyQ29uZmlnLm11dGVkID8gJ211dGVkJyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtTG9vcCA9IHBsYXllckNvbmZpZy5sb29wID8gJ2xvb3AnIDogJyc7XHJcbiAgY29uc3QgcGFyYW1QcmVsb2FkID0gcGxheWVyQ29uZmlnLnByZWxvYWQgPyAncHJlbG9hZD1cIicgKyBwbGF5ZXJDb25maWcucHJlbG9hZCArICdcIicgOiAnJztcclxuXHJcbiAgcmV0dXJuIGAgJHsgcGFyYW1BdXRvUGxheSB9ICR7IHBhcmFtTXV0ZWQgfSAkeyBwYXJhbUxvb3AgfSAkeyBwYXJhbVByZWxvYWQgfWAudHJpbUVuZCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxheUJ1dHRvbkVsZW1lbnQoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnPzogTWVkaWFQbGF5ZXJFbGVtZW50Q29uZmlnICkge1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xyXG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BsYXktYnV0dG9uJyApO1xyXG5cclxuICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICBpZiAoIGF1ZGlvRWxlbWVudC5wYXVzZWQgKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIH1cclxuICB9LCAzMDAgKTtcclxuXHJcbiAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpZiAoIGF1ZGlvRWxlbWVudC5wYXVzZWQgKSB7XHJcbiAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3BhdXNlZCcgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF1ZGlvRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwYXVzZWQnICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICBzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMoIGJ1dHRvbkVsZW1lbnQsIGF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnICk7XHJcblxyXG4gIHJldHVybiBidXR0b25FbGVtZW50O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0QXVkaW9FbGVtZW50UGxheVBhdXNlRXZlbnRzKCBidXR0b25FbGVtZW50OiBIVE1MQnV0dG9uRWxlbWVudCwgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LCBwbGF5ZXJDb25maWc/OiBNZWRpYVBsYXllckVsZW1lbnRDb25maWcgKSB7XHJcbiAgYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwbGF5JywgKCkgPT4ge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAncGF1c2VkJyApO1xyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9uUGxheSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9uUGxheSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9ucGxheSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9ucGxheSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICBhdWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGF1c2VkJyApO1xyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9uUGF1c2UgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vblBhdXNlKCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIHBsYXllckNvbmZpZyAmJiBwbGF5ZXJDb25maWcub25wYXVzZSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9ucGF1c2UoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5QnV0dG9uQ1NTKCkge1xyXG4gIHJldHVybiBgXHJcbiAgICAucGxheS1idXR0b24ge1xyXG4gICAgICBtYXJnaW46IDA7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGJvcmRlcjogMDtcclxuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIHdpZHRoOiAwO1xyXG4gICAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzIwMjAyMDtcclxuICAgICAgdHJhbnNpdGlvbjogMTAwbXMgYWxsIGVhc2U7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgYm9yZGVyLXN0eWxlOiBkb3VibGU7XHJcbiAgICAgIGJvcmRlci13aWR0aDogMHB4IDAgMHB4IDMwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnBsYXktYnV0dG9uLnBhdXNlZCB7XHJcbiAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgIGJvcmRlci13aWR0aDogMjNweCAwcHggMjNweCAzNHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wbGF5LWJ1dHRvbjpob3ZlciB7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzQwNDA0MDtcclxuICAgIH1cclxuICBgO1xyXG59XHJcblxyXG5leHBvcnQgeyBDcmVhdGVNZWRpYUNvbXBvbmVudE9wdGlvbnMgfTsiLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9QaG9uZU51bWJlciggaW5wdXRUZXh0OiBzdHJpbmcgKSB7XHJcbiAgY29uc3QgY2xlYW5OdW1iZXIgPSBpbnB1dFRleHQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG5cclxuICBsZXQgcmVzdWx0O1xyXG4gIGlmICggY2xlYW5OdW1iZXIubGVuZ3RoIDw9IDEwICkge1xyXG4gICAgY29uc3QgcmVnZXggPSAvXihcXGR7Mn0pKFxcZHs0fSkoXFxkezAsNH0pJC87XHJcbiAgICByZXN1bHQgPSBjbGVhbk51bWJlci5yZXBsYWNlKCByZWdleCwgJygkMSkgJDItJDMnICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkezJ9KShcXGR7NX0pKFxcZHswLDR9KSQvO1xyXG4gICAgcmVzdWx0ID0gY2xlYW5OdW1iZXIucmVwbGFjZSggcmVnZXgsICcoJDEpICQyLSQzJyApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVNwZWNpYWxDaGFyYWN0ZXJzKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoIC9bXmEtekEtWjAtOV0vZywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTcGVjaWFsV2l0aFdoaXRlc3BhY2UoIGlucHV0OiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gaW5wdXQucmVwbGFjZSggL1teYS16QS1aMC05XS9nLCAnICcgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VQZXJjZW50RW5jb2RpbmcoIGh0bWw6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIC8vIFJlcGxhY2UgJTIwIHdpdGggYWN0dWFsIHNwYWNlc1xyXG4gIHJldHVybiBodG1sLnJlcGxhY2UoIC8lMjAvZywgJyAnICk7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuaW1wb3J0IHsgZ2V0RWxlbWVudEZyb21IVE1MLCBpbnNlcnRFbGVtZW50QXRJbmRleCwgaXNWYWxpZFlvdXR1YmVVcmxPcklkIH0gZnJvbSAnLi4vLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyByZW1vdmVGaWxlUGF0aCB9IGZyb20gJy4uLy4uL1Rvb2xzL0ZpbGVUb29scyc7XHJcbmltcG9ydCB7IHJlbW92ZVNwZWNpYWxDaGFyYWN0ZXJzLCByZXBsYWNlUGVyY2VudEVuY29kaW5nIH0gZnJvbSAnLi4vLi4vVG9vbHMvU3RyaW5nVG9vbHMnO1xyXG5pbXBvcnQgeyBNZWRpYUNvbXBvbmVudCB9IGZyb20gJy4uL01lZGlhQ29tcG9uZW50JztcclxuaW1wb3J0IHsgTWVkaWFQbGF5ZXIgfSBmcm9tICcuLi9UeXBlcyc7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWUgfSBmcm9tICcuLi9Zb3V0dWJlSWZyYW1lL1lvdXR1YmVJZnJhbWVTd2l0Y2hlcic7XHJcbmltcG9ydCB7IHRlbXBsYXRlU291bmRib2FyZElucHV0LCB0ZW1wbGF0ZVNvdW5kYm9hcmRJdGVtQ29udGFpbmVyIH0gZnJvbSAnLi9UZW1wbGF0ZXNTb3VuZGJvYXJkJztcclxuXHJcblxyXG5leHBvcnQgdHlwZSBTb3VuZGJvYXJkSXRlbU9wdGlvbnMgPSB7XHJcbiAgc3JjOiBzdHJpbmc7XHJcbiAgYXV0b1JlcGVhdE9uUGxheTogYm9vbGVhbjtcclxuICBzdGFydHNBdD86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU291bmRib2FyZEl0ZW1Qb3NzaWJsZUlucHV0ID0gc3RyaW5nIHwgU291bmRib2FyZEl0ZW1PcHRpb25zO1xyXG5cclxuZXhwb3J0IHR5cGUgU291bmRib2FyZE9wdGlvbnMgPSB7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBhcnJNZWRpYVNyYzogU291bmRib2FyZEl0ZW1Qb3NzaWJsZUlucHV0W107XHJcbiAgY29udGFpbmVyc0NsYXNzTGlzdDogc3RyaW5nW107XHJcbiAgaXRlbUNsYXNzTGlzdDogc3RyaW5nW107XHJcbn1cclxuXHJcblxyXG5leHBvcnQgdHlwZSBTb3VuZGJvYXJkQ29tcG9uZW50ID0ge1xyXG4gIG1lZGlhOiBNZWRpYVBsYXllcjtcclxuICBpbnB1dDogSFRNTElucHV0RWxlbWVudDtcclxuICBpbnB1dENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgYnV0dG9uUmVtb3ZlSXRlbTogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgbWVkaWFDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gIGl0ZW1PcHRpb25zOiBTb3VuZGJvYXJkSXRlbU9wdGlvbnM7XHJcbiAgaW5kZXg6IG51bWJlcjtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBTb3VuZGJvYXJkIGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciB7XHJcbiAgcHVibGljIHJlYWRvbmx5IGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGNvbnRhaW5lcnNDbGFzc0xpc3Q6IHN0cmluZ1tdO1xyXG4gIHB1YmxpYyBpdGVtQ2xhc3NMaXN0OiBzdHJpbmdbXTtcclxuXHJcbiAgcHJpdmF0ZSBfc2V0TWVkaWFDb250cm9sbGVycyA9IG5ldyBTZXQ8U291bmRib2FyZENvbXBvbmVudD4oKTtcclxuICBwcml2YXRlIF9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZCA9IG5ldyBNYXA8c3RyaW5nLCBTb3VuZGJvYXJkQ29tcG9uZW50PigpO1xyXG4gIHByaXZhdGUgX21hcElucHV0QnlDb21wb25lbnRJZDogTWFwPHN0cmluZywgSFRNTElucHV0RWxlbWVudD4gPSBuZXcgTWFwPHN0cmluZywgSFRNTElucHV0RWxlbWVudD4oKTtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IFNvdW5kYm9hcmRPcHRpb25zICkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xyXG4gICAgdGhpcy5jb250YWluZXJzQ2xhc3NMaXN0ID0gb3B0aW9ucy5jb250YWluZXJzQ2xhc3NMaXN0ID8/IFtdO1xyXG4gICAgdGhpcy5pdGVtQ2xhc3NMaXN0ID0gb3B0aW9ucy5pdGVtQ2xhc3NMaXN0ID8/IFtdO1xyXG5cclxuICAgIHRoaXMuYWRkTWVkaWFMaXN0KCBvcHRpb25zLmFyck1lZGlhU3JjICk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW5zdGFudE1QM0Rvd25sb2FkTGluayggdXJsOiBzdHJpbmcgKSB7XHJcbiAgICBpZiAoICFTb3VuZGJvYXJkLmlzTXlJbnN0YW50c0xpbmsoIHVybCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoICdOb3QgYSBNeUluc3RhbnRzIGxpbmsnICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbWF0Y2hlcyA9IHVybC5tYXRjaCggL1xcL2luc3RhbnRcXC8oW14vXSspXFwvPy8gKTtcclxuICAgIGlmICggIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAyICkge1xyXG4gICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgc291bmROYW1lID0gbWF0Y2hlc1sxXTtcclxuXHJcbiAgICBjb25zdCBzYW5pdGl6ZWRTb3VuZE5hbWUgPSBzb3VuZE5hbWUucmVwbGFjZSggLy1cXGQrJC8sICcnICk7XHJcblxyXG4gICAgY29uc3QgZG93bmxvYWRMaW5rID0gYGh0dHBzOi8vd3d3Lm15aW5zdGFudHMuY29tL21lZGlhL3NvdW5kcy8keyBzYW5pdGl6ZWRTb3VuZE5hbWUgfS5tcDNgO1xyXG4gICAgcmV0dXJuIGRvd25sb2FkTGluaztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc015SW5zdGFudHNMaW5rKCB1cmw6IHN0cmluZyApIHtcclxuICAgIHJldHVybiB1cmwuaW5jbHVkZXMoICdteWluc3RhbnRzLmNvbScgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBhZGRNZWRpYUxpc3QoIGFyck1lZGlhU3JjOiBTb3VuZGJvYXJkSXRlbVBvc3NpYmxlSW5wdXRbXSApOiBQcm9taXNlPFNvdW5kYm9hcmRDb21wb25lbnRbXT4ge1xyXG4gICAgbGV0IG1lZGlhQ29tcG9uZW50czogU291bmRib2FyZENvbXBvbmVudFtdID0gW107XHJcblxyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgYXJyTWVkaWFTcmMubGVuZ3RoOyArK2kgKSB7XHJcbiAgICAgIGNvbnN0IHNyY09wdGlvbnMgPSB0aGlzLmdldFNvdXJjZUlucHV0RGVmYXVsdE9wdGlvbnMoIGFyck1lZGlhU3JjW2ldICk7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGF3YWl0IHRoaXMuYWRkTWVkaWEoIHNyY09wdGlvbnMgKTtcclxuICAgICAgbWVkaWFDb21wb25lbnRzLnB1c2goIGNvbXBvbmVudCApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtZWRpYUNvbXBvbmVudHM7XHJcbiAgfVxyXG5cclxuICBnZXRDdXN0b21NZWRpYUNvbXBvbmVudE1lZGlhT3B0aW9ucyggbWVkaWFPcHRpb25zOiBTb3VuZGJvYXJkSXRlbU9wdGlvbnMgKTogU291bmRib2FyZEl0ZW1PcHRpb25zIHtcclxuICAgIGNvbnN0IHJlc3VsdDogU291bmRib2FyZEl0ZW1PcHRpb25zID0gc3RydWN0dXJlZENsb25lKCBtZWRpYU9wdGlvbnMgKTtcclxuXHJcbiAgICBpZiAoIFNvdW5kYm9hcmQuaXNNeUluc3RhbnRzTGluayggbWVkaWFPcHRpb25zLnNyYyApICkge1xyXG4gICAgICByZXN1bHQuc3JjID0gU291bmRib2FyZC5nZXRJbnN0YW50TVAzRG93bmxvYWRMaW5rKCBtZWRpYU9wdGlvbnMuc3JjICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY29tcG9uZW50cygpOiBTb3VuZGJvYXJkQ29tcG9uZW50W10ge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oIHRoaXMuX3NldE1lZGlhQ29udHJvbGxlcnMgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBhZGRNZWRpYSggbWVkaWFPcHRpb25zOiBTb3VuZGJvYXJkSXRlbU9wdGlvbnMsIGluZGV4PzogbnVtYmVyICk6IFByb21pc2U8U291bmRib2FyZENvbXBvbmVudD4ge1xyXG4gICAgbGV0IGNvbXBvbmVudFJlc3VsdDogU291bmRib2FyZENvbXBvbmVudDtcclxuXHJcbiAgICBpZiAoIGlzVmFsaWRZb3V0dWJlVXJsT3JJZCggbWVkaWFPcHRpb25zLnNyYyApICkge1xyXG4gICAgICBjb21wb25lbnRSZXN1bHQgPSBhd2FpdCB0aGlzLmFkZElmcmFtZSggdGhpcy5jb250YWluZXIuaWQsIG1lZGlhT3B0aW9ucywgaW5kZXggKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbXBvbmVudFJlc3VsdCA9IGF3YWl0IHRoaXMuYWRkTWVkaWFDb21wb25lbnQoIHRoaXMuY29udGFpbmVyLmlkLCB0aGlzLmdldEN1c3RvbU1lZGlhQ29tcG9uZW50TWVkaWFPcHRpb25zKCBtZWRpYU9wdGlvbnMgKSwgaW5kZXggKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldENvbXBvbmVudE5hbWVCeUlkKCBjb21wb25lbnRSZXN1bHQubWVkaWEuaWQsIGNvbXBvbmVudFJlc3VsdC5tZWRpYS5uYW1lICk7XHJcblxyXG4gICAgcmV0dXJuIGNvbXBvbmVudFJlc3VsdDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U291cmNlSW5wdXREZWZhdWx0T3B0aW9ucyggaW5wdXQ6IFNvdW5kYm9hcmRJdGVtUG9zc2libGVJbnB1dCApOiBTb3VuZGJvYXJkSXRlbU9wdGlvbnMge1xyXG4gICAgaWYgKCB0eXBlb2YgKCBpbnB1dCApID09PSAnc3RyaW5nJyApIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzcmM6IGlucHV0LFxyXG4gICAgICAgIGF1dG9SZXBlYXRPblBsYXk6IHRydWUsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGlucHV0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZFlvdXR1YmVMaXN0KCBhcnJWaWRlb09wdGlvbnM6IFNvdW5kYm9hcmRJdGVtUG9zc2libGVJbnB1dFtdID0gW10gKSB7XHJcbiAgICBjb25zdCBhcnJNZWRpYUlucHV0cyA9IGFyclZpZGVvT3B0aW9ucy5tYXAoIHNyYyA9PiB0aGlzLmdldFNvdXJjZUlucHV0RGVmYXVsdE9wdGlvbnMoIHNyYyApICk7XHJcbiAgICBhcnJNZWRpYUlucHV0cy5mb3JFYWNoKCB2aWRlb0lkID0+IHtcclxuICAgICAgdGhpcy5hZGRJZnJhbWUoIGAkeyB0aGlzLmNvbnRhaW5lci5pZCB9SWZyYW1lVGFibGVJdGVtJHsgdmlkZW9JZC5zcmMgfWAsIHZpZGVvSWQgKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGRBdWRpb0xpc3QoIGFyck1lZGlhT3B0aW9uczogU291bmRib2FyZEl0ZW1Qb3NzaWJsZUlucHV0W10gPSBbXSApIHtcclxuICAgIGNvbnN0IGFyck1lZGlhSW5wdXRzID0gYXJyTWVkaWFPcHRpb25zLm1hcCggc3JjID0+IHRoaXMuZ2V0U291cmNlSW5wdXREZWZhdWx0T3B0aW9ucyggc3JjICkgKTtcclxuICAgIGFyck1lZGlhSW5wdXRzLmZvckVhY2goIG1lZGlhSW5wdXQgPT4gdGhpcy5hZGRNZWRpYUNvbXBvbmVudCggdGhpcy5jb250YWluZXIuaWQsIHRoaXMuZ2V0Q3VzdG9tTWVkaWFDb21wb25lbnRNZWRpYU9wdGlvbnMoIG1lZGlhSW5wdXQgKSApICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZENvbXBvbmVudEludGVyYWN0aW9uQmxvY2tFdmVudCggY29tcG9uZW50OiBTb3VuZGJvYXJkQ29tcG9uZW50LCBtZWRpYU9wdGlvbnM6IFNvdW5kYm9hcmRJdGVtT3B0aW9ucyApIHtcclxuICAgIGNvbXBvbmVudC5tZWRpYS5hZGRFdmVudExpc3RlbmVyKCAnb25pbnRlcmFjdGlvbmJsb2NrZWQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbXBvbmVudC5tZWRpYS5jdXJyZW50VGltZSA9IDA7XHJcbiAgICAgIGlmICggbWVkaWFPcHRpb25zLmF1dG9SZXBlYXRPblBsYXkgKSB7XHJcbiAgICAgICAgY29tcG9uZW50Lm1lZGlhLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudC5tZWRpYS50b2dnbGUoKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldElucHV0QnlTb3VyY2UoIHNyYzogc3RyaW5nICkge1xyXG4gICAgaWYgKCAhdGhpcy5fbWFwSW5wdXRCeUNvbXBvbmVudElkLmhhcyggc3JjICkgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJFbGVtZW50IHNyYyBub3Qgb24gc291bmQgdGFibGUuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fbWFwSW5wdXRCeUNvbXBvbmVudElkLmdldCggc3JjICkhO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvbXBvbmVudHNDb250cm9sbGVycygpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKCB0aGlzLl9zZXRNZWRpYUNvbnRyb2xsZXJzICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEVsZW1lbnRNZWRpYUNvbnRhaW5lciggY29udGFpbmVySWQ6IHN0cmluZywgbWVkaWFOYW1lOiBzdHJpbmcgPSBcIlwiICkge1xyXG4gICAgY29uc3QgZWxlbWVudE1lZGlhQ29udGFpbmVyID0gZ2V0RWxlbWVudEZyb21IVE1MKCB0ZW1wbGF0ZVNvdW5kYm9hcmRJdGVtQ29udGFpbmVyKCBjb250YWluZXJJZCwgbWVkaWFOYW1lICkgKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGVsZW1lbnRNZWRpYUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAuLi50aGlzLmNvbnRhaW5lcnNDbGFzc0xpc3QgKTtcclxuICAgIHJldHVybiBlbGVtZW50TWVkaWFDb250YWluZXI7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIHNldENvbXBvbmVudE5hbWVCeUlkKCBjb21wb25lbnRJZDogc3RyaW5nLCBjb21wb25lbnROYW1lOiBzdHJpbmcgKSB7XHJcbiAgICBjb25zdCBjb21wb25lbnROYW1lRWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEl0ZW1OYW1lQ29udGFpbmVyQnlJZCggY29tcG9uZW50SWQgKTtcclxuICAgIGNvbXBvbmVudE5hbWVFbGVtZW50LmlubmVySFRNTCA9IHJlcGxhY2VQZXJjZW50RW5jb2RpbmcoIGNvbXBvbmVudE5hbWUgKTtcclxuICAgIGNvbXBvbmVudE5hbWVFbGVtZW50LnNldEF0dHJpYnV0ZSggJ3RpdGxlJywgcmVwbGFjZVBlcmNlbnRFbmNvZGluZyggY29tcG9uZW50TmFtZSApICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEVsZW1lbnRJdGVtTmFtZUNvbnRhaW5lckJ5SWQoIGl0ZW1JZDogc3RyaW5nICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmdldCggaXRlbUlkICk7XHJcbiAgICBpZiAoICFjb21wb25lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJDb21wb25lbnQgZG9lcyBub3QgZXhpc3QuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlbGVtZW50TWVkaWFOYW1lID0gY29tcG9uZW50Lm1lZGlhQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICcuc291bmQtdGFibGUtbWVkaWEtbmFtZScgKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGlmICggIWVsZW1lbnRNZWRpYU5hbWUgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJNZWRpYSBuYW1lIGZvciB0aGlzIGVsZW1lbnQgd2FzIHJlbW92ZWQuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZWxlbWVudE1lZGlhTmFtZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXROZXdNZWRpYUNvbXBvbmVudElkKCBjb250YWluZXJJZDogc3RyaW5nLCBtZWRpYU9wdGlvbnM6IFNvdW5kYm9hcmRJdGVtT3B0aW9ucyApIHtcclxuICAgIHJldHVybiByZW1vdmVTcGVjaWFsQ2hhcmFjdGVycyggY29udGFpbmVySWQgKyAnQXVkaW9FbGVtZW50JyArIHJlbW92ZUZpbGVQYXRoKCBtZWRpYU9wdGlvbnMuc3JjICkgKyBjcnlwdG8ucmFuZG9tVVVJRCgpICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0TmV3WW91dHViZUlmcmFtZUlkKCBjb250YWluZXJJZDogc3RyaW5nLCBtZWRpYU9wdGlvbnM6IFNvdW5kYm9hcmRJdGVtT3B0aW9ucyApIHtcclxuICAgIHJldHVybiByZW1vdmVTcGVjaWFsQ2hhcmFjdGVycyggY29udGFpbmVySWQgKyAnWW91dHViZUlmcmFtZScgKyByZW1vdmVGaWxlUGF0aCggbWVkaWFPcHRpb25zLnNyYyApICsgY3J5cHRvLnJhbmRvbVVVSUQoKSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhZGRNZWRpYUNvbXBvbmVudCggY29udGFpbmVySWQ6IHN0cmluZywgbWVkaWFPcHRpb25zOiBTb3VuZGJvYXJkSXRlbU9wdGlvbnMsIGluZGV4PzogbnVtYmVyICk6IFByb21pc2U8U291bmRib2FyZENvbXBvbmVudD4ge1xyXG4gICAgY29uc3QgYXVkaW9FbGVtZW50SWQgPSB0aGlzLmdldE5ld01lZGlhQ29tcG9uZW50SWQoIGNvbnRhaW5lcklkLCBtZWRpYU9wdGlvbnMgKTtcclxuICAgIGlmICggdGhpcy5fbWFwTWVkaWFDb250cm9sbGVyc0J5SWQuaGFzKCBhdWRpb0VsZW1lbnRJZCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQSBjb21wb25lbnQgd2l0aCB0aGlzIGlkIGFscmVhZHkgZXhpc3RzOiBcIiArIGF1ZGlvRWxlbWVudElkICk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5kZXggPSBpbmRleCA/PyB0aGlzLmxlbmd0aDtcclxuICAgIGNvbnN0IGF1ZGlvQ29udGFpbmVyID0gdGhpcy5nZXRFbGVtZW50TWVkaWFDb250YWluZXIoIGNvbnRhaW5lcklkICk7XHJcbiAgICBhdWRpb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAnbG9hZGluZycsICdub3QtcmVhZHknICk7XHJcbiAgICBpbnNlcnRFbGVtZW50QXRJbmRleCggdGhpcy5jb250YWluZXIsIGF1ZGlvQ29udGFpbmVyLCBpbmRleCApO1xyXG5cclxuICAgIGNvbnN0IG1lZGlhQ29tcG9uZW50ID0gYXdhaXQgTWVkaWFDb21wb25lbnQuY3JlYXRlTWVkaWFDb21wb25lbnQoIHtcclxuICAgICAgc3JjOiBtZWRpYU9wdGlvbnMuc3JjLFxyXG4gICAgICBtZWRpYUVsZW1lbnRJZDogYXVkaW9FbGVtZW50SWQsXHJcbiAgICAgIGJsb2NrSW50ZXJhY3Rpb246IHRydWUsXHJcbiAgICAgIGNvbnRhaW5lcjogYXVkaW9Db250YWluZXJcclxuICAgIH0gKTtcclxuXHJcbiAgICBhd2FpdCBtZWRpYUNvbXBvbmVudC5sb2FkKCk7XHJcblxyXG4gICAgbWVkaWFDb21wb25lbnQuc3RhcnRzQXQgPSBtZWRpYU9wdGlvbnMuc3RhcnRzQXQgPz8gMDtcclxuXHJcbiAgICBjb25zdCBpbnB1dEluZm8gPSB0aGlzLmFkZElucHV0RWxlbWVudFRvQ29udGFpbmVyKCBhdWRpb0NvbnRhaW5lciwgbWVkaWFDb21wb25lbnQsIG1lZGlhQ29tcG9uZW50LmlkLCBtZWRpYU9wdGlvbnMuc3JjICk7XHJcbiAgICBjb25zdCBzb3VuZGJvYXJkTWVkaWFDb21wb25lbnQ6IFNvdW5kYm9hcmRDb21wb25lbnQgPSB7XHJcbiAgICAgIG1lZGlhOiBtZWRpYUNvbXBvbmVudCxcclxuICAgICAgaW5wdXQ6IGlucHV0SW5mby5pbnB1dCxcclxuICAgICAgaW5wdXRDb250YWluZXI6IGlucHV0SW5mby5jb250YWluZXIsXHJcbiAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IGlucHV0SW5mby5idXR0b25FbGVtZW50LFxyXG4gICAgICBtZWRpYUNvbnRhaW5lcjogYXVkaW9Db250YWluZXIsXHJcbiAgICAgIGl0ZW1PcHRpb25zOiBtZWRpYU9wdGlvbnMsXHJcbiAgICAgIGluZGV4OiBpbmRleFxyXG4gICAgfTtcclxuXHJcbiAgICBtZWRpYUNvbXBvbmVudC5jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3NvdW5kLXRhYmxlLWl0ZW0nLCAuLi4gdGhpcy5pdGVtQ2xhc3NMaXN0ICk7XHJcblxyXG4gICAgdGhpcy5fc2V0TWVkaWFDb250cm9sbGVycy5hZGQoIHNvdW5kYm9hcmRNZWRpYUNvbXBvbmVudCApO1xyXG4gICAgdGhpcy5fbWFwTWVkaWFDb250cm9sbGVyc0J5SWQuc2V0KCBtZWRpYUNvbXBvbmVudC5pZCwgc291bmRib2FyZE1lZGlhQ29tcG9uZW50ICk7XHJcbiAgICB0aGlzLmFkZENvbXBvbmVudEludGVyYWN0aW9uQmxvY2tFdmVudCggc291bmRib2FyZE1lZGlhQ29tcG9uZW50LCBtZWRpYU9wdGlvbnMgKTtcclxuXHJcbiAgICB0aGlzLnNldENvbXBvbmVudE5hbWVCeUlkKCBtZWRpYUNvbXBvbmVudC5pZCwgbWVkaWFDb21wb25lbnQubmFtZSApO1xyXG5cclxuICAgIGF1ZGlvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICdsb2FkaW5nJywgJ25vdC1yZWFkeScgKTtcclxuXHJcbiAgICByZXR1cm4gc291bmRib2FyZE1lZGlhQ29tcG9uZW50O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhZGRJZnJhbWUoIGNvbnRhaW5lcklkOiBzdHJpbmcsIG1lZGlhT3B0aW9uczogU291bmRib2FyZEl0ZW1PcHRpb25zLCBpbmRleD86IG51bWJlciApOiBQcm9taXNlPFNvdW5kYm9hcmRDb21wb25lbnQ+IHtcclxuICAgIGNvbnN0IGlmcmFtZUlkID0gdGhpcy5nZXROZXdZb3V0dWJlSWZyYW1lSWQoIGNvbnRhaW5lcklkLCBtZWRpYU9wdGlvbnMgKTtcclxuICAgIGlmICggdGhpcy5fbWFwTWVkaWFDb250cm9sbGVyc0J5SWQuaGFzKCBpZnJhbWVJZCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQSBjb21wb25lbnQgd2l0aCB0aGlzIGlkIGFscmVhZHkgZXhpc3RzOiBcIiArIGlmcmFtZUlkICk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5kZXggPSBpbmRleCA/PyB0aGlzLmxlbmd0aDtcclxuICAgIGNvbnN0IGVsZW1lbnRJZnJhbWVDb250YWluZXIgPSB0aGlzLmdldEVsZW1lbnRNZWRpYUNvbnRhaW5lciggY29udGFpbmVySWQgKTtcclxuICAgIGVsZW1lbnRJZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ2xvYWRpbmcnLCAnbm90LXJlYWR5JyApO1xyXG4gICAgaW5zZXJ0RWxlbWVudEF0SW5kZXgoIHRoaXMuY29udGFpbmVyLCBlbGVtZW50SWZyYW1lQ29udGFpbmVyLCBpbmRleCApO1xyXG5cclxuICAgIGNvbnN0IG5ld0lmcmFtZSA9IG5ldyBZb3V0dWJlSWZyYW1lKCB7XHJcbiAgICAgIGlmcmFtZUlkOiBpZnJhbWVJZCxcclxuICAgICAgdmlkZW9JZDogbWVkaWFPcHRpb25zLnNyYyxcclxuICAgICAgcGFyZW50RWxlbWVudDogZWxlbWVudElmcmFtZUNvbnRhaW5lcixcclxuICAgICAgc3RhcnRzQXQ6IG1lZGlhT3B0aW9ucy5zdGFydHNBdCA/PyAwLFxyXG4gICAgICBjbGFzc0xpc3Q6IFsnc291bmQtdGFibGUtaXRlbScsICdvdmVyZmxvdy1oaWRkZW4nLCAuLi4gdGhpcy5pdGVtQ2xhc3NMaXN0XSxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogdHJ1ZSxcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dEluZm8gPSB0aGlzLmFkZElucHV0RWxlbWVudFRvQ29udGFpbmVyKCBlbGVtZW50SWZyYW1lQ29udGFpbmVyLCBuZXdJZnJhbWUsIG5ld0lmcmFtZS5pZCwgbWVkaWFPcHRpb25zLnNyYyApO1xyXG4gICAgY29uc3Qgc291bmRib2FyZFlvdXR1YmVDb21wb25lbnQ6IFNvdW5kYm9hcmRDb21wb25lbnQgPSB7XHJcbiAgICAgIG1lZGlhOiBuZXdJZnJhbWUsXHJcbiAgICAgIGlucHV0OiBpbnB1dEluZm8uaW5wdXQsXHJcbiAgICAgIGlucHV0Q29udGFpbmVyOiBpbnB1dEluZm8uY29udGFpbmVyLFxyXG4gICAgICBidXR0b25SZW1vdmVJdGVtOiBpbnB1dEluZm8uYnV0dG9uRWxlbWVudCxcclxuICAgICAgbWVkaWFDb250YWluZXI6IGVsZW1lbnRJZnJhbWVDb250YWluZXIsXHJcbiAgICAgIGl0ZW1PcHRpb25zOiBtZWRpYU9wdGlvbnMsXHJcbiAgICAgIGluZGV4OiBpbmRleFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9zZXRNZWRpYUNvbnRyb2xsZXJzLmFkZCggc291bmRib2FyZFlvdXR1YmVDb21wb25lbnQgKTtcclxuICAgIHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLnNldCggbmV3SWZyYW1lLmlkLCBzb3VuZGJvYXJkWW91dHViZUNvbXBvbmVudCApO1xyXG5cclxuICAgIGF3YWl0IFlvdXR1YmVJZnJhbWUuYnVpbGRTaW5nbGVJZnJhbWUoIG5ld0lmcmFtZSApO1xyXG5cclxuICAgIHRoaXMuYWRkQ29tcG9uZW50SW50ZXJhY3Rpb25CbG9ja0V2ZW50KCBzb3VuZGJvYXJkWW91dHViZUNvbXBvbmVudCwgbWVkaWFPcHRpb25zICk7XHJcbiAgICBcclxuICAgIHRoaXMuc2V0Q29tcG9uZW50TmFtZUJ5SWQoIGlmcmFtZUlkLCBuZXdJZnJhbWUudmlkZW9OYW1lICk7XHJcbiAgICBcclxuICAgIGVsZW1lbnRJZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ2xvYWRpbmcnLCAnbm90LXJlYWR5JyApO1xyXG5cclxuICAgIHJldHVybiBzb3VuZGJvYXJkWW91dHViZUNvbXBvbmVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjaGFuZ2VDb21wb25lbnRTb3VyY2VUb0lucHV0VmFsdWUoIGNvbXBvbmVudElkOiBzdHJpbmcgKTogUHJvbWlzZTxTb3VuZGJvYXJkQ29tcG9uZW50PiB7XHJcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLl9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZC5nZXQoIGNvbXBvbmVudElkICkhO1xyXG4gICAgaWYgKCAhY29tcG9uZW50ICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQ29tcG9uZW50IGlkIGRvZXMgbm90IGV4aXN0XCIgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jaGFuZ2VDb21wb25lbnRTb3VyY2UoIGNvbXBvbmVudElkLCBjb21wb25lbnQuaW5wdXQudmFsdWUgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBjaGFuZ2VDb21wb25lbnRTb3VyY2UoIGNvbXBvbmVudElkOiBzdHJpbmcsIG5ld1NvdXJjZTogc3RyaW5nICk6IFByb21pc2U8U291bmRib2FyZENvbXBvbmVudD4ge1xyXG4gICAgbGV0IGNvbXBvbmVudCA9IHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmdldCggY29tcG9uZW50SWQgKSE7XHJcbiAgICBpZiAoICFjb21wb25lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJDb21wb25lbnQgaWQgZG9lcyBub3QgZXhpc3RcIiApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLyBJZiBpdCdzIGZyb20geW91dHViZSBwcmVzZXJ2ZSB0aGUgcGxheWVyIGFuZCBjaGFuZ2UgdGhlIHNvdXJjZVxyXG4gICAgaWYgKCBpc1ZhbGlkWW91dHViZVVybE9ySWQoIG5ld1NvdXJjZSApICkge1xyXG4gICAgICBpZiAoIGNvbXBvbmVudC5tZWRpYSBpbnN0YW5jZW9mIFlvdXR1YmVJZnJhbWUgKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jaGFuZ2VZb3V0dWJlSWZyYW1lU291cmNlKCBjb21wb25lbnRJZCwgbmV3U291cmNlICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnRCeUlkKCBjb21wb25lbnRJZCApO1xyXG4gICAgICAgIGNvbXBvbmVudCA9IGF3YWl0IHRoaXMuYWRkTWVkaWEoIHtcclxuICAgICAgICAgIHNyYzogbmV3U291cmNlLFxyXG4gICAgICAgICAgYXV0b1JlcGVhdE9uUGxheTogY29tcG9uZW50Lml0ZW1PcHRpb25zLmF1dG9SZXBlYXRPblBsYXlcclxuICAgICAgICB9LCBjb21wb25lbnQuaW5kZXggKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnRCeUlkKCBjb21wb25lbnRJZCApO1xyXG4gICAgICBjb21wb25lbnQgPSBhd2FpdCB0aGlzLmFkZE1lZGlhKCB7XHJcbiAgICAgICAgc3JjOiBuZXdTb3VyY2UsXHJcbiAgICAgICAgYXV0b1JlcGVhdE9uUGxheTogY29tcG9uZW50Lml0ZW1PcHRpb25zLmF1dG9SZXBlYXRPblBsYXlcclxuICAgICAgfSwgY29tcG9uZW50LmluZGV4ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fbWFwTWVkaWFDb250cm9sbGVyc0J5SWQuZGVsZXRlKCBjb21wb25lbnRJZCApO1xyXG4gICAgdGhpcy5fbWFwSW5wdXRCeUNvbXBvbmVudElkLmRlbGV0ZSggY29tcG9uZW50SWQgKTtcclxuXHJcbiAgICB0aGlzLl9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZC5zZXQoIGNvbXBvbmVudC5tZWRpYS5pZCwgY29tcG9uZW50ICk7XHJcbiAgICB0aGlzLl9tYXBJbnB1dEJ5Q29tcG9uZW50SWQuc2V0KCBjb21wb25lbnQubWVkaWEuaWQsIGNvbXBvbmVudC5pbnB1dCApO1xyXG5cclxuICAgIHRoaXMuc2V0Q29tcG9uZW50TmFtZUJ5SWQoIGNvbXBvbmVudC5tZWRpYS5pZCwgY29tcG9uZW50Lm1lZGlhLm5hbWUgKTtcclxuXHJcbiAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBjaGFuZ2VNZWRpYUNvbXBvbmVudFNvdXJjZSggY29tcG9uZW50SWQ6IHN0cmluZywgbmV3VmFsdWU6IHN0cmluZyApOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmdldCggY29tcG9uZW50SWQgKSE7XHJcbiAgICBpZiAoICFjb21wb25lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJDb21wb25lbnQgaWQgZG9lcyBub3QgZXhpc3RcIiApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggISggY29tcG9uZW50Lm1lZGlhIGluc3RhbmNlb2YgTWVkaWFDb21wb25lbnQgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgb3BlcmF0aW9uXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnQuaXRlbU9wdGlvbnMuc3JjID0gbmV3VmFsdWU7XHJcbiAgICBjb25zdCBuZXdBdWRpb09wdGlvbnM6IFNvdW5kYm9hcmRJdGVtT3B0aW9ucyA9IHRoaXMuZ2V0Q3VzdG9tTWVkaWFDb21wb25lbnRNZWRpYU9wdGlvbnMoIGNvbXBvbmVudC5pdGVtT3B0aW9ucyApO1xyXG4gICAgY29uc3QgbmV3SWQgPSB0aGlzLmdldE5ld01lZGlhQ29tcG9uZW50SWQoIGNvbXBvbmVudC5tZWRpYUNvbnRhaW5lci5pZCwgbmV3QXVkaW9PcHRpb25zICk7XHJcblxyXG4gICAgaWYgKCB0aGlzLl9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZC5oYXMoIG5ld0lkICkgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJBIGNvbXBvbmVudCB3aXRoIHRoaXMgaWQgYWxyZWFkeSBleGlzdHM6IFwiICsgbmV3SWQgKTtcclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBjb21wb25lbnQubWVkaWEuY2hhbmdlU291cmNlKCBuZXdBdWRpb09wdGlvbnMuc3JjLCBuZXdJZCApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBjaGFuZ2VZb3V0dWJlSWZyYW1lU291cmNlKCBjb21wb25lbnRJZDogc3RyaW5nLCBuZXdWYWx1ZTogc3RyaW5nICkge1xyXG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5fbWFwTWVkaWFDb250cm9sbGVyc0J5SWQuZ2V0KCBjb21wb25lbnRJZCApITtcclxuICAgIGlmICggIWNvbXBvbmVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkNvbXBvbmVudCBpZCBkb2VzIG5vdCBleGlzdFwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhKCBjb21wb25lbnQubWVkaWEgaW5zdGFuY2VvZiBZb3V0dWJlSWZyYW1lICkgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIG9wZXJhdGlvblwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhaXNWYWxpZFlvdXR1YmVVcmxPcklkKCBuZXdWYWx1ZSApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCB5b3V0dWJlIFVSTFwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50Lml0ZW1PcHRpb25zLnNyYyA9IG5ld1ZhbHVlO1xyXG4gICAgY29uc3QgbmV3SWQgPSB0aGlzLmdldE5ld1lvdXR1YmVJZnJhbWVJZCggY29tcG9uZW50Lm1lZGlhQ29udGFpbmVyLmlkLCBjb21wb25lbnQuaXRlbU9wdGlvbnMgKTtcclxuXHJcbiAgICBpZiAoIHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmhhcyggbmV3SWQgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkEgY29tcG9uZW50IHdpdGggdGhpcyBpZCBhbHJlYWR5IGV4aXN0czogXCIgKyBuZXdJZCApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGNvbXBvbmVudC5tZWRpYS5jaGFuZ2VWaWRlbygge1xyXG4gICAgICBpZnJhbWVJZDogbmV3SWQsXHJcbiAgICAgIHZpZGVvSWQ6IG5ld1ZhbHVlLFxyXG4gICAgICBzdGFydHNBdDogMFxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRJbnB1dEVsZW1lbnRUb0NvbnRhaW5lciggY29udGFpbmVyOiBIVE1MRWxlbWVudCwgY29tcG9uZW50TWVkaWE6IE1lZGlhUGxheWVyLCBjb21wb25lbnRJZDogc3RyaW5nLCBpbnB1dFNvdXJjZTogc3RyaW5nICkge1xyXG4gICAgY29uc3QgaW5wdXRFbGVtZW50Q29udGFpbmVyID0gZ2V0RWxlbWVudEZyb21IVE1MKCB0ZW1wbGF0ZVNvdW5kYm9hcmRJbnB1dCggY29tcG9uZW50SWQsICdTb3VyY2UnLCBpbnB1dFNvdXJjZSApICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdiZWZvcmVlbmQnLCBpbnB1dEVsZW1lbnRDb250YWluZXIgKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJy5zb3VuZC10YWJsZS1pbnB1dCcgKSEgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJy5zb3VuZC10YWJsZS1yZW1vdmUtaXRlbS1idXR0b24nICkhIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGFyckNvbXBvbmVudHNFeGNlcHRUaGlzID0gdGhpcy5jb21wb25lbnRzLmZpbHRlciggYyA9PiBjLm1lZGlhLmlkICE9PSBjb21wb25lbnRNZWRpYS5pZCApO1xyXG5cclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnaW5wdXQnLCBpbnB1dEVsZW1lbnQudmFsdWUsIGNvbXBvbmVudE1lZGlhLCBhcnJDb21wb25lbnRzRXhjZXB0VGhpcyApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmlucHV0JywgaW5wdXRFbGVtZW50LnZhbHVlLCBjb21wb25lbnRNZWRpYSwgYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMgKTtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnaW5wdXRjaGFuZ2UnLCBpbnB1dEVsZW1lbnQudmFsdWUsIGNvbXBvbmVudE1lZGlhLCBhcnJDb21wb25lbnRzRXhjZXB0VGhpcyApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmlucHV0Y2hhbmdlJywgaW5wdXRFbGVtZW50LnZhbHVlLCBjb21wb25lbnRNZWRpYSwgYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcclxuICAgICAgY29uc3QgYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMgPSB0aGlzLmNvbXBvbmVudHMuZmlsdGVyKCBjID0+IGMubWVkaWEuaWQgIT09IGNvbXBvbmVudE1lZGlhLmlkICk7XHJcbiAgICAgIHRoaXMucmVtb3ZlSXRlbSggY29tcG9uZW50TWVkaWEgKTtcclxuXHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ3JlbW92ZWVsZW1lbnQnLCBpbnB1dEVsZW1lbnQudmFsdWUsIGNvbXBvbmVudE1lZGlhLCBhcnJDb21wb25lbnRzRXhjZXB0VGhpcyApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnJlbW92ZWVsZW1lbnQnLCBpbnB1dEVsZW1lbnQudmFsdWUsIGNvbXBvbmVudE1lZGlhLCBhcnJDb21wb25lbnRzRXhjZXB0VGhpcyApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdyZW1vdmVpdGVtJywgaW5wdXRFbGVtZW50LnZhbHVlLCBjb21wb25lbnRNZWRpYSwgYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMgKTtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25yZW1vdmVpdGVtJywgaW5wdXRFbGVtZW50LnZhbHVlLCBjb21wb25lbnRNZWRpYSwgYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMgKTtcclxuICAgIH0gKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dDogaW5wdXRFbGVtZW50LFxyXG4gICAgICBjb250YWluZXI6IGlucHV0RWxlbWVudENvbnRhaW5lcixcclxuICAgICAgYnV0dG9uRWxlbWVudDogYnV0dG9uRWxlbWVudFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNvbXBvbmVudCggY29tcG9uZW50OiBTb3VuZGJvYXJkQ29tcG9uZW50ICkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQ29tcG9uZW50QnlJZCggY29tcG9uZW50Lm1lZGlhLmlkICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVJdGVtKCBjb21wb25lbnQ6IE1lZGlhUGxheWVyICkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlQ29tcG9uZW50QnlJZCggY29tcG9uZW50LmlkICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDb21wb25lbnRCeUlkKCBpdGVtSWQ6IHN0cmluZyApIHtcclxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmdldCggaXRlbUlkICk7XHJcbiAgICBpZiAoICFjb21wb25lbnQgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnQubWVkaWEuZGVzdHJveSgpO1xyXG4gICAgY29tcG9uZW50Lm1lZGlhQ29udGFpbmVyLnJlbW92ZSgpO1xyXG5cclxuICAgIHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmRlbGV0ZSggaXRlbUlkICk7XHJcbiAgICB0aGlzLl9tYXBJbnB1dEJ5Q29tcG9uZW50SWQuZGVsZXRlKCBpdGVtSWQgKTtcclxuICAgIHRoaXMuX3NldE1lZGlhQ29udHJvbGxlcnMuZGVsZXRlKCBjb21wb25lbnQgKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudENvbnRhaW5lciIsIl9lbGVtZW50IiwidGVtcGxhdGVFbGVtZW50IiwiY29tcG9uZW50TmFtZSIsInN1YkNvbXBvbmVudENvdW50QnlOYW1lIiwiTWFwIiwic3ViQ29tcG9uZW50cyIsImNvbnN0cnVjdG9yIiwidGVtcGxhdGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiRXJyb3IiLCJ0aGlzIiwiY3JlYXRlRWxlbWVudCIsImNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJnZXRUZW1wbGF0ZUNsb25lTm9kZXMiLCJjbG9uZU5vZGUiLCJjaGlsZHJlbiIsImJ1aWxkU2luZ2xlU3ViQ29tcG9uZW50IiwiY29tcG9uZW50IiwicGFyZW50IiwiaGFzIiwic2V0IiwiY29tcG9uZW50Q291bnQiLCJnZXQiLCJidWlsZCIsImNhcGl0YWxpemVGaXJzdExldHRlciIsImJ1aWxkT25Cb2R5IiwiZWxlbWVudElkIiwiaWQiLCJpdGVtIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiYnVpbGRTdWJDb21wb25lbnRzIiwiY29udGFpbmVyIiwiTWVkaWFDb21wb25lbnQiLCJzcmMiLCJtZWRpYUVsZW1lbnQiLCJfY29udGFpbmVyIiwiX2lzUmVhZHkiLCJfc3RhcnRzQXQiLCJfYmxvY2tJbnRlcmFjdGlvbiIsIl9kaXZCbG9ja0ludGVyYWN0aW9uIiwib3B0aW9ucyIsInN1cGVyIiwiYmxvY2tJbnRlcmFjdGlvbiIsIm1lZGlhRWxlbWVudElkIiwic3RhcnRzQXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwic3RvcCIsImdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJzZXR1cEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJzZXRFbGVtZW50c0F0dHJpYnV0ZXMiLCJzZXRBdHRyaWJ1dGUiLCJkaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJsb2FkIiwiY2FsbEV2ZW50c0J5TmFtZSIsImRlc3Ryb3kiLCJyZW1vdmUiLCJpc1JlYWR5IiwiaXNQbGF5aW5nIiwicGF1c2VkIiwidmFsIiwiX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QiLCJuYW1lIiwicmVwbGFjZVBlcmNlbnRFbmNvZGluZyIsInJlbW92ZUZpbGVQYXRoIiwic2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQiLCJkaXZCbG9ja0ludGVyYWN0aW9uIiwiZmlsZU5hbWUiLCJxdWVyeVNlbGVjdG9yIiwidCIsInBsYXllckN1cnJlbnRUaW1lIiwiY3VycmVudFRpbWUiLCJwbGF5ZXJEdXJhdGlvbiIsImR1cmF0aW9uIiwidGltZUNvbnNpZGVyaW5nU3RhcnQiLCJjbGFtcCIsInNlZWsiLCJzb3VyY2VFbGVtZW50cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGFuZ2VTb3VyY2UiLCJuZXdJZCIsImlubmVySFRNTCIsImF1ZGlvU291cmNlRWxlbWVudEhUTUwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlYWR5U3RhdGUiLCJIVE1MTWVkaWFFbGVtZW50IiwiSEFWRV9NRVRBREFUQSIsImVycm9yIiwicGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzIiwicGxheVByb21pc2UiLCJwbGF5IiwidW5kZWZpbmVkIiwidGhlbiIsIl8iLCJjYXRjaCIsInNldENsYXNzZXNQbGF5aW5nIiwicGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cyIsInBhdXNlIiwic2V0Q2xhc3Nlc1BhdXNlZCIsInRvZ2dsZSIsIm11dGUiLCJ2b2x1bWUiLCJ1bm11dGUiLCJzZWVrVGltZSIsIl9yZWxvYWRCdWZmZXIiLCJnZXRFbGVtZW50RGltZW5zaW9ucyIsIm1lZGlhQ29tcG9uZW50IiwiZWxlbWVudEludmlzaWJsZURpdiIsImNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50IiwicGFyZW50RWxlbWVudCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsInN0eWxlIiwiZGlzcGxheSIsInpJbmRleCIsImNyZWF0ZU1lZGlhQ29tcG9uZW50T25Cb2R5IiwibWVkaWFUeXBlIiwiZ2V0TWVkaWFUeXBlQnlTb3VyY2UiLCJtZWRpYURlZmF1bHRzIiwiZ2V0TWVkaWFEZWZhdWx0c0J5TWVkaWFUeXBlIiwibWVkaWFDb21wb25lbnRDb250YWluZXIiLCJNZWRpYUNvbXBvbmVudEZhY3RvcnkiLCJjcmVhdGVNZWRpYUNvbXBvbmVudEJ5VHlwZSIsImNyZWF0ZU1lZGlhQ29tcG9uZW50IiwicGxheWVyQ29uZmlnIiwiY3JlYXRlTWVkaWFQbGF5ZXIiLCJ0ZW1wbGF0ZVNvdW5kYm9hcmRJdGVtQ29udGFpbmVyIiwiaXRlbUlkIiwibWVkaWFOYW1lIiwidHJpbSIsInRlbXBsYXRlU291bmRib2FyZElucHV0IiwibGFiZWxUZXh0IiwidmFsdWUiLCJwbGFjZWhvbGRlciIsIk1lZGlhUGxheWVyIiwiT2JqZWN0RXZlbnRMaXN0ZW5lciIsInRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IiwiaWZyYW1lSWQiLCJZb3V0dWJlSWZyYW1lIiwic3RhdGljIiwicGxheWVyIiwiX2lzUGxheWVyUmVhZHkiLCJfdmlkZW9JZCIsInZpZGVvTmFtZSIsInZpZGVvVGh1bWIiLCJjaGFubmVsVVJMIiwiY2hhbm5lbE5hbWUiLCJfaWZyYW1lRWxlbWVudCIsIl9pZnJhbWVDb250YWluZXIiLCJfaWZyYW1lUGFyZW50RWxlbWVudCIsIl9pc1BsYXlpbmciLCJfZGltZW5zaW9ucyIsInRvcERpdiIsIl9zdGFydE11dGVkIiwiX3BsYXlpbmdPYnNlcnZlckludGVydmFsIiwiX2V2ZW50TGlzdGVuZXIiLCJjYWNoZWRWaWRlb0luZm8iLCJfZGljdFlvdXR1YmVJZnJhbWVCeUlkIiwidmlkZW9JZCIsInN0YXJ0TXV0ZWQiLCJnZXRZb3V0dWJlSWZyYW1lRWxlbWVudCIsInNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUiLCJpZnJhbWVDb250YWluZXIiLCJzZXRDbGFzc2VzSWZyYW1lUGF1c2VkIiwic2V0VmlkZW9JbmZvIiwic2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzIiwiZXh0cmFjdFlvdVR1YmVJZCIsImRlbGV0ZSIsImdldFZpZGVvSW5mbyIsInRpdGxlIiwiYXV0aG9yX25hbWUiLCJ0aHVtYm5haWxfdXJsIiwiYXV0aG9yX3VybCIsImNoYW5nZVZpZGVvIiwiaXNWYWxpZFlvdXR1YmVVcmxPcklkIiwibG9hZFZpZGVvQnlJZCIsImRlbGF5IiwicHJlcGFyZU9wdGlvbnMiLCJsb2FkVmlkZW8iLCJzZWVrVG8iLCJsb2FkVmlkZW9JbmZvIiwicmVzcG9uc2UiLCJoYW5kbGVQcm9taXNlIiwiZmV0Y2giLCJ2aWRlb1VSTCIsImNvbnNvbGUiLCJkYXRhIiwianNvbiIsIm9uUGxheWVyUmVhZHkiLCJldmVudCIsIl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeSIsInB1c2giLCJzZXRQbGF5YmFja1F1YWxpdHkiLCJwYXVzZVZpZGVvIiwiY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJfeW91dHViZUFQSVJlZmVyZW5jZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInNldEludGVydmFsIiwic2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmciLCJjbGVhckludGVydmFsIiwib25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSIsImlmcmFtZUVsZW1lbnQiLCJpc1BsYXllclJlYWR5IiwiZ2V0RHVyYXRpb24iLCJnZXRDdXJyZW50VGltZSIsInByb2dyZXNzUGVyY2VudCIsInBsYXllclByb2dyZXNzUGVyY2VudCIsInBsYXlWaWRlbyIsInJlbG9hZEJ1ZmZlciIsImNvbnNpZGVyU3RhcnRzQXQiLCJrZXlzIiwic29tZSIsInIiLCJpbmNsdWRlcyIsImFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5IiwiZm9yRWFjaCIsIm8iLCJzZXR1cCIsImtleSIsImNvbnRhaW5lckRpdiIsImluc2VydEFkamFjZW50SFRNTCIsImlmcmFtZVBhcmVudEVsZW1lbnQiLCJzZXRFeHRlcm5hbEhUTUxFbGVtZW50cyIsImNyZWF0ZUludmlzaWJsZURpdlRvcCIsImNyZWF0ZUludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJzZXRJZnJhbWVDb250YWluZXJBdHRyaWJ1dGVzIiwic2V0VG9wRGl2QXR0cmlidXRlcyIsInNldERpdkJsb2NrSW50ZXJhY3Rpb25BdHRyaWJ1dGVzIiwiZ2V0SW52aXNpYmxlVG9wRGl2IiwiZXZ0IiwiaW5pdFBsYXllciIsIlBsYXllciIsInBsYXllclZhcnMiLCJldmVudHMiLCJiaW5kIiwiYnVpbGRTaW5nbGVJZnJhbWUiLCJ5b3V0dWJlSWZyYW1lIiwidGFnIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ3YWl0VW50aWxFbGVtZW50RXhpc3RzIiwicG9sbEZvclZhcmlhYmxlQXN5bmMiLCJwcm90b3R5cGUiLCJsb2FkZWQiLCJidWlsZElmcmFtZXMiLCJwb2xsRm9yVmFyaWFibGUiLCJzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMiLCJ5dElmcmFtZSIsIlN0cmluZyIsImlzTnVsbE9yRW1wdHkiLCJ0cnVuY2F0ZSIsIm1heCIsImRlY29yYXRvciIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvU3RyaW5nIiwicmVtb3ZlQWNjZW50cyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInplcm9CZWZvcmUiLCJwYWRTdGFydCIsImV2ZW50c0J5TmFtZSIsImV2ZW50TmFtZSIsIm5ld0V2ZW50IiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInRvTG93ZXJDYXNlIiwiZ2V0RXZlbnRzQnlOYW1lIiwicmVtb3ZlRXZlbnRCeUlkIiwiZXZlbnRJZCIsImZpbHRlciIsImUiLCJldmVudEFyZ3MiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCIsImRpY3RLZXlzQnlBY3Rpb25LZXl1cCIsImFzeW5jIiwicHJvbWlzZSIsImlucHV0IiwidGVzdCIsIm1hdGNoIiwiZWxlbWVudCIsImF0dHJMaXN0IiwiZ2V0RWxlbWVudEZyb21IVE1MIiwiaHRtbCIsInJlc3VsdCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2YXJpYWJsZU5hbWUiLCJyZWFkeUNvbmRpdGlvbiIsImNhbGxiYWNrIiwicG9sbCIsIndpbmRvdyIsInNlbGVjdG9yIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwibXMiLCJzZXRUaW1lb3V0IiwiaW5zZXJ0RWxlbWVudEF0SW5kZXgiLCJuZXdFbGVtZW50IiwiaW5kZXgiLCJjaGlsZE5vZGVzIiwicmVmTm9kZSIsImludmlzaWJsZURpdiIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwiaGlkZUVsZW1lbnQiLCJyZXBlYXQiLCJwYWlyIiwiY29kZSIsImtiRXZlbnQiLCJydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zIiwicnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQiLCJmaWxlUGF0aCIsImV4ZWMiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZGVmYXVsdEZpbGVTcmMiLCJzcGxpdCIsInBvcCIsImZpbGVUeXBlU3RyIiwibnVtIiwibWluIiwiTWF0aCIsImF1ZGlvRXh0ZW5zaW9ucyIsInZpZGVvRXh0ZW5zaW9ucyIsImRlZmF1bHRBdWRpb1BsYXllckNvbmZpZyIsInR5cGUiLCJhdXRvcGxheSIsIm11dGVkIiwibG9vcCIsInByZWxvYWQiLCJkZWZhdWx0VmlkZW9QbGF5ZXJDb25maWciLCJzb3VyY2UiLCJleHRlbnNpb24iLCJub3JtYWxpemVkRXh0ZW5zaW9uIiwiZ2V0TWVkaWFUeXBlQnlFeHRlbnNpb24iLCJhcnJTb3VyY2VzIiwiaXNNZWRpYVR5cGVWaWRlbyIsIm1lZGlhRWxlbWVudEhUTUwiLCJwYXJhbXNUb1BsYXllckNvbmZpZyIsIm1hcCIsInZpZGVvU291cmNlRWxlbWVudEhUTUwiLCJyZWR1Y2UiLCJhY2MiLCJuZXh0IiwidmlkZW9FbGVtZW50SFRNTCIsImF1ZGlvRWxlbWVudEhUTUwiLCJ0cmltRW5kIiwic3RyIiwicmVtb3ZlU3BlY2lhbENoYXJhY3RlcnMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiU291bmRib2FyZCIsImNvbnRhaW5lcnNDbGFzc0xpc3QiLCJpdGVtQ2xhc3NMaXN0IiwiX3NldE1lZGlhQ29udHJvbGxlcnMiLCJTZXQiLCJfbWFwTWVkaWFDb250cm9sbGVyc0J5SWQiLCJfbWFwSW5wdXRCeUNvbXBvbmVudElkIiwiYWRkTWVkaWFMaXN0IiwiYXJyTWVkaWFTcmMiLCJnZXRJbnN0YW50TVAzRG93bmxvYWRMaW5rIiwidXJsIiwiaXNNeUluc3RhbnRzTGluayIsIm1hdGNoZXMiLCJtZWRpYUNvbXBvbmVudHMiLCJpIiwic3JjT3B0aW9ucyIsImdldFNvdXJjZUlucHV0RGVmYXVsdE9wdGlvbnMiLCJhZGRNZWRpYSIsImdldEN1c3RvbU1lZGlhQ29tcG9uZW50TWVkaWFPcHRpb25zIiwibWVkaWFPcHRpb25zIiwic3RydWN0dXJlZENsb25lIiwiY29tcG9uZW50cyIsImNvbXBvbmVudFJlc3VsdCIsImFkZElmcmFtZSIsImFkZE1lZGlhQ29tcG9uZW50Iiwic2V0Q29tcG9uZW50TmFtZUJ5SWQiLCJtZWRpYSIsImF1dG9SZXBlYXRPblBsYXkiLCJhZGRZb3V0dWJlTGlzdCIsImFyclZpZGVvT3B0aW9ucyIsImFkZEF1ZGlvTGlzdCIsImFyck1lZGlhT3B0aW9ucyIsIm1lZGlhSW5wdXQiLCJhZGRDb21wb25lbnRJbnRlcmFjdGlvbkJsb2NrRXZlbnQiLCJnZXRJbnB1dEJ5U291cmNlIiwiY29tcG9uZW50c0NvbnRyb2xsZXJzIiwiZ2V0RWxlbWVudE1lZGlhQ29udGFpbmVyIiwiY29udGFpbmVySWQiLCJlbGVtZW50TWVkaWFDb250YWluZXIiLCJjb21wb25lbnRJZCIsImNvbXBvbmVudE5hbWVFbGVtZW50IiwiZ2V0RWxlbWVudEl0ZW1OYW1lQ29udGFpbmVyQnlJZCIsImVsZW1lbnRNZWRpYU5hbWUiLCJtZWRpYUNvbnRhaW5lciIsImdldE5ld01lZGlhQ29tcG9uZW50SWQiLCJnZXROZXdZb3V0dWJlSWZyYW1lSWQiLCJhdWRpb0VsZW1lbnRJZCIsImF1ZGlvQ29udGFpbmVyIiwiaW5wdXRJbmZvIiwiYWRkSW5wdXRFbGVtZW50VG9Db250YWluZXIiLCJzb3VuZGJvYXJkTWVkaWFDb21wb25lbnQiLCJpbnB1dENvbnRhaW5lciIsImJ1dHRvblJlbW92ZUl0ZW0iLCJidXR0b25FbGVtZW50IiwiaXRlbU9wdGlvbnMiLCJlbGVtZW50SWZyYW1lQ29udGFpbmVyIiwibmV3SWZyYW1lIiwic291bmRib2FyZFlvdXR1YmVDb21wb25lbnQiLCJjaGFuZ2VDb21wb25lbnRTb3VyY2VUb0lucHV0VmFsdWUiLCJjaGFuZ2VDb21wb25lbnRTb3VyY2UiLCJuZXdTb3VyY2UiLCJjaGFuZ2VZb3V0dWJlSWZyYW1lU291cmNlIiwicmVtb3ZlQ29tcG9uZW50QnlJZCIsImNoYW5nZU1lZGlhQ29tcG9uZW50U291cmNlIiwibmV3VmFsdWUiLCJuZXdBdWRpb09wdGlvbnMiLCJjb21wb25lbnRNZWRpYSIsImlucHV0U291cmNlIiwiaW5wdXRFbGVtZW50Q29udGFpbmVyIiwiaW5wdXRFbGVtZW50IiwiYXJyQ29tcG9uZW50c0V4Y2VwdFRoaXMiLCJjIiwicmVtb3ZlSXRlbSIsInJlbW92ZUNvbXBvbmVudCJdLCJzb3VyY2VSb290IjoiIn0=