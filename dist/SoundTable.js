var SoundTable;(()=>{"use strict";var t={173:(t,e,i)=>{i.d(e,{AudioComponent:()=>l});var n=i(7930),s=i(7353),r=i(1319),a=i(3164),o=i(6555);class l extends n.ObjectEventListener{src;audioElement;_container;_blockInteraction=!1;_divBlockInteraction;constructor(t){super(),this.src=t.src,this._container=t.container,this.audioElement=t.audioElement,this._blockInteraction=!!t.blockInteraction,t.audioElementId&&(this.audioElement.id=t.audioElementId),this.audioElement.classList.add("audio-component"),this.audioElement.addEventListener("ended",(()=>{this.stop()})),this._container.id||(this._container.id=t.audioElementId+"AudioComponentContainer"),this._container.classList.add("audio-component-container"),this._divBlockInteraction=this.getInvisibleDivBlockInteraction(this),this.setupInvisibleDivBlockInteraction(),this.setElementsAttributes()}get _videoInfoAttributeList(){return[["audio-component-src",this.src],["audio-component-name",(0,a.removeFilePath)(this.src)]]}setElementsAttributes(){(0,r.setAttributeListForElement)(this.audioElement,this._videoInfoAttributeList),(0,r.setAttributeListForElement)(this.container,this._videoInfoAttributeList),(0,r.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}get divBlockInteraction(){return this._divBlockInteraction}get container(){return this._container}get paused(){return this.audioElement.paused}get fileName(){return this.audioElement.src||this.audioElement.querySelector("source")?.src||""}get currentTime(){return this.audioElement.currentTime}set currentTime(t){this.audioElement.currentTime=t}get sourceElements(){return Array.from(this.audioElement.querySelectorAll("source"))}changeSource(t){this.src=t,this.audioElement.innerHTML=(0,s.sourceElementHTML)(this.src),this.audioElement.load(),this.setElementsAttributes(),this.stop()}playWithoutTriggerEvents(){var t=this.audioElement.play();return void 0!==t&&t.then((t=>{})).catch((()=>{this.stop()})),this.setClassesPlaying(),this}pauseWithoutTriggerEvents(){return this.audioElement.pause(),this.setClassesPaused(),this}setClassesPlaying(){this._container.classList.add("audio-component-playing"),this._divBlockInteraction.classList.add("audio-component-playing"),this._container.classList.remove("audio-component-paused"),this._divBlockInteraction.classList.remove("audio-component-paused")}setClassesPaused(){this._container.classList.add("audio-component-paused"),this._divBlockInteraction.classList.add("audio-component-paused"),this._container.classList.remove("audio-component-playing"),this._divBlockInteraction.classList.remove("audio-component-playing")}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}stop(){return this.pause(),this.audioElement.currentTime=0,this.callEventsByName("onstop",this),this}toggle(){return this.paused?this.playWithoutTriggerEvents():this.pause(),this.callEventsByName("ontoggle",this),this}mute(){return this.audioElement.volume=0,this.callEventsByName("onmute",this),this}unmute(){return this.audioElement.volume=1,this.callEventsByName("onunmute",this),this}seek(t,e){return this.currentTime=t,this.callEventsByName("onseek",this),this}get dimensions(){return(0,r.getElementDimensions)(this._container)}getInvisibleDivBlockInteraction(t){const e=(0,r.createInvisibleDivAboveParent)({parentElement:t._container,id:`invisibleDivBlockInteraction${t._container.id}`,position:{top:0,left:0},dimensions:{width:t.dimensions.width,height:t.dimensions.height}});return e.classList.add("audio-component-div-block-interaction"),e}setupInvisibleDivBlockInteraction(){this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(()=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}static async createAudioComponentOnBody(t){const e=await new o.AudioComponentFactory(t.src).buildOnBody();return new l({src:t.src,container:e,audioElement:e.querySelector("audio"),audioElementId:t.audioElementId,blockInteraction:t.blockInteraction})}static async createAudioComponent(t){if(t.container===document.body||!t.container)return this.createAudioComponentOnBody(t);const e=await new o.AudioComponentFactory(t.src).build(t.container);return new l({src:t.src,container:e,audioElement:e.querySelector("audio"),audioElementId:t.audioElementId,blockInteraction:t.blockInteraction})}}},6555:(t,e,i)=>{i.d(e,{AudioComponentFactory:()=>r});var n=i(7353),s=i(6401);class r extends s.ComponentContainer{constructor(t,e){super("audioComponent",(0,n.createInvisiblePlayer)([t],e))}async buildSubComponents(t){}}},6401:(t,e,i)=>{i.d(e,{ComponentContainer:()=>n});class n{_element=null;templateElement;componentName;subComponentCountByName=new Map;subComponents=[];constructor(t,e){if("string"==typeof e){const t=document.getElementById(e);if(!t)throw new Error("Invalid template for scene component. Template id: "+e);this.templateElement=t}else this.templateElement=document.createElement("template"),this.templateElement.content.appendChild(e),document.body.appendChild(this.templateElement);this.componentName=t}getTemplateCloneNodes(){return this.templateElement.content.cloneNode(!0).children}async buildSingleSubComponent(t,e){this.subComponentCountByName.has(this.componentName)&&this.subComponentCountByName.set(this.componentName,0);let i=this.subComponentCountByName.get(this.componentName);return this.subComponentCountByName.set(this.componentName,i+1),await t.build(e,`${this.componentName}${t.componentName.capitalizeFirstLetter()}${i}`)}async buildOnBody(t){this._element=document.createElement("div"),t&&(this._element.id=t);for(let t of this.getTemplateCloneNodes())this._element.insertAdjacentElement("afterbegin",t);if(!this._element)throw new Error(`Fail building SceneComponent. ElementId: ${t}`);return await this.buildSubComponents(document.body),document.body.insertAdjacentElement("beforeend",this._element),this._element}async build(t,e){for(let e of this.getTemplateCloneNodes())t.insertAdjacentElement("afterbegin",e);return await this.buildSubComponents(t),t}}},9126:(t,e,i)=>{function n(t){return`\n  <div id="${t}SoundTableItem" class="sound-table-item-container">\n  </div>\n  `.trim()}function s(t,e,i="",n=""){return`\n    <div class="form-floating sound-table-input-container">\n      <input type="text" value="${i}" class="form-control sound-table-input" id="urlInput${t}" placeholder="${n}">\n      <label for="urlInput${t}">${e}</label>\n    </div>\n  `}i.d(e,{templateSoundTableInput:()=>s,templateSoundTableItemContainer:()=>n})},2152:(t,e,i)=>{function n(t){return`\n  <div id="${t}">\n  </div>\n  `.trim()}i.d(e,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(t,e,i)=>{i.d(e,{YoutubeIframe:()=>o});var n=i(1319),s=(i(4763),i(739)),r=i(2152),a=(i(4785),i(3362),i(7930));class o extends a.ObjectEventListener{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;_videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;topDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new a.ObjectEventListener;constructor(t){if(o._dictYoutubeIframeById.has(t.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=t.iframeId,this._startsAt=t.startsAt??0,this._videoId=t.videoId,this._startMuted=!!t.startMuted,this._blockInteraction=!!t.blockInteraction,this._iframeContainer=o.getYoutubeIframeElement({iframeId:t.iframeId,classList:t.classList}),this._iframeParentElement=o.setupParentFromYoutubeIframe({parentElement:t.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=t.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),o._dictYoutubeIframeById.set(t.iframeId,this),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}get videoId(){return(0,n.extractYouTubeId)(this._videoId)}async setVideoInfo(){const t=await this.getVideoInfo();this.videoName=t&&t.title?t.title:"",this.channelName=t&&t.author_name?t.author_name:"",this.videoThumb=t&&t.thumbnail_url?t.thumbnail_url:"",this.channelURL=t&&t.author_url?t.author_url:""}changeVideo(t){(0,n.isValidYoutubeUrlOrId)(t.videoId)&&(this.player&&this.player.loadVideoById?(this.prepareOptions(t),this.player.seekTo(this.startsAt,!0),this.isPlaying?this.playWithoutTriggerEvents():this.pauseWithoutTriggerEvents()):setTimeout((()=>this.changeVideo(t)),100))}prepareOptions(t){this.id=t.iframeId,this._videoId=t.videoId,this.startsAt=t.startsAt??this.startsAt,this.loadVideo()}loadVideo(){this.player.loadVideoById({videoId:this.videoId,startSeconds:this.startsAt,suggestedQuality:"highres"}),this.setVideoInfo().then((()=>{this.setExternalHTMLElementsAttributes()}))}async getVideoInfo(){const t=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));if(!t.error)return await t.data().json();console.error(t.error)}onPlayerReady(t){this._startMuted&&this.player.mute(),o._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),o.checkIfEveryIframeIsReady()}onPlayerStateChange(t){this._isPlaying=t.data===o._youtubeAPIReference.PlayerState.PLAYING,this._isPlaying?(this.setClassesIframePlaying(),this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this,this.isPlaying)),100)):this._playingObserverInterval&&(this.setClassesIframePaused(),clearInterval(this._playingObserverInterval),this._playingObserverInterval=null),this.callEventsByName("playerstatechange",this,this.isPlaying),this.callEventsByName("onplayerstatechange",this,this.isPlaying)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(t){this.seek(t)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,s.clamp)(this._startsAt,0,this._startsAt)}set startsAt(t){this._startsAt=(0,s.clamp)(t,0,t)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(t,e=!1,i=!1){return this.callEventsByName("onseek",t,e,i,this),t+=i?this._startsAt:0,this.player.seekTo(t,e),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...o._dictYoutubeIframeById.keys()].some((t=>!this._arrYoutubeIframeIdReady.includes(t)))||(this.arrObjectToSetOnEveryIframeReady.forEach((t=>t.setup(o._dictYoutubeIframeById))),o._dictYoutubeIframeById.forEach(((t,e)=>{t.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:t,classList:e}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),e&&i.classList.add(...e),i.id=`containerYoutubeIframe${t}`,i.insertAdjacentHTML("afterbegin",(0,r.templateBackgroundYoutubeIframeElement)(t)),i}static setupParentFromYoutubeIframe({parentElement:t,iframeContainer:e}){const i=t??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",e),i}setExternalHTMLElements(){this.createInvisibleDivTop(),this.createInvisibleDivBlockInteraction(),this.setExternalHTMLElementsAttributes()}setExternalHTMLElementsAttributes(){this.setIframeContainerAttributes(),this.setTopDivAttributes(),this.setDivBlockInteractionAttributes()}createInvisibleDivTop(){this.topDiv=o.getInvisibleTopDiv(this),this.topDiv.style.zIndex="990"}createInvisibleDivBlockInteraction(){this._divBlockInteraction=o.getInvisibleDivBlockInteraction(this),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(t=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}setDivBlockInteractionAttributes(){this.divBlockInteraction&&(0,n.setAttributeListForElement)(this.divBlockInteraction,this._videoInfoAttributeList)}setIframeContainerAttributes(){this._iframeContainer&&(0,n.setAttributeListForElement)(this._iframeContainer,this._videoInfoAttributeList)}setTopDivAttributes(){this.topDiv&&(0,n.setAttributeListForElement)(this.topDiv,this._videoInfoAttributeList)}set blockInteraction(t){this._blockInteraction=t,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new o._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;get _videoInfoAttributeList(){return[["yt-iframe-id",this.id],["yt-iframe-video-name",this.videoName],["yt-iframe-video-channel-name",this.channelName],["yt-iframe-video-thumb-url",this.videoThumb],["yt-iframe-video-channel-url",this.channelURL]]}static buildIframes(){var t=document.createElement("script");t.id="ytIframeAPI",t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e&&e.parentNode&&e.parentNode.insertBefore(t,e),(0,n.waitUntilElementExists)("#ytIframeAPI").then((()=>{(0,n.pollForVariable)("YT",(t=>"function"==typeof t.Player&&t.Player.prototype&&t.Player.prototype.constructor===t.Player&&t.loaded),(t=>{o._youtubeAPIReference=t,o.setYoutubeIframeElements()}))}))}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((t,e)=>{t.setExternalHTMLElements(),t.initPlayer()}))}static getInvisibleTopDiv(t){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(t.id).parentElement,id:`invisibleTopDivHoldToDrag${t.id}`,position:{top:0,left:0},dimensions:{width:t.dimensions.width,height:.2*t.dimensions.height}})}static getInvisibleDivBlockInteraction(t){const e=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(t.id).parentElement,id:`invisibleDivBlockInteraction${t.id}`,position:{top:0,left:0},dimensions:{width:t.dimensions.width,height:t.dimensions.height}});return e.classList.add("yt-div-block-interaction"),e}}},4785:(t,e,i)=>{i.d(e,{YoutubeIframe:()=>n.YoutubeIframe});var n=i(5102)},3362:(t,e,i)=>{i(5102)},2976:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(t,e="..."){return(this.length>t?this.substring(0,t)+e:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}},4763:(t,e,i)=>{i(1319),i(8586)},8586:(t,e,i)=>{i(1319)},7930:(t,e,i)=>{i.d(e,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(t,e){this.eventsByName.has(t.toLowerCase())?this.eventsByName.get(t.toLowerCase()).push(e):this.eventsByName.set(t.toLowerCase(),[e])}getEventsByName(t){return this.eventsByName.has(t.toLowerCase())||this.eventsByName.set(t.toLowerCase(),[]),this.eventsByName.get(t.toLowerCase())}callEventsByName(t,...e){this.getEventsByName(t).forEach((t=>t(...e)))}}},7353:(t,e,i)=>{i.d(e,{createInvisiblePlayer:()=>r,sourceElementHTML:()=>a}),i(2976);var n=i(1319),s=i(3164);function r(t,e){const i=(0,n.getElementFromHTML)(function(t,e){return`<audio controls ${e?function(t){return` ${t.id?'id="'+t.id+'"':""} ${t.autoPlay||t.autoplay?"autoplay":""} ${t.muted?"muted":""} ${t.loop?"loop":""} ${t.preload?'preload="'+t.preload+'"':""}`.trimEnd()}(e):""}>\n    ${t.map((t=>a(t))).reduce(((t,e)=>t+e),"")}\n  </audio>`}(t,e));return document.body.insertAdjacentElement("afterbegin",i),(0,n.hideElement)(i),i}function a(t){return`<source src="${t}" type="audio/${(0,s.getFileExtension)(t)}">`}i(173)},1319:(t,e,i)=>{i.d(e,{createInvisibleDivAboveParent:()=>p,extractYouTubeId:()=>l,getElementDimensions:()=>u,getElementFromHTML:()=>c,handlePromise:()=>a,hideElement:()=>y,isValidYoutubeUrlOrId:()=>o,pollForVariable:()=>m,setAttributeListForElement:()=>d,waitUntilElementExists:()=>h});const n=new Map,s=new Map,r=new Map;async function a(t){try{const e=await t;return{data:()=>e,error:null}}catch(t){return console.error(t),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:t instanceof Error?t:new Error(String(t))}}}function o(t){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(t)||/^[a-zA-Z0-9_-]{11}$/.test(t)}function l(t){const e=t.match(/[?&]v=([^?&]+)/);return e&&e[1]?e[1]:11===t.length?t:null}function d(t,e){e.forEach((([e,i])=>{t.setAttribute(e,i)}))}function c(t,e=!0){if(!(t=e?t.trim():t))return null;const i=document.createElement("template");i.innerHTML=t;const n=i.content.children;return 1===n.length?n[0]:Array.from(n)}function u(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function m(t,e,i){const n=setInterval((()=>{void 0!==window[t]&&e(window[t])&&(clearInterval(n),i(window[t]))}),100)}function h(t){return new Promise((e=>{if(document.querySelector(t))return e(document.querySelector(t));const i=new MutationObserver((n=>{document.querySelector(t)&&(i.disconnect(),e(document.querySelector(t)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}function p({parentElement:t,id:e,position:i,dimensions:n}){var s=document.createElement("div");return t.style.position||(t.style.position="relative"),s.id=e,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",t.appendChild(s),s}function y(t){t.style.display="block",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity="0",t.style.width="0px !important",t.style.height="0px !important",t.setAttribute("hidden","")}new Map,window.addEventListener("keydown",(t=>{t.repeat||function(t){for(const e of n)t.code===e[0]&&e[1].forEach((e=>e(t)))}(t),function(t){for(const e of s)t.code===e[0]&&e[1].forEach((e=>e(t)))}(t)})),window.addEventListener("keyup",(t=>{for(const e of r)t.code===e[0]&&e[1].forEach((e=>e(t)))}))},3164:(t,e,i)=>{i.d(e,{getFileExtension:()=>r,removeFilePath:()=>s});var n=i(2843);function s(t){const e=/(?:.*[\\/])([^\\/]+)$/.exec(t);return e&&e.length>1?e[1]:t}function r(t){if((0,n.isNullOrEmpty)(t))return"";const e=t.split(".").pop();if(e&&e!==t)return e;const i=t.split("/").pop();return i&&i!==t?i:""}},739:(t,e,i)=>{function n(t=0,e=0,i=100){return Math.max(e,Math.min(t,i))}i.d(e,{clamp:()=>n})},2843:(t,e,i)=>{function n(t){return"string"!=typeof t||!t||""===t}i.d(e,{isNullOrEmpty:()=>n})}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{i.r(n),i.d(n,{SoundTable:()=>o});var t=i(7930),e=i(1319),s=i(173),r=i(4785),a=i(9126);class o extends t.ObjectEventListener{container;iframesClassList;containersClassList;_arrEveryComponent;_arrComponentsReady=[];_setMediaControllers=new Set;_mapMediaControllersById=new Map;_mapInputBySourceId=new Map;constructor(t){super(),this.container=t.container,this.iframesClassList=t.iframesClassList??[],this.containersClassList=t.containersClassList??[],this._arrEveryComponent=[...t.arrMediaSrc,...t.arrVideoId],t.arrMediaSrc.forEach((e=>{this.addAudioComponent(t.container.id,e)})),t.arrVideoId.forEach((e=>{this.addIframe(`${t.container.id}IframeTableItem${e}`,e)}))}init(){this.componentsControllers.forEach((t=>{t.addEventListener("oninteractionblocked",(()=>{t.seek(0,!0),t.playWithoutTriggerEvents()}))})),r.YoutubeIframe.buildIframes()}getInputBySource(t){if(!this._mapInputBySourceId.has(t))throw new Error("Element src not on sound table.");return this._mapInputBySourceId.get(t)}get everyComponentReady(){return this._arrEveryComponent.length===this._arrComponentsReady.length}get componentsControllers(){return Array.from(this._setMediaControllers)}getElementMediaContainer(t){const i=(0,e.getElementFromHTML)((0,a.templateSoundTableItemContainer)(t));return i.classList.add(...this.containersClassList),i}addAudioComponent(t,i){const n=this.getElementMediaContainer(t);this.container.insertAdjacentElement("beforeend",n);const r=(0,e.getElementFromHTML)((0,a.templateSoundTableInput)(t,"Source",i));n.insertAdjacentElement("beforeend",r),this._mapInputBySourceId.set(t,r),s.AudioComponent.createAudioComponent({src:i,audioElementId:`${t}IframeTableItem${i}`,blockInteraction:!0,container:n}).then((e=>{this._setMediaControllers.add(e),this._mapMediaControllersById.set(t,e),this._arrComponentsReady.push(t),r.querySelector("input").addEventListener("input",(()=>{this.callEventsByName("input",r.querySelector("input").value,e),this.callEventsByName("oninput",r.querySelector("input").value,e),this.callEventsByName("inputchange",r.querySelector("input").value,e),this.callEventsByName("oninputchange",r.querySelector("input").value,e)})),this.everyComponentReady&&this.init()}))}addIframe(t,i){if(this._mapMediaControllersById.has(t))throw new Error("A Iframe with this id already exists: "+t);const n=this.getElementMediaContainer(t);this.container.insertAdjacentElement("beforeend",n);const s=(0,e.getElementFromHTML)((0,a.templateSoundTableInput)(t,"Source",i));n.insertAdjacentElement("beforeend",s),this._mapInputBySourceId.set(t,s);const o=new r.YoutubeIframe({iframeId:t,videoId:i,parentElement:n,startsAt:0,classList:["sound-table-item",...this.iframesClassList],blockInteraction:!0});s.querySelector("input").addEventListener("input",(()=>{this.callEventsByName("input",s.querySelector("input").value,o),this.callEventsByName("oninput",s.querySelector("input").value,o),this.callEventsByName("inputchange",s.querySelector("input").value,o),this.callEventsByName("oninputchange",s.querySelector("input").value,o)})),this._setMediaControllers.add(o),this._mapMediaControllersById.set(t,o),this._arrComponentsReady.push(t),this.everyComponentReady&&this.init()}}})(),SoundTable=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU291bmRUYWJsZS5qcyIsIm1hcHBpbmdzIjoiMklBdUJPLE1BQU1BLFVBQXVCLEVBQUFDLG9CQUMzQkMsSUFDQUMsYUFDQ0MsV0FFRUMsbUJBQTZCLEVBQzdCQyxxQkFFVixXQUFBQyxDQUFhQyxHQUNYQyxRQUVBQyxLQUFLUixJQUFNTSxFQUFRTixJQUNuQlEsS0FBS04sV0FBYUksRUFBUUcsVUFDMUJELEtBQUtQLGFBQWVLLEVBQVFMLGFBQzVCTyxLQUFLTCxvQkFBb0JHLEVBQVFJLGlCQUU1QkosRUFBUUssaUJBQ1hILEtBQUtQLGFBQWFXLEdBQUtOLEVBQVFLLGdCQUdqQ0gsS0FBS1AsYUFBYVksVUFBVUMsSUFBSyxtQkFDakNOLEtBQUtQLGFBQWFjLGlCQUFrQixTQUFTLEtBQzNDUCxLQUFLUSxNQUFNLElBR1BSLEtBQUtOLFdBQVdVLEtBQ3BCSixLQUFLTixXQUFXVSxHQUFLTixFQUFRSyxlQUFpQiwyQkFFaERILEtBQUtOLFdBQVdXLFVBQVVDLElBQUssNkJBRS9CTixLQUFLSixxQkFBdUJJLEtBQUtTLGdDQUFpQ1QsTUFDbEVBLEtBQUtVLG9DQUNMVixLQUFLVyx1QkFDUCxDQUVBLDJCQUFZQyxHQUNWLE1BQU8sQ0FDTCxDQUFDLHNCQUF1QlosS0FBS1IsS0FDN0IsQ0FBQyx3QkFBd0IsSUFBQXFCLGdCQUFnQmIsS0FBS1IsTUFFbEQsQ0FFUSxxQkFBQW1CLElBQ04sSUFBQUcsNEJBQTRCZCxLQUFLUCxhQUFjTyxLQUFLWSwwQkFDcEQsSUFBQUUsNEJBQTRCZCxLQUFLQyxVQUFXRCxLQUFLWSwwQkFDakQsSUFBQUUsNEJBQTRCZCxLQUFLZSxvQkFBcUJmLEtBQUtZLHdCQUM3RCxDQUdBLHVCQUFXRyxHQUNULE9BQU9mLEtBQUtKLG9CQUNkLENBRUEsYUFBV0ssR0FDVCxPQUFPRCxLQUFLTixVQUNkLENBRUEsVUFBV3NCLEdBQ1QsT0FBT2hCLEtBQUtQLGFBQWF1QixNQUMzQixDQUVBLFlBQVdDLEdBQ1QsT0FBT2pCLEtBQUtQLGFBQWFELEtBQU9RLEtBQUtQLGFBQWF5QixjQUFlLFdBQVkxQixLQUFPLEVBQ3RGLENBRUEsZUFBVzJCLEdBQ1QsT0FBT25CLEtBQUtQLGFBQWEwQixXQUMzQixDQUVBLGVBQVdBLENBQWFDLEdBQ3RCcEIsS0FBS1AsYUFBYTBCLFlBQWNDLENBQ2xDLENBRUEsa0JBQVdDLEdBQ1QsT0FBT0MsTUFBTUMsS0FBTXZCLEtBQUtQLGFBQWErQixpQkFBa0IsVUFDekQsQ0FFTyxZQUFBQyxDQUFjakMsR0FDbkJRLEtBQUtSLElBQU1BLEVBQ1hRLEtBQUtQLGFBQWFpQyxXQUFZLElBQUFDLG1CQUFtQjNCLEtBQUtSLEtBQ3REUSxLQUFLUCxhQUFhbUMsT0FDbEI1QixLQUFLVyx3QkFDTFgsS0FBS1EsTUFDUCxDQUVPLHdCQUFBcUIsR0FDTCxJQUFJQyxFQUFjOUIsS0FBS1AsYUFBYXNDLE9BVXBDLFlBUnFCQyxJQUFoQkYsR0FDSEEsRUFBWUcsTUFBTUMsUUFDZkMsT0FBTyxLQUNObkMsS0FBS1EsTUFBTSxJQUlqQlIsS0FBS29DLG9CQUNFcEMsSUFDVCxDQUVPLHlCQUFBcUMsR0FHTCxPQUZBckMsS0FBS1AsYUFBYTZDLFFBQ2xCdEMsS0FBS3VDLG1CQUNFdkMsSUFDVCxDQUVBLGlCQUFBb0MsR0FDRXBDLEtBQUtOLFdBQVdXLFVBQVVDLElBQUssMkJBQy9CTixLQUFLSixxQkFBcUJTLFVBQVVDLElBQUssMkJBRXpDTixLQUFLTixXQUFXVyxVQUFVbUMsT0FBUSwwQkFDbEN4QyxLQUFLSixxQkFBcUJTLFVBQVVtQyxPQUFRLHlCQUM5QyxDQUVBLGdCQUFBRCxHQUNFdkMsS0FBS04sV0FBV1csVUFBVUMsSUFBSywwQkFDL0JOLEtBQUtKLHFCQUFxQlMsVUFBVUMsSUFBSywwQkFFekNOLEtBQUtOLFdBQVdXLFVBQVVtQyxPQUFRLDJCQUNsQ3hDLEtBQUtKLHFCQUFxQlMsVUFBVW1DLE9BQVEsMEJBQzlDLENBRU8sSUFBQVQsR0FHTCxPQUZBL0IsS0FBSzZCLDJCQUNMN0IsS0FBS3lDLGlCQUFrQixTQUFVekMsTUFDMUJBLElBQ1QsQ0FFTyxLQUFBc0MsR0FHTCxPQUZBdEMsS0FBS3FDLDRCQUNMckMsS0FBS3lDLGlCQUFrQixVQUFXekMsTUFDM0JBLElBQ1QsQ0FFTyxJQUFBUSxHQUtMLE9BSkFSLEtBQUtzQyxRQUNMdEMsS0FBS1AsYUFBYTBCLFlBQWMsRUFFaENuQixLQUFLeUMsaUJBQWtCLFNBQVV6QyxNQUMxQkEsSUFDVCxDQUVPLE1BQUEwQyxHQVFMLE9BUEsxQyxLQUFLZ0IsT0FDUmhCLEtBQUs2QiwyQkFFTDdCLEtBQUtzQyxRQUdQdEMsS0FBS3lDLGlCQUFrQixXQUFZekMsTUFDNUJBLElBQ1QsQ0FFQSxJQUFBMkMsR0FHRSxPQUZBM0MsS0FBS1AsYUFBYW1ELE9BQVMsRUFDM0I1QyxLQUFLeUMsaUJBQWtCLFNBQVV6QyxNQUMxQkEsSUFDVCxDQUVBLE1BQUE2QyxHQUdFLE9BRkE3QyxLQUFLUCxhQUFhbUQsT0FBUyxFQUMzQjVDLEtBQUt5QyxpQkFBa0IsV0FBWXpDLE1BQzVCQSxJQUNULENBRUEsSUFBQThDLENBQU1DLEVBQWtCQyxHQUd0QixPQUZBaEQsS0FBS21CLFlBQWM0QixFQUNuQi9DLEtBQUt5QyxpQkFBa0IsU0FBVXpDLE1BQzFCQSxJQUNULENBRUEsY0FBV2lELEdBQ1QsT0FBTyxJQUFBQyxzQkFBc0JsRCxLQUFLTixXQUNwQyxDQUVRLCtCQUFBZSxDQUFpQzBDLEdBQ3ZDLE1BQU1DLEdBQXNCLElBQUFDLCtCQUErQixDQUN6REMsY0FBZUgsRUFBZXpELFdBQzlCVSxHQUFJLCtCQUFnQytDLEVBQWV6RCxXQUFXVSxLQUM5RG1ELFNBQVUsQ0FBRUMsSUFBSyxFQUFHQyxLQUFNLEdBQzFCUixXQUFZLENBQUVTLE1BQU9QLEVBQWVGLFdBQVdTLE1BQU9DLE9BQVFSLEVBQWVGLFdBQVdVLFVBSzFGLE9BRkFQLEVBQW9CL0MsVUFBVUMsSUFBSyx5Q0FFNUI4QyxDQUNULENBRU8saUNBQUExQyxHQUNMVixLQUFLSixxQkFBcUJnRSxNQUFNQyxRQUFVN0QsS0FBS0wsa0JBQW9CLFFBQVUsT0FDN0VLLEtBQUtKLHFCQUFxQmdFLE1BQU1FLE9BQVMsTUFFekM5RCxLQUFLSixxQkFBcUJXLGlCQUFrQixTQUFTLEtBQ25EUCxLQUFLeUMsaUJBQWtCLDRCQUE2QnpDLEtBQU1BLEtBQUtKLHNCQUMvREksS0FBS3lDLGlCQUFrQix1QkFBd0J6QyxLQUFNQSxLQUFLSixxQkFBc0IsR0FFcEYsQ0FHTyx1Q0FBYW1FLENBQTRCakUsR0FDOUMsTUFBTWtFLFFBQWdDLElBQUksRUFBQUMsc0JBQXVCbkUsRUFBUU4sS0FBTTBFLGNBRS9FLE9BQU8sSUFBSTVFLEVBQWdCLENBQ3pCRSxJQUFLTSxFQUFRTixJQUNiUyxVQUFXK0QsRUFDWHZFLGFBQWN1RSxFQUF3QjlDLGNBQWUsU0FDckRmLGVBQWdCTCxFQUFRSyxlQUN4QkQsaUJBQWtCSixFQUFRSSxrQkFFOUIsQ0FHTyxpQ0FBYWlFLENBQXNCckUsR0FDeEMsR0FBS0EsRUFBUUcsWUFBY21FLFNBQVNDLE9BQVN2RSxFQUFRRyxVQUNuRCxPQUFPRCxLQUFLK0QsMkJBQTRCakUsR0FHMUMsTUFBTWtFLFFBQWdDLElBQUksRUFBQUMsc0JBQXVCbkUsRUFBUU4sS0FBTThFLE1BQU94RSxFQUFRRyxXQUU5RixPQUFPLElBQUlYLEVBQWdCLENBQ3pCRSxJQUFLTSxFQUFRTixJQUNiUyxVQUFXK0QsRUFDWHZFLGFBQWN1RSxFQUF3QjlDLGNBQWUsU0FDckRmLGVBQWdCTCxFQUFRSyxlQUN4QkQsaUJBQWtCSixFQUFRSSxrQkFFOUIsRSw4RUNyUEssTUFBTStELFVBQThCLEVBQUFNLG1CQUN6QyxXQUFBMUUsQ0FBYUwsRUFBYWdGLEdBQ3hCekUsTUFBTyxrQkFBa0IsSUFBQTBFLHVCQUF1QixDQUFDakYsR0FBTWdGLEdBQ3pELENBRU8sd0JBQU1FLENBQW9CQyxHQUVqQyxFLG1EQ1ZLLE1BQWVKLEVBQ1ZLLFNBQStCLEtBQ2xDQyxnQkFDU0MsY0FDTkMsd0JBQStDLElBQUlDLElBQ25EQyxjQUErQixHQUd6QyxXQUFBcEYsQ0FBYWlGLEVBQXVCSSxHQUNsQyxHQUF5QixpQkFBYkEsRUFBd0IsQ0FDbEMsTUFBTUwsRUFBa0JULFNBQVNlLGVBQWdCRCxHQUVqRCxJQUFNTCxFQUNKLE1BQU0sSUFBSU8sTUFBTyxzREFBd0RGLEdBRzNFbEYsS0FBSzZFLGdCQUFrQkEsQ0FDekIsTUFDRTdFLEtBQUs2RSxnQkFBa0JULFNBQVNpQixjQUFlLFlBQy9DckYsS0FBSzZFLGdCQUFnQlMsUUFBUUMsWUFBYUwsR0FDMUNkLFNBQVNDLEtBQUtrQixZQUFhdkYsS0FBSzZFLGlCQUdsQzdFLEtBQUs4RSxjQUFnQkEsQ0FDdkIsQ0FFVSxxQkFBQVUsR0FDUixPQUFTeEYsS0FBSzZFLGdCQUFnQlMsUUFBUUcsV0FBVyxHQUE2QkMsUUFDaEYsQ0FJVSw2QkFBTUMsQ0FBeUJDLEVBQStCakIsR0FDakUzRSxLQUFLK0Usd0JBQXdCYyxJQUFLN0YsS0FBSzhFLGdCQUMxQzlFLEtBQUsrRSx3QkFBd0JlLElBQUs5RixLQUFLOEUsY0FBZSxHQUd4RCxJQUFJaUIsRUFBaUIvRixLQUFLK0Usd0JBQXdCaUIsSUFBS2hHLEtBQUs4RSxlQUk1RCxPQUZBOUUsS0FBSytFLHdCQUF3QmUsSUFBSzlGLEtBQUs4RSxjQUFlaUIsRUFBaUIsU0FFMURILEVBQVV0QixNQUFPSyxFQUFRLEdBQUkzRSxLQUFLOEUsZ0JBQWtCYyxFQUFVZCxjQUFjbUIsMEJBQTRCRixJQUN2SCxDQUdPLGlCQUFNN0IsQ0FBYWdDLEdBQ3hCbEcsS0FBSzRFLFNBQVdSLFNBQVNpQixjQUFlLE9BRW5DYSxJQUNIbEcsS0FBSzRFLFNBQVN4RSxHQUFLOEYsR0FHckIsSUFBTSxJQUFJQyxLQUFRbkcsS0FBS3dGLHdCQUNyQnhGLEtBQUs0RSxTQUFTd0Isc0JBQXVCLGFBQWNELEdBR3JELElBQU1uRyxLQUFLNEUsU0FDVCxNQUFNLElBQUlRLE1BQU8sNENBQTZDYyxLQU9oRSxhQUpNbEcsS0FBSzBFLG1CQUFvQk4sU0FBU0MsTUFFeENELFNBQVNDLEtBQUsrQixzQkFBdUIsWUFBYXBHLEtBQUs0RSxVQUVoRDVFLEtBQUs0RSxRQUNkLENBR08sV0FBTU4sQ0FBT3JFLEVBQXdCaUcsR0FDMUMsSUFBTSxJQUFJQyxLQUFRbkcsS0FBS3dGLHdCQUNyQnZGLEVBQVVtRyxzQkFBdUIsYUFBY0QsR0FLakQsYUFGTW5HLEtBQUswRSxtQkFBb0J6RSxHQUV4QkEsQ0FDVCxFLGlCQzNFSyxTQUFTb0csRUFBaUNDLEdBQy9DLE1BQU8sZ0JBQ0tBLHFFQUVWQyxNQUNKLENBRU8sU0FBU0MsRUFBeUJGLEVBQWdCRyxFQUFtQkMsRUFBZ0IsR0FBSUMsRUFBc0IsSUFDcEgsTUFBTyxrR0FFMEJELHlEQUErREosbUJBQTBCSyxrQ0FDL0ZMLE1BQWFHLDJCQUcxQyxDLDZGQ2RPLFNBQVNHLEVBQXdDQyxHQUN0RCxNQUFPLGdCQUNLQSxvQkFFVk4sTUFDSixDLDBLQ3dDTyxNQUFNTyxVQUFzQixFQUFBdkgsb0JBQzFCd0gsd0NBQXdGLEdBRXJGQSw4QkFBNEQsSUFBSS9CLElBQ2hFK0IsZ0NBQTRDLEdBRS9DQyxPQUNHQyxnQkFBMEIsRUFFN0I3RyxHQUNDOEcsU0FDREMsVUFBb0IsR0FDcEJDLFdBQXFCLEdBQ3JCQyxXQUFxQixHQUNyQkMsWUFBc0IsR0FFbkJDLGVBQXFDLEtBR3JDQyxpQkFHQUMscUJBRUFDLFlBQXNCLEVBQ3RCQyxZQUdBQyxPQUVGQyxVQUVFbEksbUJBQTZCLEVBQzdCQyxxQkFBMkMsS0FFM0NrSSxZQUNIQyx5QkFBa0QsS0FFL0NDLGVBQXNDLElBQUksRUFBQXpJLG9CQUVwRCxXQUFBTSxDQUFhQyxHQUNYLEdBQUtnSCxFQUFjbUIsdUJBQXVCcEMsSUFBSy9GLEVBQVErRyxVQUNyRCxNQUFNLElBQUl6QixNQUFPLDBEQUduQnJGLFFBRUFDLEtBQUtJLEdBQUtOLEVBQVErRyxTQUNsQjdHLEtBQUs2SCxVQUFZL0gsRUFBUW9JLFVBQVksRUFDckNsSSxLQUFLa0gsU0FBV3BILEVBQVFxSSxRQUV4Qm5JLEtBQUs4SCxjQUFjaEksRUFBUXNJLFdBQzNCcEksS0FBS0wsb0JBQW9CRyxFQUFRSSxpQkFFakNGLEtBQUt3SCxpQkFBbUJWLEVBQWN1Qix3QkFBeUIsQ0FDN0R4QixTQUFVL0csRUFBUStHLFNBQ2xCeEcsVUFBV1AsRUFBUU8sWUFHckJMLEtBQUt5SCxxQkFBdUJYLEVBQWN3Qiw2QkFBOEIsQ0FDdEVoRixjQUFleEQsRUFBUXdELGVBQWlCYyxTQUFTQyxLQUNqRGtFLGdCQUFpQnZJLEtBQUt3SCxtQkFHeEJ4SCxLQUFLd0kseUJBRUx4SSxLQUFLMkgsWUFBYzdILEVBQVFtRCxhQUFjLElBQUFDLHNCQUFzQmxELEtBQUt5SCxzQkFFcEVYLEVBQWNtQix1QkFBdUJuQyxJQUFLaEcsRUFBUStHLFNBQVU3RyxNQUM1REEsS0FBS3lJLGVBQWV4RyxNQUFNLEtBQ3hCakMsS0FBSzBJLG1DQUFtQyxHQUU1QyxDQUVBLFdBQVdQLEdBQ1QsT0FBTyxJQUFBUSxrQkFBa0IzSSxLQUFLa0gsU0FDaEMsQ0FFUSxrQkFBTXVCLEdBQ1osTUFBTUcsUUFBYTVJLEtBQUs2SSxlQUN4QjdJLEtBQUttSCxVQUFZeUIsR0FBUUEsRUFBS0UsTUFBUUYsRUFBS0UsTUFBa0IsR0FDN0Q5SSxLQUFLc0gsWUFBY3NCLEdBQVFBLEVBQUtHLFlBQWNILEVBQUtHLFlBQXdCLEdBQzNFL0ksS0FBS29ILFdBQWF3QixHQUFRQSxFQUFLSSxjQUFnQkosRUFBS0ksY0FBMEIsR0FDOUVoSixLQUFLcUgsV0FBYXVCLEdBQVFBLEVBQUtLLFdBQWFMLEVBQUtLLFdBQXVCLEVBQzFFLENBRU8sV0FBQUMsQ0FBYXBKLElBQ1osSUFBQXFKLHVCQUF1QnJKLEVBQVFxSSxXQUkvQm5JLEtBQUtnSCxRQUFXaEgsS0FBS2dILE9BQU9vQyxlQUtsQ3BKLEtBQUtxSixlQUFnQnZKLEdBRXJCRSxLQUFLZ0gsT0FBT3NDLE9BQVF0SixLQUFLa0ksVUFBVSxHQUM5QmxJLEtBQUt1SixVQUNSdkosS0FBSzZCLDJCQUVMN0IsS0FBS3FDLDZCQVZMbUgsWUFBWSxJQUFNeEosS0FBS2tKLFlBQWFwSixJQUFXLEtBWW5ELENBRVEsY0FBQXVKLENBQWdCdkosR0FDdEJFLEtBQUtJLEdBQUtOLEVBQVErRyxTQUNsQjdHLEtBQUtrSCxTQUFXcEgsRUFBUXFJLFFBQ3hCbkksS0FBS2tJLFNBQVdwSSxFQUFRb0ksVUFBWWxJLEtBQUtrSSxTQUV6Q2xJLEtBQUt5SixXQUNQLENBRVEsU0FBQUEsR0FDTnpKLEtBQUtnSCxPQUFPb0MsY0FBZSxDQUN6QixRQUFXcEosS0FBS21JLFFBQ2hCLGFBQWdCbkksS0FBS2tJLFNBQ3JCLGlCQUFvQixZQUd0QmxJLEtBQUt5SSxlQUFleEcsTUFBTSxLQUN4QmpDLEtBQUswSSxtQ0FBbUMsR0FFNUMsQ0FHTyxrQkFBTUcsR0FDWCxNQUFNYSxRQUFpQixJQUFBQyxlQUF5QkMsTUFBTyxzQ0FBdUM1SixLQUFLNkoseUJBRW5HLElBQUtILEVBQVNJLE1BS2QsYUFBYUosRUFBU0ssT0FBT0MsT0FKM0JDLFFBQVFILE1BQU9KLEVBQVNJLE1BSzVCLENBRVUsYUFBQUksQ0FBZUMsR0FDbEJuSyxLQUFLOEgsYUFDUjlILEtBQUtnSCxPQUFPckUsT0FHZG1FLEVBQWNzRCx5QkFBeUJDLEtBQU1ySyxLQUFLSSxJQUNsREosS0FBS3VILGVBQWlCbkQsU0FBU2UsZUFBZ0JuRixLQUFLSSxJQUVwREosS0FBS3dJLHlCQUVMeEksS0FBS2dILE9BQU9zRCxtQkFBb0IsV0FDaEN0SyxLQUFLZ0gsT0FBT3NDLE9BQVF0SixLQUFLNkgsV0FBYSxHQUFHLEdBQ3pDN0gsS0FBS2dILE9BQU91RCxhQUNadkssS0FBS2lILGdCQUFpQixFQUV0QmpILEtBQUt5QyxpQkFBa0IsZ0JBQWlCekMsTUFFeEM4RyxFQUFjMEQsMkJBQ2hCLENBRVUsbUJBQUFDLENBQXFCTixHQUM3Qm5LLEtBQUswSCxXQUFheUMsRUFBTUosT0FBU2pELEVBQWM0RCxxQkFBcUJDLFlBQVlDLFFBRTNFNUssS0FBSzBILFlBQ1IxSCxLQUFLNkssMEJBQ0w3SyxLQUFLK0gseUJBQTJCK0MsYUFBYSxJQUFNOUssS0FBS3lDLGlCQUFrQixZQUFhekMsS0FBTUEsS0FBS3VKLFlBQWEsTUFDckd2SixLQUFLK0gsMkJBQ2YvSCxLQUFLd0kseUJBQ0x1QyxjQUFlL0ssS0FBSytILDBCQUNwQi9ILEtBQUsrSCx5QkFBMkIsTUFHbEMvSCxLQUFLeUMsaUJBQWtCLG9CQUFxQnpDLEtBQU1BLEtBQUt1SixXQUN2RHZKLEtBQUt5QyxpQkFBa0Isc0JBQXVCekMsS0FBTUEsS0FBS3VKLFVBQzNELENBRVUsdUJBQUFzQixHQUNIN0ssS0FBS3VILGlCQUNSdkgsS0FBS3VILGVBQWVsSCxVQUFVbUMsT0FBUSxhQUN0Q3hDLEtBQUt1SCxlQUFlbEgsVUFBVUMsSUFBSyxlQUdyQ04sS0FBS3dILGlCQUFpQm5ILFVBQVVtQyxPQUFRLGFBQ3hDeEMsS0FBS3dILGlCQUFpQm5ILFVBQVVDLElBQUssY0FFckNOLEtBQUt5SCxxQkFBcUJwSCxVQUFVbUMsT0FBUSxhQUM1Q3hDLEtBQUt5SCxxQkFBcUJwSCxVQUFVQyxJQUFLLGFBQzNDLENBRVUsc0JBQUFrSSxHQUNIeEksS0FBS3VILGlCQUNSdkgsS0FBS3VILGVBQWVsSCxVQUFVQyxJQUFLLGFBQ25DTixLQUFLdUgsZUFBZWxILFVBQVVtQyxPQUFRLGVBR3hDeEMsS0FBS3dILGlCQUFpQm5ILFVBQVVDLElBQUssYUFDckNOLEtBQUt3SCxpQkFBaUJuSCxVQUFVbUMsT0FBUSxjQUV4Q3hDLEtBQUt5SCxxQkFBcUJwSCxVQUFVQyxJQUFLLGFBQ3pDTixLQUFLeUgscUJBQXFCcEgsVUFBVW1DLE9BQVEsYUFDOUMsQ0FHVSx5QkFBQXdJLEdBQ1JoTCxLQUFLeUMsaUJBQWtCLDRCQUN6QixDQUVBLHVCQUFXMUIsR0FDVCxPQUFPZixLQUFLSixvQkFDZCxDQUVBLFlBQVdpSyxHQUNULE1BQU8sbUNBQW9DN0osS0FBS21JLFNBQ2xELENBRUEsaUJBQVc3RSxHQUNULE9BQU90RCxLQUFLeUgsb0JBQ2QsQ0FFQSxpQkFBV3dELEdBQ1QsSUFBTWpMLEtBQUt1SCxlQUNULE1BQU0sSUFBSW5DLE1BQU8seUNBR25CLE9BQU9wRixLQUFLdUgsY0FDZCxDQUVBLGlCQUFXMkQsR0FDVCxPQUFPbEwsS0FBS2lILGNBQ2QsQ0FFQSxZQUFXa0UsR0FDVCxPQUFPbkwsS0FBS2dILE9BQU9vRSxjQUFnQnBMLEtBQUs2SCxTQUMxQyxDQUVBLGtCQUFXd0QsR0FDVCxPQUFPckwsS0FBS2dILE9BQU9vRSxhQUNyQixDQUVBLGVBQVdqSyxDQUFhQyxHQUN0QnBCLEtBQUs4QyxLQUFNMUIsRUFDYixDQUVBLGVBQVdELEdBQ1QsT0FBT25CLEtBQUtnSCxPQUFPc0UsaUJBQW1CdEwsS0FBSzZILFNBQzdDLENBRUEscUJBQVcwRCxHQUNULE9BQU92TCxLQUFLZ0gsT0FBT3NFLGdCQUNyQixDQUVBLG1CQUFXRSxHQUNULE9BQU94TCxLQUFLbUIsWUFBY25CLEtBQUttTCxRQUNqQyxDQUVBLHlCQUFXTSxHQUNULE9BQU96TCxLQUFLdUwsa0JBQW9CdkwsS0FBS3FMLGNBQ3ZDLENBRUEsY0FBV2pELEdBQ1QsT0FBT3BJLEtBQUs4SCxXQUNkLENBRUEsYUFBV3lCLEdBQ1QsT0FBT3ZKLEtBQUswSCxVQUNkLENBRUEsY0FBV3pFLEdBQ1QsT0FBT2pELEtBQUsySCxXQUNkLENBRUEsWUFBV08sR0FDVCxPQUFPLElBQUF3RCxPQUFPMUwsS0FBSzZILFVBQVcsRUFBRzdILEtBQUs2SCxVQUN4QyxDQUNBLFlBQVdLLENBQVV5RCxHQUNuQjNMLEtBQUs2SCxXQUFZLElBQUE2RCxPQUFPQyxFQUFLLEVBQUdBLEVBQ2xDLENBRU8sTUFBQWpKLEdBT0wsT0FOSzFDLEtBQUt1SixVQUNSdkosS0FBS3NDLFFBRUx0QyxLQUFLK0IsT0FHQS9CLElBQ1QsQ0FFTyxJQUFBK0IsR0FLTCxPQUpBL0IsS0FBSzZCLDJCQUVMN0IsS0FBS3lDLGlCQUFrQixTQUFVekMsTUFFMUJBLElBQ1QsQ0FFTyx3QkFBQTZCLEdBS0wsT0FKQTdCLEtBQUtnSCxPQUFPNEUsWUFDWjVMLEtBQUswSCxZQUFhLEVBQ2xCMUgsS0FBSzZLLDBCQUVFN0ssSUFDVCxDQUVPLEtBQUFzQyxHQUlMLE9BSEF0QyxLQUFLcUMsNEJBQ0xyQyxLQUFLeUMsaUJBQWtCLFVBQVd6QyxNQUUzQkEsSUFDVCxDQUVPLHlCQUFBcUMsR0FLTCxPQUpBckMsS0FBS2dILE9BQU91RCxhQUNadkssS0FBSzBILFlBQWEsRUFDbEIxSCxLQUFLd0kseUJBRUV4SSxJQUNULENBRU8sSUFBQThDLENBQU1DLEVBQWtCOEksR0FBd0IsRUFBT0MsR0FBNEIsR0FLeEYsT0FKQTlMLEtBQUt5QyxpQkFBa0IsU0FBVU0sRUFBVThJLEVBQWNDLEVBQWtCOUwsTUFFM0UrQyxHQUFZK0ksRUFBbUI5TCxLQUFLNkgsVUFBWSxFQUNoRDdILEtBQUtnSCxPQUFPc0MsT0FBUXZHLEVBQVU4SSxHQUN2QjdMLElBQ1QsQ0FFTyxJQUFBMkMsR0FFTCxPQURBM0MsS0FBS2dILE9BQU9yRSxPQUNMM0MsSUFDVCxDQUVPLE1BQUE2QyxHQUVMLE9BREE3QyxLQUFLZ0gsT0FBT25FLFNBQ0w3QyxJQUNULENBRUEsZ0NBQU93SyxHQUNvQixJQUFJMUQsRUFBY21CLHVCQUF1QjhELFFBQ3BCQyxNQUFNQyxJQUFNak0sS0FBS29LLHlCQUF5QjhCLFNBQVVELE9BR2hHak0sS0FBS21NLGlDQUFpQ0MsU0FBU0MsR0FBS0EsRUFBRUMsTUFBT3hGLEVBQWNtQiwwQkFFM0VuQixFQUFjbUIsdUJBQXVCbUUsU0FBUyxDQUFFVCxFQUFLWSxLQUNuRFosRUFBSVgsMkJBQTJCLElBR3JDLENBRUEsOEJBQU8zQyxFQUF5QixTQUFFeEIsRUFBUSxVQUFFeEcsSUFDMUMsTUFBTW1NLEVBQWVwSSxTQUFTaUIsY0FBZSxPQVE3QyxPQVBBbUgsRUFBYW5NLFVBQVVDLElBQUssdUJBQ3ZCRCxHQUNIbU0sRUFBYW5NLFVBQVVDLE9BQVFELEdBR2pDbU0sRUFBYXBNLEdBQUsseUJBQTBCeUcsSUFDNUMyRixFQUFhQyxtQkFBb0IsY0FBYyxJQUFBN0Ysd0NBQXdDQyxJQUNoRjJGLENBQ1QsQ0FFQSxtQ0FBT2xFLEVBQThCLGNBQUVoRixFQUFhLGdCQUFFaUYsSUFDcEQsTUFBTW1FLEVBQXNCcEosR0FBaUJjLFNBQVNDLEtBR3RELE9BRkFxSSxFQUFvQnJNLFVBQVVDLElBQUssb0JBQ25Db00sRUFBb0J0RyxzQkFBdUIsYUFBY21DLEdBQ2xEbUUsQ0FDVCxDQUdRLHVCQUFBQyxHQUNOM00sS0FBSzRNLHdCQUNMNU0sS0FBSzZNLHFDQUVMN00sS0FBSzBJLG1DQUNQLENBRVEsaUNBQUFBLEdBQ04xSSxLQUFLOE0sK0JBQ0w5TSxLQUFLK00sc0JBQ0wvTSxLQUFLZ04sa0NBQ1AsQ0FFUSxxQkFBQUosR0FDTjVNLEtBQUs0SCxPQUFTZCxFQUFjbUcsbUJBQW9Cak4sTUFDaERBLEtBQUs0SCxPQUFPaEUsTUFBTUUsT0FBUyxLQUM3QixDQUVRLGtDQUFBK0ksR0FDTjdNLEtBQUtKLHFCQUF1QmtILEVBQWNyRyxnQ0FBaUNULE1BRTNFQSxLQUFLSixxQkFBcUJnRSxNQUFNQyxRQUFVN0QsS0FBS0wsa0JBQW9CLFFBQVUsT0FDN0VLLEtBQUtKLHFCQUFxQmdFLE1BQU1FLE9BQVMsTUFFekM5RCxLQUFLSixxQkFBcUJXLGlCQUFrQixTQUFXMk0sSUFDckRsTixLQUFLeUMsaUJBQWtCLDRCQUE2QnpDLEtBQU1BLEtBQUtKLHNCQUMvREksS0FBS3lDLGlCQUFrQix1QkFBd0J6QyxLQUFNQSxLQUFLSixxQkFBc0IsR0FFcEYsQ0FFUSxnQ0FBQW9OLEdBQ0FoTixLQUFLZSxzQkFJWCxJQUFBRCw0QkFBNEJkLEtBQUtlLG9CQUFxQmYsS0FBS1ksd0JBQzdELENBRVEsNEJBQUFrTSxHQUNBOU0sS0FBS3dILG1CQUlYLElBQUExRyw0QkFBNEJkLEtBQUt3SCxpQkFBa0J4SCxLQUFLWSx3QkFDMUQsQ0FFUSxtQkFBQW1NLEdBQ0EvTSxLQUFLNEgsU0FJWCxJQUFBOUcsNEJBQTRCZCxLQUFLNEgsT0FBUTVILEtBQUtZLHdCQUNoRCxDQUVBLG9CQUFXVixDQUFrQnlMLEdBQzNCM0wsS0FBS0wsa0JBQW9CZ00sRUFFcEIzTCxLQUFLSix1QkFDUkksS0FBS0oscUJBQXFCZ0UsTUFBTUMsUUFBVTdELEtBQUtMLGtCQUFvQixRQUFVLE9BRWpGLENBRU8sVUFBQXdOLEdBQ0xuTixLQUFLZ0gsT0FBUyxJQUFJRixFQUFjNEQscUJBQXFCMEMsT0FBUXBOLEtBQUtJLEdBQUksQ0FDcEUrSCxRQUFTbkksS0FBS21JLFFBQ2R6RSxNQUFPMUQsS0FBS2lELFdBQVdTLE1BQ3ZCQyxPQUFRM0QsS0FBS2lELFdBQVdVLE9BQ3hCMEosV0FBWSxDQUNWLElBQU8sRUFDUCxlQUFrQixFQUNsQixTQUFZLEVBQ1osU0FBWSxFQUNaLFNBQVksR0FFZEMsT0FBUSxDQUNOLFFBQVd0TixLQUFLa0ssY0FBY3FELEtBQU12TixNQUNwQyxjQUFpQkEsS0FBS3lLLG9CQUFvQjhDLEtBQU12TixRQUd0RCxDQUVVK0csNEJBRVYsMkJBQVluRyxHQUNWLE1BQU8sQ0FDTCxDQUFDLGVBQWdCWixLQUFLSSxJQUN0QixDQUFDLHVCQUF3QkosS0FBS21ILFdBQzlCLENBQUMsK0JBQWdDbkgsS0FBS3NILGFBQ3RDLENBQUMsNEJBQTZCdEgsS0FBS29ILFlBQ25DLENBQUMsOEJBQStCcEgsS0FBS3FILFlBRXpDLENBRUEsbUJBQU9tRyxHQUNMLElBQUlDLEVBQU1ySixTQUFTaUIsY0FBZSxVQUNsQ29JLEVBQUlyTixHQUFLLGNBRVRxTixFQUFJak8sSUFBTSxxQ0FDVixJQUFJa08sRUFBaUJ0SixTQUFTdUoscUJBQXNCLFVBQVcsR0FDMURELEdBQWtCQSxFQUFlRSxZQUNwQ0YsRUFBZUUsV0FBV0MsYUFBY0osRUFBS0MsSUFHL0MsSUFBQUksd0JBQXdCLGdCQUFpQjdMLE1BQU0sTUFDN0MsSUFBQThMLGlCQUFzQixNQUNsQnJILEdBQytCLG1CQUFqQkEsRUFBTTBHLFFBQ2YxRyxFQUFNMEcsT0FBT1ksV0FDYnRILEVBQU0wRyxPQUFPWSxVQUFVbk8sY0FBZ0I2RyxFQUFNMEcsUUFDN0MxRyxFQUFNdUgsU0FFWHZILElBQ0FJLEVBQWM0RCxxQkFBdUJoRSxFQUNyQ0ksRUFBY29ILDBCQUEwQixHQUN2QyxHQUVULENBRUEsK0JBQU9BLEdBQ0xsTyxLQUFLaUksdUJBQXVCbUUsU0FBUyxDQUFFVCxFQUFLWSxLQUMxQ1osRUFBSWdCLDBCQUNKaEIsRUFBSXdCLFlBQVksR0FFcEIsQ0FFQSx5QkFBT0YsQ0FBb0JrQixHQUN6QixPQUFPLElBQUE5SywrQkFBK0IsQ0FDcENDLGNBQWVjLFNBQVNlLGVBQWdCZ0osRUFBUy9OLElBQU1rRCxjQUN2RGxELEdBQUksNEJBQTZCK04sRUFBUy9OLEtBQzFDbUQsU0FBVSxDQUFFQyxJQUFLLEVBQUdDLEtBQU0sR0FDMUJSLFdBQVksQ0FBRVMsTUFBT3lLLEVBQVNsTCxXQUFXUyxNQUFPQyxPQUFxQyxHQUE3QndLLEVBQVNsTCxXQUFXVSxTQUVoRixDQUdBLHNDQUFPbEQsQ0FBaUMwTixHQUN0QyxNQUFNL0ssR0FBc0IsSUFBQUMsK0JBQStCLENBQ3pEQyxjQUFlYyxTQUFTZSxlQUFnQmdKLEVBQVMvTixJQUFNa0QsY0FDdkRsRCxHQUFJLCtCQUFnQytOLEVBQVMvTixLQUM3Q21ELFNBQVUsQ0FBRUMsSUFBSyxFQUFHQyxLQUFNLEdBQzFCUixXQUFZLENBQUVTLE1BQU95SyxFQUFTbEwsV0FBV1MsTUFBT0MsT0FBUXdLLEVBQVNsTCxXQUFXVSxVQUs5RSxPQUZBUCxFQUFvQi9DLFVBQVVDLElBQUssNEJBRTVCOEMsQ0FDVCxFLDZHQ3ZpQkZnTCxPQUFPSixVQUFVSyxjQUFnQixXQUMvQixNQUF1QixpQkFBVHJPLE9BQXNCQSxNQUFpQixLQUFUQSxJQUM5QyxFQUVBb08sT0FBT0osVUFBVU0sU0FBVyxTQUFXQyxFQUFhQyxFQUFvQixPQUN0RSxPQUFTeE8sS0FBS3lPLE9BQVNGLEVBQU12TyxLQUFLME8sVUFBVyxFQUFHSCxHQUFRQyxFQUFZeE8sTUFBTzJPLFVBQzdFLEVBRUFQLE9BQU9KLFVBQVVZLGNBQWdCLFdBQy9CLE9BQU81TyxLQUFLNk8sVUFBVyxPQUFRQyxRQUFTLG1CQUFvQixHQUM5RCxFQUVBVixPQUFPSixVQUFVL0gsc0JBQXdCLFdBQ3ZDLE1BQXFCLGlCQUFUakcsS0FDSCxHQUdGQSxLQUFLK08sT0FBUSxHQUFJQyxjQUFnQmhQLEtBQUswTyxVQUFXLEVBQzFELEVBRUFOLE9BQU9KLFVBQVVpQixXQUFhLFdBQzVCLE9BQU9qUCxLQUFLa1AsU0FBVSxFQUFHLElBQzNCLEMsNEdDOUJPLE1BQU0zUCxFQUNKNFAsYUFBd0MsSUFBSW5LLElBRTVDLGdCQUFBekUsQ0FBa0I2TyxFQUFtQmpGLEdBQ3BDbkssS0FBS21QLGFBQWF0SixJQUFLdUosRUFBVUMsZUFLdkNyUCxLQUFLbVAsYUFBYW5KLElBQUtvSixFQUFVQyxlQUFpQmhGLEtBQU1GLEdBSnREbkssS0FBS21QLGFBQWFySixJQUFLc0osRUFBVUMsY0FBZSxDQUFDbEYsR0FLckQsQ0FFTyxlQUFBbUYsQ0FBaUJGLEdBS3RCLE9BSk1wUCxLQUFLbVAsYUFBYXRKLElBQUt1SixFQUFVQyxnQkFDckNyUCxLQUFLbVAsYUFBYXJKLElBQUtzSixFQUFVQyxjQUFlLElBRzNDclAsS0FBS21QLGFBQWFuSixJQUFLb0osRUFBVUMsY0FDMUMsQ0FHTyxnQkFBQTVNLENBQWtCMk0sS0FBc0JHLEdBQzdDdlAsS0FBS3NQLGdCQUFpQkYsR0FBWWhELFNBQVNvRCxHQUFLQSxLQUFNRCxJQUN4RCxFLDhHQ0ZLLFNBQVM5SyxFQUF1QmdMLEVBQXNCakwsR0FDM0QsTUFBTS9FLEdBQWUsSUFBQWlRLG9CQU1oQixTQUEyQkQsRUFBc0JqTCxHQUN0RCxNQUFPLG1CQUFvQkEsRUFTN0IsU0FBMkNBLEdBT3pDLE1BQU8sSUFOU0EsRUFBYXBFLEdBQUssT0FBU29FLEVBQWFwRSxHQUFLLElBQU0sTUFDN0NvRSxFQUFhbUwsVUFBWW5MLEVBQWFvTCxTQUFXLFdBQWEsTUFDakVwTCxFQUFhcUwsTUFBUSxRQUFVLE1BQ2hDckwsRUFBYXNMLEtBQU8sT0FBUyxNQUMxQnRMLEVBQWF1TCxRQUFVLFlBQWN2TCxFQUFhdUwsUUFBVSxJQUFNLEtBRUlDLFNBQzdGLENBakI0Q0MsQ0FBa0N6TCxHQUFpQixZQUN4RmlMLEVBQVdTLEtBQUsxUSxHQUFPbUMsRUFBbUJuQyxLQUFRMlEsUUFBUSxDQUFFQyxFQUFLQyxJQUFVRCxFQUFNQyxHQUFNLGlCQUU5RixDQVYyQ0MsQ0FBa0JiLEVBQVlqTCxJQUd2RSxPQUZBSixTQUFTQyxLQUFLK0Isc0JBQXVCLGFBQWMzRyxJQUNuRCxJQUFBOFEsYUFBYTlRLEdBQ05BLENBQ1QsQ0FRTyxTQUFTa0MsRUFBbUJuQyxHQUNqQyxNQUFPLGdCQUFpQkEsbUJBQXNCLElBQUFnUixrQkFBa0JoUixNQUNsRSxDLHFTQ2hDTyxNQU1NaVIsRUFBOEIsSUFBSXpMLElBQ2xDMEwsRUFBZ0MsSUFBSTFMLElBQ3BDMkwsRUFBd0IsSUFBSTNMLElBZWxDNEwsZUFBZWpILEVBQWtCa0gsR0FDdEMsSUFDRSxNQUFNOUcsUUFBYThHLEVBRW5CLE1BQU8sQ0FDTDlHLEtBQU0sSUFBTUEsRUFDWkQsTUFBTyxLQUVYLENBQUUsTUFBUUEsR0FHUixPQUZBRyxRQUFRSCxNQUFPQSxHQUVSLENBQ0xDLEtBQU0sS0FBUSxNQUFNLElBQUkzRSxNQUFPLHVEQUF3RCxFQUN2RjBFLE1BQU9BLGFBQWlCMUUsTUFBUTBFLEVBQVEsSUFBSTFFLE1BQU9nSixPQUFRdEUsSUFFL0QsQ0FDRixDQUVPLFNBQVNYLEVBQXVCMkgsR0FJckMsTUFIbUIsd0RBR0RDLEtBQU1ELElBRk4sc0JBRTJCQyxLQUFNRCxFQUNyRCxDQVFPLFNBQVNuSSxFQUFrQm1JLEdBQ2hDLE1BQ01FLEVBQVFGLEVBQU1FLE1BRE4sa0JBRWQsT0FBS0EsR0FBU0EsRUFBTSxHQUNYQSxFQUFNLEdBR1csS0FBakJGLEVBQU1yQyxPQUFnQnFDLEVBQVEsSUFFekMsQ0FHTyxTQUFTaFEsRUFBNEJtUSxFQUFzQkMsR0FDaEVBLEVBQVM5RSxTQUFTLEVBQUdHLEVBQUtaLE1BQ3hCc0YsRUFBUUUsYUFBYzVFLEVBQUtaLEVBQUssR0FFcEMsQ0FFTyxTQUFTK0QsRUFBb0IwQixFQUFjN0ssR0FBZ0IsR0FHaEUsS0FGQTZLLEVBQU83SyxFQUFPNkssRUFBSzdLLE9BQVM2SyxHQUcxQixPQUFPLEtBR1QsTUFBTWxNLEVBQVdkLFNBQVNpQixjQUFlLFlBQ3pDSCxFQUFTeEQsVUFBWTBQLEVBQ3JCLE1BQU1DLEVBQVNuTSxFQUFTSSxRQUFRSSxTQUVoQyxPQUF1QixJQUFsQjJMLEVBQU81QyxPQUNINEMsRUFBTyxHQUdUL1AsTUFBTUMsS0FBTThQLEVBQ3JCLENBWU8sU0FBU25PLEVBQXNCK04sR0FDcEMsSUFBSUssRUFBT0wsRUFBUU0sd0JBRW5CLE1BQU8sQ0FDTDdOLE1BQU80TixFQUFLNU4sTUFDWkMsT0FBUTJOLEVBQUszTixPQUVqQixDQXNGTyxTQUFTb0ssRUFBb0J5RCxFQUFzQkMsRUFBeUNDLEdBQ2pHLE1BQ01DLEVBQU83RyxhQUFhLFVBQ2lCOUksSUFBbEM0UCxPQUFnQkosSUFBK0JDLEVBQWtCRyxPQUFnQkosTUFFdEZ6RyxjQUFlNEcsR0FDZkQsRUFBWUUsT0FBZ0JKLElBQzlCLEdBTm1CLElBUXZCLENBRU8sU0FBUzFELEVBQXdCK0QsR0FDdEMsT0FBTyxJQUFJQyxTQUFTQyxJQUNsQixHQUFLM04sU0FBU2xELGNBQWUyUSxHQUMzQixPQUFPRSxFQUFTM04sU0FBU2xELGNBQWUyUSxJQUcxQyxNQUFNRyxFQUFXLElBQUlDLGtCQUFrQkMsSUFDaEM5TixTQUFTbEQsY0FBZTJRLEtBQzNCRyxFQUFTRyxhQUNUSixFQUFTM04sU0FBU2xELGNBQWUyUSxJQUNuQyxJQUdGRyxFQUFTSSxRQUFTaE8sU0FBU0MsS0FBTSxDQUMvQmdPLFdBQVcsRUFDWEMsU0FBUyxHQUNSLEdBRVAsQ0FzTU8sU0FBU2pQLEdBQStCLGNBQUVDLEVBQWEsR0FBRWxELEVBQUUsU0FBRW1ELEVBQVEsV0FBRU4sSUFDNUUsSUFBSXNQLEVBQWVuTyxTQUFTaUIsY0FBZSxPQWlCM0MsT0FmTS9CLEVBQWNNLE1BQU1MLFdBQ3hCRCxFQUFjTSxNQUFNTCxTQUFXLFlBR2pDZ1AsRUFBYW5TLEdBQUtBLEVBQ2xCbVMsRUFBYTNPLE1BQU1MLFNBQVcsV0FDOUJnUCxFQUFhM08sTUFBTUYsTUFBUVQsR0FBY0EsRUFBV1MsTUFBUVQsRUFBV1MsTUFBTWlMLFdBQWEsS0FBTyxPQUNqRzRELEVBQWEzTyxNQUFNRCxPQUFTVixHQUFjQSxFQUFXVSxPQUFTVixFQUFXVSxPQUFPZ0wsV0FBYSxLQUFPLE9BQ3BHNEQsRUFBYTNPLE1BQU1KLEtBQVFELEdBQVVDLElBQUltTCxZQUFjLEtBQVEsS0FDL0Q0RCxFQUFhM08sTUFBTUgsTUFBU0YsR0FBVUUsS0FBS2tMLFlBQWMsS0FBUSxLQUNqRTRELEVBQWEzTyxNQUFNNE8sUUFBVSxJQUM3QkQsRUFBYTNPLE1BQU02TyxjQUFnQixPQUVuQ25QLEVBQWNpQyxZQUFhZ04sR0FFcEJBLENBQ1QsQ0FFTyxTQUFTaEMsRUFBYVUsR0FDM0JBLEVBQVFyTixNQUFNQyxRQUFVLFFBQ3hCb04sRUFBUXJOLE1BQU1MLFNBQVcsV0FDekIwTixFQUFRck4sTUFBTUUsT0FBUyxLQUN2Qm1OLEVBQVFyTixNQUFNNE8sUUFBVSxJQUN4QnZCLEVBQVFyTixNQUFNRixNQUFRLGlCQUN0QnVOLEVBQVFyTixNQUFNRCxPQUFTLGlCQUN2QnNOLEVBQVFFLGFBQWMsU0FBVSxHQUNsQyxDQTlONkMsSUFBSW5NLElBMEVqRDRNLE9BQU9yUixpQkFBa0IsV0FBVzJNLElBQzVCQSxFQUFJd0YsUUFqQlosU0FBb0N4RixHQUNsQyxJQUFNLE1BQU15RixLQUFRbEMsRUFDYnZELEVBQUkwRixPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUd2RyxTQUFTeUcsR0FBV0EsRUFBUzNGLElBRzNDLENBWUk0RixDQUEyQjVGLEdBVi9CLFNBQWtDQSxHQUNoQyxJQUFNLE1BQU15RixLQUFRakMsRUFDYnhELEVBQUkwRixPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUd2RyxTQUFTeUcsR0FBV0EsRUFBUzNGLElBRzNDLENBT0U2RixDQUF5QjdGLEVBQUssSUFHaEMwRSxPQUFPclIsaUJBQWtCLFNBQVMyTSxJQUNoQyxJQUFNLE1BQU15RixLQUFRaEMsRUFDYnpELEVBQUkwRixPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUd2RyxTQUFTeUcsR0FBV0EsRUFBUzNGLElBRXpDLEcsb0ZDbFJLLFNBQVNyTSxFQUFnQm1TLEdBQzlCLE1BRU1oQyxFQUZRLHdCQUVNaUMsS0FBTUQsR0FDMUIsT0FBS2hDLEdBQVNBLEVBQU12QyxPQUFTLEVBQ3BCdUMsRUFBTSxHQUVOZ0MsQ0FFWCxDQUVPLFNBQVN4QyxFQUFrQnZQLEdBQ2hDLElBQUssSUFBQW9OLGVBQWVwTixHQUFhLE1BQU8sR0FFeEMsTUFBTWlTLEVBQWlCalMsRUFBU2tTLE1BQU8sS0FBTUMsTUFDN0MsR0FBS0YsR0FBa0JBLElBQW1CalMsRUFDeEMsT0FBT2lTLEVBR1QsTUFBTUcsRUFBY3BTLEVBQVNrUyxNQUFPLEtBQU1DLE1BQzFDLE9BQUtDLEdBQWVBLElBQWdCcFMsRUFDM0JvUyxFQUdGLEVBQ1QsQyxnQkNxQk8sU0FBUzNILEVBQU80SCxFQUFjLEVBQUdDLEVBQWMsRUFBR2hGLEVBQWMsS0FDckUsT0FBT2lGLEtBQUtqRixJQUFLZ0YsRUFBS0MsS0FBS0QsSUFBS0QsRUFBSy9FLEdBQ3ZDLEMscUNDeEVPLFNBQVNGLEVBQWVvRixHQUM3QixNQUFzQixpQkFBUkEsSUFBcUJBLEdBQWUsS0FBUkEsQ0FDNUMsQywrQkN0QklDLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjVSLElBQWpCNlIsRUFDSCxPQUFPQSxFQUFhQyxRQUdyQixJQUFJQyxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqREUsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JKLEdBQVVHLEVBQVFBLEVBQU9ELFFBQVNILEdBRy9DSSxFQUFPRCxPQUNmLENDckJBSCxFQUFvQk0sRUFBS0YsSUFDeEIsSUFBSUcsRUFBU0gsR0FBVUEsRUFBT0ksV0FDN0IsSUFBT0osRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREFKLEVBQW9CUyxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxDQUFNLEVDTGRQLEVBQW9CUyxFQUFJLENBQUNOLEVBQVNRLEtBQ2pDLElBQUksSUFBSS9ILEtBQU8rSCxFQUNYWCxFQUFvQnRILEVBQUVpSSxFQUFZL0gsS0FBU29ILEVBQW9CdEgsRUFBRXlILEVBQVN2SCxJQUM1RWdJLE9BQU9DLGVBQWVWLEVBQVN2SCxFQUFLLENBQUVrSSxZQUFZLEVBQU16TyxJQUFLc08sRUFBVy9ILElBRTFFLEVDTkRvSCxFQUFvQnRILEVBQUksQ0FBQ3FJLEVBQUtDLElBQVVKLE9BQU92RyxVQUFVNEcsZUFBZUMsS0FBS0gsRUFBS0MsR0NDbEZoQixFQUFvQjFILEVBQUs2SCxJQUNILG9CQUFYZ0IsUUFBMEJBLE9BQU9DLGFBQzFDUixPQUFPQyxlQUFlVixFQUFTZ0IsT0FBT0MsWUFBYSxDQUFFck8sTUFBTyxXQUU3RDZOLE9BQU9DLGVBQWVWLEVBQVMsYUFBYyxDQUFFcE4sT0FBTyxHQUFPLEUscUdDWXZELE1BQU1zTyxVQUFtQixFQUFBelYsb0JBQ2RVLFVBQ1RnVixpQkFDQUMsb0JBRUNDLG1CQUNBQyxvQkFBZ0MsR0FFaENDLHFCQUF1QixJQUFJQyxJQUMzQkMseUJBQTJCLElBQUl2USxJQUMvQndRLG9CQUFnRCxJQUFJeFEsSUFFNUQsV0FBQW5GLENBQWFDLEdBQ1hDLFFBRUFDLEtBQUtDLFVBQVlILEVBQVFHLFVBRXpCRCxLQUFLaVYsaUJBQW1CblYsRUFBUW1WLGtCQUFvQixHQUNwRGpWLEtBQUtrVixvQkFBc0JwVixFQUFRb1YscUJBQXVCLEdBRTFEbFYsS0FBS21WLG1CQUFxQixJQUFJclYsRUFBUTJWLGVBQWdCM1YsRUFBUTRWLFlBRTlENVYsRUFBUTJWLFlBQVlySixTQUFTdUosSUFDM0IzVixLQUFLNFYsa0JBQW1COVYsRUFBUUcsVUFBVUcsR0FBSXVWLEVBQVUsSUFHMUQ3VixFQUFRNFYsV0FBV3RKLFNBQVNqRSxJQUMxQm5JLEtBQUs2VixVQUFXLEdBQUkvVixFQUFRRyxVQUFVRyxvQkFBc0IrSCxJQUFZQSxFQUFTLEdBRXJGLENBRUEsSUFBQTJOLEdBQ0U5VixLQUFLK1Ysc0JBQXNCM0osU0FBV3hHLElBQ3BDQSxFQUFVckYsaUJBQWtCLHdCQUF3QixLQUNsRHFGLEVBQVU5QyxLQUFNLEdBQUcsR0FDbkI4QyxFQUFVL0QsMEJBQTBCLEdBQ25DLElBSUwsRUFBQWlGLGNBQWMwRyxjQUNoQixDQUVPLGdCQUFBd0ksQ0FBa0J4VyxHQUN2QixJQUFNUSxLQUFLd1Ysb0JBQW9CM1AsSUFBS3JHLEdBQ2xDLE1BQU0sSUFBSTRGLE1BQU8sbUNBR25CLE9BQU9wRixLQUFLd1Ysb0JBQW9CeFAsSUFBS3hHLEVBQ3ZDLENBRUEsdUJBQVl5VyxHQUNWLE9BQU9qVyxLQUFLbVYsbUJBQW1CMUcsU0FBV3pPLEtBQUtvVixvQkFBb0IzRyxNQUNyRSxDQUVBLHlCQUFJc0gsR0FDRixPQUFPelUsTUFBTUMsS0FBTXZCLEtBQUtxVixxQkFDMUIsQ0FFUSx3QkFBQWEsQ0FBMEJDLEdBQ2hDLE1BQU1DLEdBQXdCLElBQUExRyxxQkFBb0IsSUFBQXJKLGlDQUFpQzhQLElBRW5GLE9BREFDLEVBQXNCL1YsVUFBVUMsT0FBUU4sS0FBS2tWLHFCQUN0Q2tCLENBQ1QsQ0FFUSxpQkFBQVIsQ0FBbUJPLEVBQXFCM1csR0FDOUMsTUFBTTZXLEVBQWlCclcsS0FBS2tXLHlCQUEwQkMsR0FDdERuVyxLQUFLQyxVQUFVbUcsc0JBQXVCLFlBQWFpUSxHQUVuRCxNQUFNQyxHQUF3QixJQUFBNUcscUJBQW9CLElBQUFsSix5QkFBeUIyUCxFQUFhLFNBQVUzVyxJQUVsRzZXLEVBQWVqUSxzQkFBdUIsWUFBYWtRLEdBQ25EdFcsS0FBS3dWLG9CQUFvQjFQLElBQUtxUSxFQUFhRyxHQUUzQyxFQUFBaFgsZUFBZTZFLHFCQUFzQixDQUNuQzNFLElBQUtBLEVBQ0xXLGVBQWdCLEdBQUlnVyxtQkFBK0IzVyxJQUNuRFUsa0JBQWtCLEVBQ2xCRCxVQUFXb1csSUFDVHBVLE1BQU1rQixJQUNSbkQsS0FBS3FWLHFCQUFxQi9VLElBQUs2QyxHQUMvQm5ELEtBQUt1Vix5QkFBeUJ6UCxJQUFLcVEsRUFBYWhULEdBQ2hEbkQsS0FBS29WLG9CQUFvQi9LLEtBQU04TCxHQUUvQkcsRUFBc0JwVixjQUFlLFNBQVdYLGlCQUFrQixTQUFTLEtBQ3pFUCxLQUFLeUMsaUJBQWtCLFFBQVM2VCxFQUFzQnBWLGNBQWUsU0FBV3dGLE1BQU92RCxHQUN2Rm5ELEtBQUt5QyxpQkFBa0IsVUFBVzZULEVBQXNCcFYsY0FBZSxTQUFXd0YsTUFBT3ZELEdBQ3pGbkQsS0FBS3lDLGlCQUFrQixjQUFlNlQsRUFBc0JwVixjQUFlLFNBQVd3RixNQUFPdkQsR0FDN0ZuRCxLQUFLeUMsaUJBQWtCLGdCQUFpQjZULEVBQXNCcFYsY0FBZSxTQUFXd0YsTUFBT3ZELEVBQWdCLElBRzVHbkQsS0FBS2lXLHFCQUNSalcsS0FBSzhWLE1BQ1AsR0FFSixDQUVRLFNBQUFELENBQVdoUCxFQUFrQnNCLEdBQ25DLEdBQUtuSSxLQUFLdVYseUJBQXlCMVAsSUFBS2dCLEdBQ3RDLE1BQU0sSUFBSXpCLE1BQU8seUNBQTJDeUIsR0FHOUQsTUFBTTBQLEVBQXlCdlcsS0FBS2tXLHlCQUEwQnJQLEdBQzlEN0csS0FBS0MsVUFBVW1HLHNCQUF1QixZQUFhbVEsR0FFbkQsTUFBTUQsR0FBd0IsSUFBQTVHLHFCQUFvQixJQUFBbEoseUJBQXlCSyxFQUFVLFNBQVVzQixJQUMvRm9PLEVBQXVCblEsc0JBQXVCLFlBQWFrUSxHQUMzRHRXLEtBQUt3VixvQkFBb0IxUCxJQUFLZSxFQUFVeVAsR0FFeEMsTUFBTUUsRUFBWSxJQUFJLEVBQUExUCxjQUFlLENBQ25DRCxTQUFVQSxFQUNWc0IsUUFBU0EsRUFDVDdFLGNBQWVpVCxFQUNmck8sU0FBVSxFQUNWN0gsVUFBVyxDQUFDLHNCQUF1QkwsS0FBS2lWLGtCQUN4Qy9VLGtCQUFrQixJQUdwQm9XLEVBQXNCcFYsY0FBZSxTQUFXWCxpQkFBa0IsU0FBUyxLQUN6RVAsS0FBS3lDLGlCQUFrQixRQUFTNlQsRUFBc0JwVixjQUFlLFNBQVd3RixNQUFPOFAsR0FDdkZ4VyxLQUFLeUMsaUJBQWtCLFVBQVc2VCxFQUFzQnBWLGNBQWUsU0FBV3dGLE1BQU84UCxHQUN6RnhXLEtBQUt5QyxpQkFBa0IsY0FBZTZULEVBQXNCcFYsY0FBZSxTQUFXd0YsTUFBTzhQLEdBQzdGeFcsS0FBS3lDLGlCQUFrQixnQkFBaUI2VCxFQUFzQnBWLGNBQWUsU0FBV3dGLE1BQU84UCxFQUFXLElBRzVHeFcsS0FBS3FWLHFCQUFxQi9VLElBQUtrVyxHQUMvQnhXLEtBQUt1Vix5QkFBeUJ6UCxJQUFLZSxFQUFVMlAsR0FDN0N4VyxLQUFLb1Ysb0JBQW9CL0ssS0FBTXhELEdBRTFCN0csS0FBS2lXLHFCQUNSalcsS0FBSzhWLE1BRVQsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0F1ZGlvQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0F1ZGlvQ29tcG9uZW50RmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Db21wb25lbnRDb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU291bmRUYWJsZS9UZW1wbGF0ZXNTb3VuZFRhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1lvdXR1YmVJZnJhbWUvVGVtcGxhdGVzWW91dHViZUlmcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Zb3V0dWJlSWZyYW1lL1lvdXR1YmVJZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dGVuc2lvbnMvU3RyaW5nRXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0F1ZGlvVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0RPTVRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9GaWxlVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL01hdGhUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvU3RyaW5nVG9vbHMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NvdW5kVGFibGUvU291bmRUYWJsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5pbXBvcnQgeyBzb3VyY2VFbGVtZW50SFRNTCB9IGZyb20gJy4uL1Rvb2xzL0F1ZGlvVG9vbHMnO1xyXG5pbXBvcnQgeyBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCwgZ2V0RWxlbWVudERpbWVuc2lvbnMsIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50IH0gZnJvbSAnLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyByZW1vdmVGaWxlUGF0aCB9IGZyb20gJy4uL1Rvb2xzL0ZpbGVUb29scyc7XHJcbmltcG9ydCB7IERpbWVuc2lvbnMgfSBmcm9tICcuLi9Ub29scy9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBBdWRpb0NvbXBvbmVudEZhY3RvcnkgfSBmcm9tICcuL0F1ZGlvQ29tcG9uZW50RmFjdG9yeSc7XHJcbmltcG9ydCB7IElNZWRpYVBsYXllckZ1bmN0aW9ucyB9IGZyb20gJy4vVHlwZXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgQXVkaW9Db21wb25lbnRPcHRpb25zID0ge1xyXG4gIHNyYzogc3RyaW5nO1xyXG4gIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudDtcclxuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gIGF1ZGlvRWxlbWVudElkPzogc3RyaW5nO1xyXG4gIGJsb2NrSW50ZXJhY3Rpb24/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ3JlYXRlQXVkaW9Db21wb25lbnRPcHRpb25zID0ge1xyXG4gIHNyYzogc3RyaW5nO1xyXG4gIGF1ZGlvRWxlbWVudElkPzogc3RyaW5nO1xyXG4gIGJsb2NrSW50ZXJhY3Rpb24/OiBib29sZWFuO1xyXG4gIGNvbnRhaW5lcj86IEhUTUxFbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvQ29tcG9uZW50IGV4dGVuZHMgT2JqZWN0RXZlbnRMaXN0ZW5lciBpbXBsZW1lbnRzIElNZWRpYVBsYXllckZ1bmN0aW9ucyB7XHJcbiAgcHVibGljIHNyYzogc3RyaW5nO1xyXG4gIHB1YmxpYyBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQ7XHJcbiAgcHJpdmF0ZSBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgcHJvdGVjdGVkIF9ibG9ja0ludGVyYWN0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaXZCbG9ja0ludGVyYWN0aW9uOiBIVE1MRWxlbWVudDtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IEF1ZGlvQ29tcG9uZW50T3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5zcmMgPSBvcHRpb25zLnNyYztcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IG9wdGlvbnMuY29udGFpbmVyO1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQgPSBvcHRpb25zLmF1ZGlvRWxlbWVudDtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSBvcHRpb25zLmJsb2NrSW50ZXJhY3Rpb24gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgaWYgKCBvcHRpb25zLmF1ZGlvRWxlbWVudElkICkge1xyXG4gICAgICB0aGlzLmF1ZGlvRWxlbWVudC5pZCA9IG9wdGlvbnMuYXVkaW9FbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbXBvbmVudCcgKTtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdlbmRlZCcsICgpID0+IHtcclxuICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgaWYgKCAhdGhpcy5fY29udGFpbmVyLmlkICkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuaWQgPSBvcHRpb25zLmF1ZGlvRWxlbWVudElkICsgJ0F1ZGlvQ29tcG9uZW50Q29udGFpbmVyJztcclxuICAgIH1cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LWNvbnRhaW5lcicgKTtcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uID0gdGhpcy5nZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB0aGlzICk7XHJcbiAgICB0aGlzLnNldHVwSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpO1xyXG4gICAgdGhpcy5zZXRFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0IF92aWRlb0luZm9BdHRyaWJ1dGVMaXN0KCk6IFtzdHJpbmcsIHN0cmluZ11bXSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICBbJ2F1ZGlvLWNvbXBvbmVudC1zcmMnLCB0aGlzLnNyY10sXHJcbiAgICAgIFsnYXVkaW8tY29tcG9uZW50LW5hbWUnLCByZW1vdmVGaWxlUGF0aCggdGhpcy5zcmMgKV1cclxuICAgIF07XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldEVsZW1lbnRzQXR0cmlidXRlcygpIHtcclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLmF1ZGlvRWxlbWVudCwgdGhpcy5fdmlkZW9JbmZvQXR0cmlidXRlTGlzdCApO1xyXG4gICAgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIHRoaXMuY29udGFpbmVyLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgICBzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCggdGhpcy5kaXZCbG9ja0ludGVyYWN0aW9uLCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHVibGljIGdldCBkaXZCbG9ja0ludGVyYWN0aW9uKCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGF1c2VkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZmlsZU5hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmF1ZGlvRWxlbWVudC5zcmMgfHwgdGhpcy5hdWRpb0VsZW1lbnQucXVlcnlTZWxlY3RvciggJ3NvdXJjZScgKT8uc3JjIHx8ICcnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjdXJyZW50VGltZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBjdXJyZW50VGltZSggdDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgPSB0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzb3VyY2VFbGVtZW50cygpOiBIVE1MU291cmNlRWxlbWVudFtdIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKCB0aGlzLmF1ZGlvRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnc291cmNlJyApICkgYXMgSFRNTFNvdXJjZUVsZW1lbnRbXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjaGFuZ2VTb3VyY2UoIHNyYzogc3RyaW5nICkge1xyXG4gICAgdGhpcy5zcmMgPSBzcmM7XHJcbiAgICB0aGlzLmF1ZGlvRWxlbWVudC5pbm5lckhUTUwgPSBzb3VyY2VFbGVtZW50SFRNTCggdGhpcy5zcmMgKTtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmxvYWQoKTtcclxuICAgIHRoaXMuc2V0RWxlbWVudHNBdHRyaWJ1dGVzKCk7XHJcbiAgICB0aGlzLnN0b3AoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB2YXIgcGxheVByb21pc2UgPSB0aGlzLmF1ZGlvRWxlbWVudC5wbGF5KCk7XHJcblxyXG4gICAgaWYgKCBwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICBwbGF5UHJvbWlzZS50aGVuKCBfID0+IHsgfSApXHJcbiAgICAgICAgLmNhdGNoKCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzUGxheWluZygpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCk7XHJcbiAgICB0aGlzLnNldENsYXNzZXNQYXVzZWQoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2xhc3Nlc1BsYXlpbmcoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbXBvbmVudC1wbGF5aW5nJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICdhdWRpby1jb21wb25lbnQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCAnYXVkaW8tY29tcG9uZW50LXBhdXNlZCcgKTtcclxuICB9XHJcblxyXG4gIHNldENsYXNzZXNQYXVzZWQoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbXBvbmVudC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmNsYXNzTGlzdC5hZGQoICdhdWRpby1jb21wb25lbnQtcGF1c2VkJyApO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnYXVkaW8tY29tcG9uZW50LXBsYXlpbmcnICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoICdhdWRpby1jb21wb25lbnQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgdGhpcy5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBhdXNlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RvcCgpIHtcclxuICAgIHRoaXMucGF1c2UoKTtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnN0b3AnLCB0aGlzICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGUoKSB7XHJcbiAgICBpZiAoIHRoaXMucGF1c2VkICkge1xyXG4gICAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29udG9nZ2xlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBtdXRlKCkge1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQudm9sdW1lID0gMDtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubXV0ZScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5tdXRlKCkge1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQudm9sdW1lID0gMTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29udW5tdXRlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzZWVrKCBzZWVrVGltZTogbnVtYmVyLCBfcmVsb2FkQnVmZmVyPzogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBzZWVrVGltZTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uc2VlaycsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbnMge1xyXG4gICAgcmV0dXJuIGdldEVsZW1lbnREaW1lbnNpb25zKCB0aGlzLl9jb250YWluZXIgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggYXVkaW9Db21wb25lbnQ6IEF1ZGlvQ29tcG9uZW50ICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGVsZW1lbnRJbnZpc2libGVEaXYgPSBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBhdWRpb0NvbXBvbmVudC5fY29udGFpbmVyLFxyXG4gICAgICBpZDogYGludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24keyBhdWRpb0NvbXBvbmVudC5fY29udGFpbmVyLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogYXVkaW9Db21wb25lbnQuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiBhdWRpb0NvbXBvbmVudC5kaW1lbnNpb25zLmhlaWdodCB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgZWxlbWVudEludmlzaWJsZURpdi5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LWRpdi1ibG9jay1pbnRlcmFjdGlvbicgKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudEludmlzaWJsZURpdjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXR1cEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuekluZGV4ID0gJzk5NSc7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uY2xpY2tpbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLy8gYXdhaXRzIGF1ZGlvIGxvYWRzIGZyb20gc291cmNlIHRoZW4gY3JlYXRlcyB0aGUgY29tcG9uZW50XHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyBjcmVhdGVBdWRpb0NvbXBvbmVudE9uQm9keSggb3B0aW9uczogQ3JlYXRlQXVkaW9Db21wb25lbnRPcHRpb25zICk6IFByb21pc2U8QXVkaW9Db21wb25lbnQ+IHtcclxuICAgIGNvbnN0IGF1ZGlvQ29tcG9uZW50Q29udGFpbmVyID0gYXdhaXQgbmV3IEF1ZGlvQ29tcG9uZW50RmFjdG9yeSggb3B0aW9ucy5zcmMgKS5idWlsZE9uQm9keSgpO1xyXG5cclxuICAgIHJldHVybiBuZXcgQXVkaW9Db21wb25lbnQoIHtcclxuICAgICAgc3JjOiBvcHRpb25zLnNyYyxcclxuICAgICAgY29udGFpbmVyOiBhdWRpb0NvbXBvbmVudENvbnRhaW5lcixcclxuICAgICAgYXVkaW9FbGVtZW50OiBhdWRpb0NvbXBvbmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnYXVkaW8nICkhLFxyXG4gICAgICBhdWRpb0VsZW1lbnRJZDogb3B0aW9ucy5hdWRpb0VsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvLyBhd2FpdHMgYXVkaW8gbG9hZHMgZnJvbSBzb3VyY2UgdGhlbiBjcmVhdGVzIHRoZSBjb21wb25lbnRcclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGNyZWF0ZUF1ZGlvQ29tcG9uZW50KCBvcHRpb25zOiBDcmVhdGVBdWRpb0NvbXBvbmVudE9wdGlvbnMgKTogUHJvbWlzZTxBdWRpb0NvbXBvbmVudD4ge1xyXG4gICAgaWYgKCBvcHRpb25zLmNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSB8fCAhb3B0aW9ucy5jb250YWluZXIgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQ29tcG9uZW50T25Cb2R5KCBvcHRpb25zICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXVkaW9Db21wb25lbnRDb250YWluZXIgPSBhd2FpdCBuZXcgQXVkaW9Db21wb25lbnRGYWN0b3J5KCBvcHRpb25zLnNyYyApLmJ1aWxkKCBvcHRpb25zLmNvbnRhaW5lciApO1xyXG5cclxuICAgIHJldHVybiBuZXcgQXVkaW9Db21wb25lbnQoIHtcclxuICAgICAgc3JjOiBvcHRpb25zLnNyYyxcclxuICAgICAgY29udGFpbmVyOiBhdWRpb0NvbXBvbmVudENvbnRhaW5lcixcclxuICAgICAgYXVkaW9FbGVtZW50OiBhdWRpb0NvbXBvbmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnYXVkaW8nICkhLFxyXG4gICAgICBhdWRpb0VsZW1lbnRJZDogb3B0aW9ucy5hdWRpb0VsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9QbGF5ZXJDb25maWcsIGNyZWF0ZUludmlzaWJsZVBsYXllciB9IGZyb20gJy4uL1Rvb2xzL0F1ZGlvVG9vbHMnO1xyXG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICcuL0NvbXBvbmVudENvbnRhaW5lcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9Db21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50Q29udGFpbmVyIHtcclxuICBjb25zdHJ1Y3Rvciggc3JjOiBzdHJpbmcsIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gICAgc3VwZXIoIFwiYXVkaW9Db21wb25lbnRcIiwgY3JlYXRlSW52aXNpYmxlUGxheWVyKCBbc3JjXSwgcGxheWVyQ29uZmlnICkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBidWlsZFN1YkNvbXBvbmVudHMoIHBhcmVudDogSFRNTEVsZW1lbnQgKTogUHJvbWlzZTxIVE1MRWxlbWVudFtdIHwgdm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21wb25lbnRDb250YWluZXIge1xyXG4gIHByb3RlY3RlZCBfZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwdWJsaWMgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIHB1YmxpYyByZWFkb25seSBjb21wb25lbnROYW1lOiBzdHJpbmc7XHJcbiAgcHJvdGVjdGVkIHN1YkNvbXBvbmVudENvdW50QnlOYW1lOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gIHByb3RlY3RlZCBzdWJDb21wb25lbnRzOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gIC8vLyBUZW1wbGF0ZSBpcyBlaXRoZXIgYSBpZCBmb3IgYSBodG1sIHRlbXBsYXRlIGVsZW1lbnQgb3IgYW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWQgYXMgYSB0ZW1wbGF0ZSBpbnNpZGUgZG9jdW1lbnQuYm9keVxyXG4gIGNvbnN0cnVjdG9yKCBjb21wb25lbnROYW1lOiBzdHJpbmcsIHRlbXBsYXRlOiBzdHJpbmcgfCBIVE1MRWxlbWVudCApIHtcclxuICAgIGlmICggdHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJyApIHtcclxuICAgICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRlbXBsYXRlICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuXHJcbiAgICAgIGlmICggIXRlbXBsYXRlRWxlbWVudCApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCB0ZW1wbGF0ZSBmb3Igc2NlbmUgY29tcG9uZW50LiBUZW1wbGF0ZSBpZDogXCIgKyB0ZW1wbGF0ZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRlbXBsYXRlRWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0ZW1wbGF0ZVwiICk7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQuYXBwZW5kQ2hpbGQoIHRlbXBsYXRlICk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMudGVtcGxhdGVFbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXRUZW1wbGF0ZUNsb25lTm9kZXMoKTogSFRNTENvbGxlY3Rpb24ge1xyXG4gICAgcmV0dXJuICggdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUoIHRydWUgKSBhcyBEb2N1bWVudEZyYWdtZW50ICkuY2hpbGRyZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgYnVpbGRTdWJDb21wb25lbnRzKCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnRbXSB8IHZvaWQ+O1xyXG5cclxuICBwcm90ZWN0ZWQgYXN5bmMgYnVpbGRTaW5nbGVTdWJDb21wb25lbnQoIGNvbXBvbmVudDogQ29tcG9uZW50Q29udGFpbmVyLCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGlmICggdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5oYXMoIHRoaXMuY29tcG9uZW50TmFtZSApICkge1xyXG4gICAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCAwICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbXBvbmVudENvdW50ID0gdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5nZXQoIHRoaXMuY29tcG9uZW50TmFtZSApITtcclxuXHJcbiAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCBjb21wb25lbnRDb3VudCArIDEgKTtcclxuXHJcbiAgICByZXR1cm4gYXdhaXQgY29tcG9uZW50LmJ1aWxkKCBwYXJlbnQsIGAkeyB0aGlzLmNvbXBvbmVudE5hbWUgfSR7IGNvbXBvbmVudC5jb21wb25lbnROYW1lLmNhcGl0YWxpemVGaXJzdExldHRlcigpIH0keyBjb21wb25lbnRDb3VudCB9YCApO1xyXG4gIH1cclxuXHJcbiAgLy8vIEdldHMgdGhlIHRlbXBsYXRlIG5vZGVzIGFuZCBpbnNlcnQgdGhlbSBpbnRvIGEgY29udGFpbmVyIHRoZW4gcmV0dXJucyB0aGUgY29udGFpbmVyXHJcbiAgcHVibGljIGFzeW5jIGJ1aWxkT25Cb2R5KCBlbGVtZW50SWQ/OiBzdHJpbmcgKTogUHJvbWlzZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gICAgaWYgKCBlbGVtZW50SWQgKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuaWQgPSBlbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICggbGV0IGl0ZW0gb2YgdGhpcy5nZXRUZW1wbGF0ZUNsb25lTm9kZXMoKSApIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMuX2VsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggYEZhaWwgYnVpbGRpbmcgU2NlbmVDb21wb25lbnQuIEVsZW1lbnRJZDogJHsgZWxlbWVudElkIH1gICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5idWlsZFN1YkNvbXBvbmVudHMoIGRvY3VtZW50LmJvZHkgKTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuX2VsZW1lbnQgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vLyBHZXRzIHRoZSB0ZW1wbGF0ZSBub2RlcyBhbmQgaW5zZXJ0IHRoZW0gaW50byBhIGNvbnRhaW5lciB0aGVuIHJldHVybnMgdGhlIGNvbnRhaW5lclxyXG4gIHB1YmxpYyBhc3luYyBidWlsZCggY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudElkPzogc3RyaW5nICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGZvciAoIGxldCBpdGVtIG9mIHRoaXMuZ2V0VGVtcGxhdGVDbG9uZU5vZGVzKCkgKSB7XHJcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuYnVpbGRTdWJDb21wb25lbnRzKCBjb250YWluZXIgKTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVTb3VuZFRhYmxlSXRlbUNvbnRhaW5lciggaXRlbUlkOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gYFxyXG4gIDxkaXYgaWQ9XCIkeyBpdGVtSWQgfVNvdW5kVGFibGVJdGVtXCIgY2xhc3M9XCJzb3VuZC10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVTb3VuZFRhYmxlSW5wdXQoIGl0ZW1JZDogc3RyaW5nLCBsYWJlbFRleHQ6IHN0cmluZywgdmFsdWU6IHN0cmluZyA9IFwiXCIsIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBcIlwiICkge1xyXG4gIHJldHVybiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiZm9ybS1mbG9hdGluZyBzb3VuZC10YWJsZS1pbnB1dC1jb250YWluZXJcIj5cclxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIkeyB2YWx1ZSB9XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgc291bmQtdGFibGUtaW5wdXRcIiBpZD1cInVybElucHV0JHsgaXRlbUlkIH1cIiBwbGFjZWhvbGRlcj1cIiR7IHBsYWNlaG9sZGVyIH1cIj5cclxuICAgICAgPGxhYmVsIGZvcj1cInVybElucHV0JHsgaXRlbUlkIH1cIj4keyBsYWJlbFRleHQgfTwvbGFiZWw+XHJcbiAgICA8L2Rpdj5cclxuICBgO1xyXG59IiwiXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1cIj5cclxuICA8L2Rpdj5cclxuICBgLnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlWW91dHViZUlmcmFtZVRhYmxlSXRlbSggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1JZnJhbWVUYWJsZUl0ZW1cIiBjbGFzcz1cInl0LWlmcmFtZS10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59IiwiaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGV4dHJhY3RZb3VUdWJlSWQsIGdldEVsZW1lbnREaW1lbnNpb25zLCBoYW5kbGVQcm9taXNlLCBpc1ZhbGlkWW91VHViZVVybCwgaXNWYWxpZFlvdXR1YmVVcmxPcklkLCBwb2xsRm9yVmFyaWFibGUsIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50LCB3YWl0VW50aWxFbGVtZW50RXhpc3RzIH0gZnJvbSAnLi4vLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBEcmFnZ2FibGVFbGVtZW50IH0gZnJvbSAnLi4vLi4vRXh0cmFzL0RyYWdnYWJsZUVsZW1lbnQnO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zLCBjbGFtcCB9IGZyb20gJy4uLy4uL1Rvb2xzL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IH0gZnJvbSAnLi9UZW1wbGF0ZXNZb3V0dWJlSWZyYW1lJztcclxuaW1wb3J0IHsgSU9iamVjdFRvU2V0T25Zb3V0dWJlSWZyYW1lc1JlYWR5IH0gZnJvbSAnLi9UeXBlcyc7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWVTd2l0Y2hlciB9IGZyb20gJy4vWW91dHViZUlmcmFtZVN3aXRjaGVyJztcclxuaW1wb3J0IHsgWW91dHViZUlmcmFtZVN5bmMgfSBmcm9tICcuL1lvdXR1YmVJZnJhbWVTeW5jJztcclxuaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuaW1wb3J0IHsgSU1lZGlhUGxheWVyRnVuY3Rpb25zIH0gZnJvbSAnLi4vVHlwZXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgWW91dHViZUlmcmFtZU9wdGlvbnMgPSB7XHJcbiAgaWZyYW1lSWQ6IHN0cmluZztcclxuICB2aWRlb0lkOiBzdHJpbmc7XHJcbiAgZGltZW5zaW9ucz86IERpbWVuc2lvbnM7XHJcbiAgcGFyZW50RWxlbWVudD86IEhUTUxFbGVtZW50O1xyXG4gIGNsYXNzTGlzdD86IHN0cmluZ1tdO1xyXG4gIHN0YXJ0TXV0ZWQ/OiBib29sZWFuO1xyXG4gIHN0YXJ0c0F0PzogbnVtYmVyO1xyXG4gIGJsb2NrSW50ZXJhY3Rpb24/OiBib29sZWFuO1xyXG4gIHJlcGxheU9uRW5kPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFlvdXR1YmVJZnJhbWVDaGFuZ2VWaWRlb09wdGlvbnMgPSB7XHJcbiAgaWZyYW1lSWQ6IHN0cmluZztcclxuICB2aWRlb0lkOiBzdHJpbmc7XHJcbiAgc3RhcnRzQXQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEcmFnZ2FibGVZb3V0dWJlSWZyYW1lKCB7IGlmcmFtZUlkLCB2aWRlb0lkLCBzdGFydHNBdCwgcGFyZW50RWxlbWVudCwgY2xhc3NMaXN0ID0gW10gfTogWW91dHViZUlmcmFtZU9wdGlvbnMgKSB7XHJcbiAgY29uc3QgaWZyYW1lQ29udHJvbGxlclJlc3VsdCA9IG5ldyBZb3V0dWJlSWZyYW1lKCB7IHN0YXJ0c0F0LCBpZnJhbWVJZCwgdmlkZW9JZCwgcGFyZW50RWxlbWVudCwgY2xhc3NMaXN0IH0gKTtcclxuXHJcbiAgY29uc3QgZHJhZ2dhYmxlUmVzdWx0ID0gbmV3IERyYWdnYWJsZUVsZW1lbnQoIHtcclxuICAgIGVsZW1lbnQ6IHBhcmVudEVsZW1lbnQgPz8gZG9jdW1lbnQuYm9keSxcclxuICAgIGFsbG93RHJhZ2dpbmdCeUlubmVyQ29udGVudDogdHJ1ZSxcclxuICAgIG9uRHJvcDogKCkgPT4ge1xyXG5cclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBpZnJhbWVDb250cm9sbGVyOiBpZnJhbWVDb250cm9sbGVyUmVzdWx0LFxyXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGVSZXN1bHRcclxuICB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFlvdXR1YmVJZnJhbWUgZXh0ZW5kcyBPYmplY3RFdmVudExpc3RlbmVyIGltcGxlbWVudHMgSU1lZGlhUGxheWVyRnVuY3Rpb25zIHtcclxuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGFyck9iamVjdFRvU2V0T25FdmVyeUlmcmFtZVJlYWR5OiBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHlbXSA9IFtdO1xyXG5cclxuICBwcm90ZWN0ZWQgc3RhdGljIF9kaWN0WW91dHViZUlmcmFtZUJ5SWQ6IE1hcDxzdHJpbmcsIFlvdXR1YmVJZnJhbWU+ID0gbmV3IE1hcCgpO1xyXG4gIHByb3RlY3RlZCBzdGF0aWMgX2FycllvdXR1YmVJZnJhbWVJZFJlYWR5OiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICBwdWJsaWMgcGxheWVyOiBhbnkgfCBudWxsO1xyXG4gIHByb3RlY3RlZCBfaXNQbGF5ZXJSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICBwdWJsaWMgaWQ6IHN0cmluZztcclxuICBwcml2YXRlIF92aWRlb0lkOiBzdHJpbmc7XHJcbiAgcHVibGljIHZpZGVvTmFtZTogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIHZpZGVvVGh1bWI6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyBjaGFubmVsVVJMOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgY2hhbm5lbE5hbWU6IHN0cmluZyA9ICcnO1xyXG5cclxuICBwcm90ZWN0ZWQgX2lmcmFtZUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8vIEEgZGl2IHdoaWNoIGlzIGNyZWF0ZWQgYWZ0ZXIgaWZyYW1lIHJlbmRlciBhbmQgaG9sZHMgaWZyYW1lIGVsZW1lbnRcclxuICBwcm90ZWN0ZWQgX2lmcmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIC8vIFRoZSBlbGVtZW50IHRoYXQgaG9sZHMgeyBfaWZyYW1lQ29udGFpbmVyIH1cclxuICBwcm90ZWN0ZWQgX2lmcmFtZVBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwcm90ZWN0ZWQgX2lzUGxheWluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByb3RlY3RlZCBfZGltZW5zaW9uczogRGltZW5zaW9ucztcclxuXHJcbiAgLy8vIENhbiBiZSB1c2VkIHRvIGRyYWcsIGlzIGFuIGludmlzaWJsZSBkaXYgcGxhY2VkIGF0IHRoZSB0b3Agb2YgdGhlIGNvbnRhaW5lclxyXG4gIHByb3RlY3RlZCB0b3BEaXY/OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgcHJpdmF0ZSBfc3RhcnRzQXQ6IG51bWJlcjtcclxuXHJcbiAgcHJvdGVjdGVkIF9ibG9ja0ludGVyYWN0aW9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJvdGVjdGVkIF9kaXZCbG9ja0ludGVyYWN0aW9uOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICBwcm90ZWN0ZWQgX3N0YXJ0TXV0ZWQ6IGJvb2xlYW47XHJcbiAgcHVibGljIF9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJvdGVjdGVkIF9ldmVudExpc3RlbmVyOiBPYmplY3RFdmVudExpc3RlbmVyID0gbmV3IE9iamVjdEV2ZW50TGlzdGVuZXIoKTtcclxuXHJcbiAgY29uc3RydWN0b3IoIG9wdGlvbnM6IFlvdXR1YmVJZnJhbWVPcHRpb25zICkge1xyXG4gICAgaWYgKCBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuaGFzKCBvcHRpb25zLmlmcmFtZUlkICkgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIGlmcmFtZSB0aGVyZSdzIGFscmVhZHkgYW4gaWZyYW1lIHdpdGggdGhpcyBpZC5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWZyYW1lSWQ7XHJcbiAgICB0aGlzLl9zdGFydHNBdCA9IG9wdGlvbnMuc3RhcnRzQXQgPz8gMDtcclxuICAgIHRoaXMuX3ZpZGVvSWQgPSBvcHRpb25zLnZpZGVvSWQ7XHJcblxyXG4gICAgdGhpcy5fc3RhcnRNdXRlZCA9IG9wdGlvbnMuc3RhcnRNdXRlZCA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSBvcHRpb25zLmJsb2NrSW50ZXJhY3Rpb24gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyID0gWW91dHViZUlmcmFtZS5nZXRZb3V0dWJlSWZyYW1lRWxlbWVudCgge1xyXG4gICAgICBpZnJhbWVJZDogb3B0aW9ucy5pZnJhbWVJZCxcclxuICAgICAgY2xhc3NMaXN0OiBvcHRpb25zLmNsYXNzTGlzdFxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQgPSBZb3V0dWJlSWZyYW1lLnNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogb3B0aW9ucy5wYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksXHJcbiAgICAgIGlmcmFtZUNvbnRhaW5lcjogdGhpcy5faWZyYW1lQ29udGFpbmVyXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgdGhpcy5fZGltZW5zaW9ucyA9IG9wdGlvbnMuZGltZW5zaW9ucyA/PyBnZXRFbGVtZW50RGltZW5zaW9ucyggdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudCApO1xyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5zZXQoIG9wdGlvbnMuaWZyYW1lSWQsIHRoaXMgKTtcclxuICAgIHRoaXMuc2V0VmlkZW9JbmZvKCkudGhlbiggKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzQXR0cmlidXRlcygpO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2aWRlb0lkKCkge1xyXG4gICAgcmV0dXJuIGV4dHJhY3RZb3VUdWJlSWQoIHRoaXMuX3ZpZGVvSWQgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgc2V0VmlkZW9JbmZvKCkge1xyXG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHRoaXMuZ2V0VmlkZW9JbmZvKCk7XHJcbiAgICB0aGlzLnZpZGVvTmFtZSA9IGluZm8gJiYgaW5mby50aXRsZSA/IGluZm8udGl0bGUgYXMgc3RyaW5nIDogJyc7XHJcbiAgICB0aGlzLmNoYW5uZWxOYW1lID0gaW5mbyAmJiBpbmZvLmF1dGhvcl9uYW1lID8gaW5mby5hdXRob3JfbmFtZSBhcyBzdHJpbmcgOiAnJztcclxuICAgIHRoaXMudmlkZW9UaHVtYiA9IGluZm8gJiYgaW5mby50aHVtYm5haWxfdXJsID8gaW5mby50aHVtYm5haWxfdXJsIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgdGhpcy5jaGFubmVsVVJMID0gaW5mbyAmJiBpbmZvLmF1dGhvcl91cmwgPyBpbmZvLmF1dGhvcl91cmwgYXMgc3RyaW5nIDogJyc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2hhbmdlVmlkZW8oIG9wdGlvbnM6IFlvdXR1YmVJZnJhbWVDaGFuZ2VWaWRlb09wdGlvbnMgKTogdm9pZCB7XHJcbiAgICBpZiAoICFpc1ZhbGlkWW91dHViZVVybE9ySWQoIG9wdGlvbnMudmlkZW9JZCApICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCAhdGhpcy5wbGF5ZXIgfHwgIXRoaXMucGxheWVyLmxvYWRWaWRlb0J5SWQgKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoICgpID0+IHRoaXMuY2hhbmdlVmlkZW8oIG9wdGlvbnMgKSwgMTAwICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnByZXBhcmVPcHRpb25zKCBvcHRpb25zICk7XHJcblxyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCB0aGlzLnN0YXJ0c0F0LCB0cnVlICk7XHJcbiAgICBpZiAoIHRoaXMuaXNQbGF5aW5nICkge1xyXG4gICAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHByZXBhcmVPcHRpb25zKCBvcHRpb25zOiBZb3V0dWJlSWZyYW1lQ2hhbmdlVmlkZW9PcHRpb25zICkge1xyXG4gICAgdGhpcy5pZCA9IG9wdGlvbnMuaWZyYW1lSWQ7XHJcbiAgICB0aGlzLl92aWRlb0lkID0gb3B0aW9ucy52aWRlb0lkO1xyXG4gICAgdGhpcy5zdGFydHNBdCA9IG9wdGlvbnMuc3RhcnRzQXQgPz8gdGhpcy5zdGFydHNBdDtcclxuXHJcbiAgICB0aGlzLmxvYWRWaWRlbygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb2FkVmlkZW8oKSB7XHJcbiAgICB0aGlzLnBsYXllci5sb2FkVmlkZW9CeUlkKCB7XHJcbiAgICAgICd2aWRlb0lkJzogdGhpcy52aWRlb0lkLFxyXG4gICAgICAnc3RhcnRTZWNvbmRzJzogdGhpcy5zdGFydHNBdCxcclxuICAgICAgJ3N1Z2dlc3RlZFF1YWxpdHknOiAnaGlnaHJlcydcclxuICAgIH0gKTtcclxuXHJcbiAgICB0aGlzLnNldFZpZGVvSW5mbygpLnRoZW4oICgpID0+IHtcclxuICAgICAgdGhpcy5zZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0VmlkZW9JbmZvKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVQcm9taXNlPFJlc3BvbnNlPiggZmV0Y2goIGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9vZW1iZWQ/dXJsPSR7IHRoaXMudmlkZW9VUkwgfSZmb3JtYXQ9anNvbmAgKSApO1xyXG5cclxuICAgIGlmICggcmVzcG9uc2UuZXJyb3IgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoIHJlc3BvbnNlLmVycm9yICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuZGF0YSgpLmpzb24oKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBvblBsYXllclJlYWR5KCBldmVudDogYW55ICkge1xyXG4gICAgaWYgKCB0aGlzLl9zdGFydE11dGVkICkge1xyXG4gICAgICB0aGlzLnBsYXllci5tdXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5fYXJyWW91dHViZUlmcmFtZUlkUmVhZHkucHVzaCggdGhpcy5pZCApO1xyXG4gICAgdGhpcy5faWZyYW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmlkICkhO1xyXG5cclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpO1xyXG5cclxuICAgIHRoaXMucGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSggJ2hpZ2hyZXMnICk7XHJcbiAgICB0aGlzLnBsYXllci5zZWVrVG8oIHRoaXMuX3N0YXJ0c0F0ID8/IDAsIHRydWUgKTtcclxuICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWVyUmVhZHkgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaWZyYW1lcmVhZHknLCB0aGlzICk7XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5jaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb25QbGF5ZXJTdGF0ZUNoYW5nZSggZXZlbnQ6IGFueSApIHtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IGV2ZW50LmRhdGEgPT09IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyU3RhdGUuUExBWUlORztcclxuXHJcbiAgICBpZiAoIHRoaXMuX2lzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGxheWluZygpO1xyXG4gICAgICB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCAoKSA9PiB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBsYXlpbmcnLCB0aGlzLCB0aGlzLmlzUGxheWluZyApLCAxMDAgKTtcclxuICAgIH0gZWxzZSBpZiAoIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsICkge1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgKTtcclxuICAgICAgdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ3BsYXllcnN0YXRlY2hhbmdlJywgdGhpcywgdGhpcy5pc1BsYXlpbmcgKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheWVyc3RhdGVjaGFuZ2UnLCB0aGlzLCB0aGlzLmlzUGxheWluZyApO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCkge1xyXG4gICAgaWYgKCB0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCkge1xyXG4gICAgaWYgKCB0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICAgIHRoaXMuX2lmcmFtZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICd5dC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9pZnJhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG5cclxuICBwcm90ZWN0ZWQgb25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSgpIHtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uZXZlcnl5b3V0dWJlaWZyYW1lcmVhZHknICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpdkJsb2NrSW50ZXJhY3Rpb24oKTogSFRNTEVsZW1lbnQgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2aWRlb1VSTCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PSR7IHRoaXMudmlkZW9JZCB9YDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGFyZW50RWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaWZyYW1lRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBpZiAoICF0aGlzLl9pZnJhbWVFbGVtZW50ICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSWZyYW1lIHdhcyBjYWxsZWQgYnV0IGl0J3Mgbm90IHJlYWR5LlwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2lmcmFtZUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWVyUmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNQbGF5ZXJSZWFkeTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXREdXJhdGlvbigpIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllckR1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgY3VycmVudFRpbWUoIHQ6IG51bWJlciApIHtcclxuICAgIHRoaXMuc2VlayggdCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBjdXJyZW50VGltZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkgLSB0aGlzLl9zdGFydHNBdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyQ3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwcm9ncmVzc1BlcmNlbnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaW1lIC8gdGhpcy5kdXJhdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcGxheWVyUHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXJDdXJyZW50VGltZSAvIHRoaXMucGxheWVyRHVyYXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHN0YXJ0TXV0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRNdXRlZDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgaXNQbGF5aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzUGxheWluZztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgZGltZW5zaW9ucygpOiBEaW1lbnNpb25zIHtcclxuICAgIHJldHVybiB0aGlzLl9kaW1lbnNpb25zO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdGFydHNBdCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIGNsYW1wKCB0aGlzLl9zdGFydHNBdCwgMCwgdGhpcy5fc3RhcnRzQXQgKTtcclxuICB9XHJcbiAgcHVibGljIHNldCBzdGFydHNBdCggdmFsOiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLl9zdGFydHNBdCA9IGNsYW1wKCB2YWwsIDAsIHZhbCApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvZ2dsZSgpOiBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMge1xyXG4gICAgaWYgKCB0aGlzLmlzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGxheSgpIHtcclxuICAgIHRoaXMucGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcblxyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wbGF5JywgdGhpcyApO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMucGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5aW5nID0gdHJ1ZTtcclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBsYXlpbmcoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25wYXVzZScsIHRoaXMgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgdGhpcy5faXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZWVrKCBzZWVrVGltZTogbnVtYmVyLCByZWxvYWRCdWZmZXI6IGJvb2xlYW4gPSBmYWxzZSwgY29uc2lkZXJTdGFydHNBdDogYm9vbGVhbiA9IGZhbHNlICkge1xyXG4gICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnb25zZWVrJywgc2Vla1RpbWUsIHJlbG9hZEJ1ZmZlciwgY29uc2lkZXJTdGFydHNBdCwgdGhpcyApO1xyXG5cclxuICAgIHNlZWtUaW1lICs9IGNvbnNpZGVyU3RhcnRzQXQgPyB0aGlzLl9zdGFydHNBdCA6IDA7XHJcbiAgICB0aGlzLnBsYXllci5zZWVrVG8oIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG11dGUoKSB7XHJcbiAgICB0aGlzLnBsYXllci5tdXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1bm11dGUoKSB7XHJcbiAgICB0aGlzLnBsYXllci51bm11dGUoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNoZWNrSWZFdmVyeUlmcmFtZUlzUmVhZHkoKSB7XHJcbiAgICBjb25zdCBhcnJFdmVyeUlmcmFtZUlkID0gWy4uLllvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5rZXlzKCldO1xyXG4gICAgY29uc3QgaGFzSWZyYW1lTm90UmVhZHlZZXQgPSBhcnJFdmVyeUlmcmFtZUlkLnNvbWUoIHIgPT4gIXRoaXMuX2FycllvdXR1YmVJZnJhbWVJZFJlYWR5LmluY2x1ZGVzKCByICkgKTtcclxuXHJcbiAgICBpZiAoICFoYXNJZnJhbWVOb3RSZWFkeVlldCApIHtcclxuICAgICAgdGhpcy5hcnJPYmplY3RUb1NldE9uRXZlcnlJZnJhbWVSZWFkeS5mb3JFYWNoKCBvID0+IG8uc2V0dXAoIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZCApICk7XHJcblxyXG4gICAgICBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZm9yRWFjaCggKCB2YWwsIGtleSApID0+IHtcclxuICAgICAgICB2YWwub25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSgpO1xyXG4gICAgICB9ICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0WW91dHViZUlmcmFtZUVsZW1lbnQoIHsgaWZyYW1lSWQsIGNsYXNzTGlzdCB9OiB7IGlmcmFtZUlkOiBzdHJpbmc7IGNsYXNzTGlzdD86IHN0cmluZ1tdOyB9ICkge1xyXG4gICAgY29uc3QgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuICAgIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCAneXQtaWZyYW1lLWNvbnRhaW5lcicgKTtcclxuICAgIGlmICggY2xhc3NMaXN0ICkge1xyXG4gICAgICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggLi4uY2xhc3NMaXN0ICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udGFpbmVyRGl2LmlkID0gYGNvbnRhaW5lcllvdXR1YmVJZnJhbWUkeyBpZnJhbWVJZCB9YDtcclxuICAgIGNvbnRhaW5lckRpdi5pbnNlcnRBZGphY2VudEhUTUwoICdhZnRlcmJlZ2luJywgdGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQoIGlmcmFtZUlkICkgKTtcclxuICAgIHJldHVybiBjb250YWluZXJEaXY7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSggeyBwYXJlbnRFbGVtZW50LCBpZnJhbWVDb250YWluZXIgfTogeyBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDsgaWZyYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudDsgfSApIHtcclxuICAgIGNvbnN0IGlmcmFtZVBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHk7XHJcbiAgICBpZnJhbWVQYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1pZnJhbWUtcGFyZW50JyApO1xyXG4gICAgaWZyYW1lUGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaWZyYW1lQ29udGFpbmVyICk7XHJcbiAgICByZXR1cm4gaWZyYW1lUGFyZW50RWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vIFNldHMgZGl2IHRvIGJsb2NrIGludGVyYWN0aW9uLCB0b3AgZGl2LCBjb250YWluZXIgYW5kIGFueSBvdGhlciBlbGVtZW50IHRoYXQgaXMgbm90IHRoZSBtYWluIGlmcmFtZVxyXG4gIHByaXZhdGUgc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLmNyZWF0ZUludmlzaWJsZURpdlRvcCgpO1xyXG4gICAgdGhpcy5jcmVhdGVJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCk7XHJcblxyXG4gICAgdGhpcy5zZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0RXh0ZXJuYWxIVE1MRWxlbWVudHNBdHRyaWJ1dGVzKCkge1xyXG4gICAgdGhpcy5zZXRJZnJhbWVDb250YWluZXJBdHRyaWJ1dGVzKCk7XHJcbiAgICB0aGlzLnNldFRvcERpdkF0dHJpYnV0ZXMoKTtcclxuICAgIHRoaXMuc2V0RGl2QmxvY2tJbnRlcmFjdGlvbkF0dHJpYnV0ZXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlSW52aXNpYmxlRGl2VG9wKCkge1xyXG4gICAgdGhpcy50b3BEaXYgPSBZb3V0dWJlSWZyYW1lLmdldEludmlzaWJsZVRvcERpdiggdGhpcyApO1xyXG4gICAgdGhpcy50b3BEaXYuc3R5bGUuekluZGV4ID0gJzk5MCc7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uID0gWW91dHViZUlmcmFtZS5nZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB0aGlzICk7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLnpJbmRleCA9ICc5OTUnO1xyXG5cclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBldnQgKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uY2xpY2tpbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXREaXZCbG9ja0ludGVyYWN0aW9uQXR0cmlidXRlcygpIHtcclxuICAgIGlmICggIXRoaXMuZGl2QmxvY2tJbnRlcmFjdGlvbiApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLmRpdkJsb2NrSW50ZXJhY3Rpb24sIHRoaXMuX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0SWZyYW1lQ29udGFpbmVyQXR0cmlidXRlcygpIHtcclxuICAgIGlmICggIXRoaXMuX2lmcmFtZUNvbnRhaW5lciApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCB0aGlzLl9pZnJhbWVDb250YWluZXIsIHRoaXMuX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0VG9wRGl2QXR0cmlidXRlcygpIHtcclxuICAgIGlmICggIXRoaXMudG9wRGl2ICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIHRoaXMudG9wRGl2LCB0aGlzLl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGJsb2NrSW50ZXJhY3Rpb24oIHZhbDogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSB2YWw7XHJcblxyXG4gICAgaWYgKCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICkge1xyXG4gICAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBpbml0UGxheWVyKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIgPSBuZXcgWW91dHViZUlmcmFtZS5feW91dHViZUFQSVJlZmVyZW5jZS5QbGF5ZXIoIHRoaXMuaWQsIHtcclxuICAgICAgdmlkZW9JZDogdGhpcy52aWRlb0lkLFxyXG4gICAgICB3aWR0aDogdGhpcy5kaW1lbnNpb25zLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQsXHJcbiAgICAgIHBsYXllclZhcnM6IHtcclxuICAgICAgICAncmVsJzogMCwgICAgICAgICAgICAvLyBEZXNhdGl2YSB2w61kZW9zIHJlbGFjaW9uYWRvc1xyXG4gICAgICAgICdpdl9sb2FkX3BvbGljeSc6IDMsIC8vIERlc2F0aXZhIHN1Z2VzdMO1ZXMgZGUgdsOtZGVvcyBkdXJhbnRlIGEgcGF1c2FcclxuICAgICAgICAnc2hvd2luZm8nOiAwLCAgICAgICAvLyBSZW1vdmUgaW5mb3JtYcOnw7VlcyBkbyB2w61kZW8gKHTDrXR1bG8sIGV0Yy4pXHJcbiAgICAgICAgJ2NvbnRyb2xzJzogMCwgICAgICAgLy8gUmVtb3ZlIG9zIGNvbnRyb2xlcyBkbyBwbGF5ZXJcclxuICAgICAgICAnYXV0b3BsYXknOiAwICAgICAgICAvLyBEZXNhdGl2YSBhIHJlcHJvZHXDp8OjbyBhdXRvbcOhdGljYVxyXG4gICAgICB9LFxyXG4gICAgICBldmVudHM6IHtcclxuICAgICAgICAnb25SZWFkeSc6IHRoaXMub25QbGF5ZXJSZWFkeS5iaW5kKCB0aGlzICksXHJcbiAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UuYmluZCggdGhpcyApXHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzdGF0aWMgX3lvdXR1YmVBUElSZWZlcmVuY2U6IGFueTtcclxuXHJcbiAgcHJpdmF0ZSBnZXQgX3ZpZGVvSW5mb0F0dHJpYnV0ZUxpc3QoKTogW3N0cmluZywgc3RyaW5nXVtdIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIFsneXQtaWZyYW1lLWlkJywgdGhpcy5pZF0sXHJcbiAgICAgIFsneXQtaWZyYW1lLXZpZGVvLW5hbWUnLCB0aGlzLnZpZGVvTmFtZV0sXHJcbiAgICAgIFsneXQtaWZyYW1lLXZpZGVvLWNoYW5uZWwtbmFtZScsIHRoaXMuY2hhbm5lbE5hbWVdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby10aHVtYi11cmwnLCB0aGlzLnZpZGVvVGh1bWJdLFxyXG4gICAgICBbJ3l0LWlmcmFtZS12aWRlby1jaGFubmVsLXVybCcsIHRoaXMuY2hhbm5lbFVSTF1cclxuICAgIF1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBidWlsZElmcmFtZXMoKSB7XHJcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTtcclxuICAgIHRhZy5pZCA9ICd5dElmcmFtZUFQSSc7XHJcblxyXG4gICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gICAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbMF07XHJcbiAgICBpZiAoIGZpcnN0U2NyaXB0VGFnICYmIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0YWcsIGZpcnN0U2NyaXB0VGFnICk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FpdFVudGlsRWxlbWVudEV4aXN0cyggJyN5dElmcmFtZUFQSScgKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgIHBvbGxGb3JWYXJpYWJsZTxhbnk+KCAnWVQnLFxyXG4gICAgICAgICggdmFsdWU6IGFueSApID0+IHtcclxuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUuUGxheWVyID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGVcclxuICAgICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuUGxheWVyXHJcbiAgICAgICAgICAgICYmIHZhbHVlLmxvYWRlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgICggdmFsdWUgKSA9PiB7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLnNldFlvdXR1YmVJZnJhbWVFbGVtZW50cygpO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZm9yRWFjaCggKCB2YWwsIGtleSApID0+IHtcclxuICAgICAgdmFsLnNldEV4dGVybmFsSFRNTEVsZW1lbnRzKCk7XHJcbiAgICAgIHZhbC5pbml0UGxheWVyKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW52aXNpYmxlVG9wRGl2KCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZVRvcERpdkhvbGRUb0RyYWckeyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgKiAwLjIgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcblxyXG4gIHN0YXRpYyBnZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBlbGVtZW50SW52aXNpYmxlRGl2ID0gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24keyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIGVsZW1lbnRJbnZpc2libGVEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWRpdi1ibG9jay1pbnRlcmFjdGlvbicgKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudEludmlzaWJsZURpdjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIsIFlvdXR1YmVJZnJhbWVTeW5jIH07IiwiXHJcbmludGVyZmFjZSBTdHJpbmcge1xyXG4gIHRydW5jYXRlKCBtYXg6IG51bWJlciwgZGVjb3JhdG9yOiBzdHJpbmcgKTogc3RyaW5nO1xyXG4gIHJlbW92ZUFjY2VudHMoKTogc3RyaW5nO1xyXG4gIGNhcGl0YWxpemVGaXJzdExldHRlcigpOiBzdHJpbmc7XHJcbiAgemVyb0JlZm9yZSgpOiBzdHJpbmc7XHJcbiAgaXNOdWxsT3JFbXB0eSgpOiBib29sZWFuO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzTnVsbE9yRW1wdHkgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyAmJiAhdGhpcyAmJiB0aGlzICE9PSAnJztcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUudHJ1bmNhdGUgPSBmdW5jdGlvbiAoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyA9ICcuLi4nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuICggdGhpcy5sZW5ndGggPiBtYXggPyB0aGlzLnN1YnN0cmluZyggMCwgbWF4ICkgKyBkZWNvcmF0b3IgOiB0aGlzICkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUucmVtb3ZlQWNjZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnplcm9CZWZvcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucGFkU3RhcnQoIDIsICcwJyApO1xyXG59IiwiXHJcbmV4cG9ydCBjbGFzcyBPYmplY3RFdmVudExpc3RlbmVyIHtcclxuICBwdWJsaWMgZXZlbnRzQnlOYW1lOiBNYXA8c3RyaW5nLCBGdW5jdGlvbltdPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZTogc3RyaW5nLCBldmVudDogRnVuY3Rpb24gKSB7XHJcbiAgICBpZiAoICF0aGlzLmV2ZW50c0J5TmFtZS5oYXMoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkgKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzQnlOYW1lLnNldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCksIFtldmVudF0gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRzQnlOYW1lLmdldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSEucHVzaCggZXZlbnQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRFdmVudHNCeU5hbWUoIGV2ZW50TmFtZTogc3RyaW5nICk6IEZ1bmN0aW9uW10ge1xyXG4gICAgaWYgKCAhdGhpcy5ldmVudHNCeU5hbWUuaGFzKCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApICkge1xyXG4gICAgICB0aGlzLmV2ZW50c0J5TmFtZS5zZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBbXSApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmV2ZW50c0J5TmFtZS5nZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkhO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjYWxsRXZlbnRzQnlOYW1lKCBldmVudE5hbWU6IHN0cmluZywgLi4uZXZlbnRBcmdzOiBhbnlbXSApOiB2b2lkIHtcclxuICAgIHRoaXMuZ2V0RXZlbnRzQnlOYW1lKCBldmVudE5hbWUgKS5mb3JFYWNoKCBlID0+IGUoIC4uLmV2ZW50QXJncyApICk7XHJcbiAgfVxyXG59IiwiaW1wb3J0ICcuLi9FeHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBnZXRFbGVtZW50RnJvbUhUTUwsIGhpZGVFbGVtZW50IH0gZnJvbSAnLi9ET01Ub29scyc7XHJcbmltcG9ydCB7IGdldEZpbGVFeHRlbnNpb24gfSBmcm9tICcuL0ZpbGVUb29scyc7XHJcbmltcG9ydCB7IEF1ZGlvQ29tcG9uZW50LCBDcmVhdGVBdWRpb0NvbXBvbmVudE9wdGlvbnMgfSBmcm9tICcuLi9Db21wb25lbnRzL0F1ZGlvQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCB0eXBlIEF1ZGlvUGxheWVyQ29uZmlnID0ge1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIGF1dG9QbGF5PzogYm9vbGVhbjtcclxuICBhdXRvcGxheT86IGJvb2xlYW47XHJcbiAgbXV0ZWQ/OiBib29sZWFuO1xyXG4gIGxvb3A/OiBib29sZWFuO1xyXG4gIHByZWxvYWQ/OiAnYXV0bycgfCAnbWV0YWRhdGEnIHwgJ25vbmUnO1xyXG4gIG9ucGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvbnBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG4gIG9uUGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvblBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXVkaW9Db21wb25lbnRPbkJvZHkoIG9wdGlvbnM6IENyZWF0ZUF1ZGlvQ29tcG9uZW50T3B0aW9ucyApIHtcclxuICByZXR1cm4gYXdhaXQgQXVkaW9Db21wb25lbnQuY3JlYXRlQXVkaW9Db21wb25lbnRPbkJvZHkoIG9wdGlvbnMgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZVBsYXllciggYXJyU291cmNlczogc3RyaW5nW10sIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGNvbnN0IGF1ZGlvRWxlbWVudCA9IGdldEVsZW1lbnRGcm9tSFRNTCggYXVkaW9FbGVtZW50SFRNTCggYXJyU291cmNlcywgcGxheWVyQ29uZmlnICkgKSBhcyBIVE1MRWxlbWVudDtcclxuICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2FmdGVyYmVnaW4nLCBhdWRpb0VsZW1lbnQgKTtcclxuICBoaWRlRWxlbWVudCggYXVkaW9FbGVtZW50ICk7XHJcbiAgcmV0dXJuIGF1ZGlvRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF1ZGlvRWxlbWVudEhUTUwoIGFyclNvdXJjZXM6IHN0cmluZ1tdLCBwbGF5ZXJDb25maWc/OiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICByZXR1cm4gYDxhdWRpbyBjb250cm9scyAkeyBwbGF5ZXJDb25maWcgPyBhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyggcGxheWVyQ29uZmlnICkgOiBcIlwiIH0+XHJcbiAgICAkeyBhcnJTb3VyY2VzLm1hcCggc3JjID0+IHNvdXJjZUVsZW1lbnRIVE1MKCBzcmMgKSApLnJlZHVjZSggKCBhY2MsIG5leHQgKSA9PiBhY2MgKyBuZXh0LCAnJyApIH1cclxuICA8L2F1ZGlvPmA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzb3VyY2VFbGVtZW50SFRNTCggc3JjOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIGA8c291cmNlIHNyYz1cIiR7IHNyYyB9XCIgdHlwZT1cImF1ZGlvLyR7IGdldEZpbGVFeHRlbnNpb24oIHNyYyApIH1cIj5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyggcGxheWVyQ29uZmlnOiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICBjb25zdCBwYXJhbUlkID0gcGxheWVyQ29uZmlnLmlkID8gJ2lkPVwiJyArIHBsYXllckNvbmZpZy5pZCArICdcIicgOiAnJztcclxuICBjb25zdCBwYXJhbUF1dG9QbGF5ID0gcGxheWVyQ29uZmlnLmF1dG9QbGF5IHx8IHBsYXllckNvbmZpZy5hdXRvcGxheSA/ICdhdXRvcGxheScgOiAnJztcclxuICBjb25zdCBwYXJhbU11dGVkID0gcGxheWVyQ29uZmlnLm11dGVkID8gJ211dGVkJyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtTG9vcCA9IHBsYXllckNvbmZpZy5sb29wID8gJ2xvb3AnIDogJyc7XHJcbiAgY29uc3QgcGFyYW1QcmVsb2FkID0gcGxheWVyQ29uZmlnLnByZWxvYWQgPyAncHJlbG9hZD1cIicgKyBwbGF5ZXJDb25maWcucHJlbG9hZCArICdcIicgOiAnJztcclxuXHJcbiAgcmV0dXJuIGAgJHsgcGFyYW1JZCB9ICR7IHBhcmFtQXV0b1BsYXkgfSAkeyBwYXJhbU11dGVkIH0gJHsgcGFyYW1Mb29wIH0gJHsgcGFyYW1QcmVsb2FkIH1gLnRyaW1FbmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UGxheUJ1dHRvbkVsZW1lbnQoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnPzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdidXR0b24nICk7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGxheS1idXR0b24nICk7XHJcblxyXG4gIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgIGlmICggYXVkaW9FbGVtZW50LnBhdXNlZCApIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGF1c2VkJyApO1xyXG4gICAgfVxyXG4gIH0sIDMwMCApO1xyXG5cclxuICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcclxuICAgIGlmICggYXVkaW9FbGVtZW50LnBhdXNlZCApIHtcclxuICAgICAgYXVkaW9FbGVtZW50LnBsYXkoKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAncGF1c2VkJyApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIHNldEF1ZGlvRWxlbWVudFBsYXlQYXVzZUV2ZW50cyggYnV0dG9uRWxlbWVudCwgYXVkaW9FbGVtZW50LCBwbGF5ZXJDb25maWcgKTtcclxuXHJcbiAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMoIGJ1dHRvbkVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGF1ZGlvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncGxheScsICgpID0+IHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3BhdXNlZCcgKTtcclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vblBsYXkgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vblBsYXkoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vbnBsYXkgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vbnBsYXkoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwYXVzZScsICgpID0+IHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vblBhdXNlICkge1xyXG4gICAgICBwbGF5ZXJDb25maWcub25QYXVzZSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9ucGF1c2UgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vbnBhdXNlKCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuICB9ICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGxheUJ1dHRvbkNTUygpIHtcclxuICByZXR1cm4gYFxyXG4gICAgLnBsYXktYnV0dG9uIHtcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBib3JkZXI6IDA7XHJcbiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICB3aWR0aDogMDtcclxuICAgICAgaGVpZ2h0OiAzNHB4O1xyXG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICMyMDIwMjA7XHJcbiAgICAgIHRyYW5zaXRpb246IDEwMG1zIGFsbCBlYXNlO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIGJvcmRlci1zdHlsZTogZG91YmxlO1xyXG4gICAgICBib3JkZXItd2lkdGg6IDBweCAwIDBweCAzMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wbGF5LWJ1dHRvbi5wYXVzZWQge1xyXG4gICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgICBib3JkZXItd2lkdGg6IDIzcHggMHB4IDIzcHggMzRweDtcclxuICAgIH1cclxuXHJcbiAgICAucGxheS1idXR0b246aG92ZXIge1xyXG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICM0MDQwNDA7XHJcbiAgICB9XHJcbiAgYDtcclxufVxyXG5cclxuZXhwb3J0IHsgQ3JlYXRlQXVkaW9Db21wb25lbnRPcHRpb25zIH07IiwiaW1wb3J0IHsgRGltZW5zaW9ucywgUG9pbnQyRCwgbGVycCwgcmVnZXhOdW1iZXJQYXR0ZXJuLCByb3RhdGVDb29yZGluYXRlcywgcm90YXRlQ29vcmRpbmF0ZXNGcm9tUG9pbnQyRCB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgdG9QaG9uZU51bWJlciB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5pbXBvcnQgeyBDb2xsaXNpb25EaXJlY3Rpb25DaGVjaywgQm9yZGVyRGlzdGFuY2UgfSBmcm9tICcuLi9FeHRyYXMvQ29sbGlzaW9uRXZlbnRzL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIEtleWJvYXJkRXZlbnRDYWxsYmFjayA9ICggZXZ0OiBLZXlib2FyZEV2ZW50ICkgPT4gdm9pZDtcclxuZXhwb3J0IGNvbnN0IHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSA9IC90cmFuc2xhdGVcXChbXildKlxcKS9nO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVZhbHVlID0gL3JvdGF0ZVxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZSA9IC9yb3RhdGVYXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWVZhbHVlID0gL3JvdGF0ZVlcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWUgPSAvcm90YXRlWlxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ID0gbmV3IE1hcDxzdHJpbmcsIEtleWJvYXJkRXZlbnRDYWxsYmFja1tdPigpO1xyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbktleXVwID0gbmV3IE1hcDxzdHJpbmcsIEtleWJvYXJkRXZlbnRDYWxsYmFja1tdPigpO1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkQWN0aW9uS2V5KCB7IGtleSwga2V5ZG93bjogZXZlbnRLZXlkb3duLCBrZXl1cDogZXZlbnRLZXl1cCwgZXhlY3V0ZU9ubHlPbmNlID0gdHJ1ZSB9OiB7IGtleTogc3RyaW5nOyBrZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2s7IGtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBleGVjdXRlT25seU9uY2U/OiBib29sZWFuOyB9ICkge1xyXG4gIGlmICggZXhlY3V0ZU9ubHlPbmNlICkge1xyXG4gICAgYWRkQWN0aW9uS2V5UnVuT25jZSgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGFkZEFjdGlvbktleVJ1bk9uUmVwZWF0KCBrZXksIGV2ZW50S2V5ZG93biwgZXZlbnRLZXl1cCApO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBTYWZlUHJvbWlzZTxUPiA9IHtcclxuICBkYXRhOiAoKSA9PiBUO1xyXG4gIGVycm9yOiBFcnJvciB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVQcm9taXNlPFQ+KCBwcm9taXNlOiBQcm9taXNlPFQ+ICk6IFByb21pc2U8U2FmZVByb21pc2U8VD4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHByb21pc2U7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4gZGF0YSxcclxuICAgICAgZXJyb3I6IG51bGxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoIGVycm9yICkge1xyXG4gICAgY29uc29sZS5lcnJvciggZXJyb3IgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiAoKSA9PiB7IHRocm93IG5ldyBFcnJvciggXCJDb3VsZG4ndCBmZXRjaCwgY2hlY2sgU2FmZVByb21pc2UuZXJyb3IgZm9yIGRldGFpbHMuXCIgKTsgfSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvciggU3RyaW5nKCBlcnJvciApIClcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFlvdXR1YmVVcmxPcklkKCBpbnB1dDogc3RyaW5nICk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHVybFBhdHRlcm4gPSAvXihodHRwKHMpPzpcXC9cXC8pPygodyl7M30uKT95b3V0dShiZXwuYmUpPyhcXC5jb20pP1xcLy4rLztcclxuICBjb25zdCBpZFBhdHRlcm4gPSAvXlthLXpBLVowLTlfLV17MTF9JC87XHJcblxyXG4gIHJldHVybiB1cmxQYXR0ZXJuLnRlc3QoIGlucHV0ICkgfHwgaWRQYXR0ZXJuLnRlc3QoIGlucHV0ICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFlvdVR1YmVVcmwoIHVybDogc3RyaW5nICk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHBhdHRlcm4gPSAvXihodHRwKHMpPzpcXC9cXC8pPygodyl7M30uKT95b3V0dShiZXwuYmUpPyhcXC5jb20pP1xcLy4rLztcclxuICByZXR1cm4gcGF0dGVybi50ZXN0KCB1cmwgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RZb3VUdWJlSWQoIGlucHV0OiBzdHJpbmcgKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgY29uc3QgcmVnZXggPSAvWz8mXXY9KFtePyZdKykvO1xyXG4gIGNvbnN0IG1hdGNoID0gaW5wdXQubWF0Y2goIHJlZ2V4ICk7XHJcbiAgaWYgKCBtYXRjaCAmJiBtYXRjaFsxXSApIHtcclxuICAgIHJldHVybiBtYXRjaFsxXTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gSWYgZGlyZWN0IHZpZGVvIElEIGlzIHByb3ZpZGVkXHJcbiAgICByZXR1cm4gaW5wdXQubGVuZ3RoID09PSAxMSA/IGlucHV0IDogbnVsbDtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlTGlzdEZvckVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBhdHRyTGlzdDogW3N0cmluZywgc3RyaW5nXVtdICkge1xyXG4gIGF0dHJMaXN0LmZvckVhY2goICggW2tleSwgdmFsXSApID0+IHtcclxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCBrZXksIHZhbCApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRGcm9tSFRNTCggaHRtbDogc3RyaW5nLCB0cmltOiBib29sZWFuID0gdHJ1ZSApIHtcclxuICBodG1sID0gdHJpbSA/IGh0bWwudHJpbSgpIDogaHRtbDtcclxuXHJcbiAgaWYgKCAhaHRtbCApIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGVtcGxhdGUnICk7XHJcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gaHRtbDtcclxuICBjb25zdCByZXN1bHQgPSB0ZW1wbGF0ZS5jb250ZW50LmNoaWxkcmVuO1xyXG5cclxuICBpZiAoIHJlc3VsdC5sZW5ndGggPT09IDEgKSB7XHJcbiAgICByZXR1cm4gcmVzdWx0WzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEFycmF5LmZyb20oIHJlc3VsdCApIGFzIEhUTUxFbGVtZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQoIGVsZW1lbnRJZDogc3RyaW5nICk6IERpbWVuc2lvbnMge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggZWxlbWVudElkICk7XHJcblxyXG4gIGlmICggIWVsZW1lbnQgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCBlbGVtZW50IGF0IGdldEVsZW1lbnREaW1lbnNpb25zQnlJZCB3aXRoIGlkOiBcIiArIGVsZW1lbnRJZCApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGdldEVsZW1lbnREaW1lbnNpb25zKCBlbGVtZW50ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGltZW5zaW9ucyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogRGltZW5zaW9ucyB7XHJcbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogRE9NUmVjdCB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgY2VudGVyWCA9IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyO1xyXG4gIGNvbnN0IGNlbnRlclkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcclxuXHJcbiAgLy8gUm90YXRpb24gYW5nbGUgaW4gZGVncmVlcyAoZXh0cmFjdGVkIGZyb20gc3R5bGUudHJhbnNmb3JtIG9yIGFueSBvdGhlciBzb3VyY2UpXHJcbiAgY29uc3Qgcm90YXRpb25BbmdsZSA9IGdldEJvZHlSb3RhdGlvbkluRGVncmVlcygpO1xyXG5cclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiByb3RhdGlvbkFuZ2xlO1xyXG4gIGNvbnN0IGNvc1RoZXRhID0gTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICBjb25zdCBzaW5UaGV0YSA9IE1hdGguc2luKCByYWRpYW5zICk7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgcm90YXRlZCBjb29yZGluYXRlc1xyXG4gIGNvbnN0IHJvdGF0ZWRYMSA9IGNlbnRlclggKyAoIHJlY3QubGVmdCAtIGNlbnRlclggKSAqIGNvc1RoZXRhIC0gKCByZWN0LnRvcCAtIGNlbnRlclkgKSAqIHNpblRoZXRhO1xyXG4gIGNvbnN0IHJvdGF0ZWRZMSA9IGNlbnRlclkgKyAoIHJlY3QubGVmdCAtIGNlbnRlclggKSAqIHNpblRoZXRhICsgKCByZWN0LnRvcCAtIGNlbnRlclkgKSAqIGNvc1RoZXRhO1xyXG5cclxuICBjb25zdCByb3RhdGVkWDIgPSBjZW50ZXJYICsgKCByZWN0LnJpZ2h0IC0gY2VudGVyWCApICogY29zVGhldGEgLSAoIHJlY3QuYm90dG9tIC0gY2VudGVyWSApICogc2luVGhldGE7XHJcbiAgY29uc3Qgcm90YXRlZFkyID0gY2VudGVyWSArICggcmVjdC5yaWdodCAtIGNlbnRlclggKSAqIHNpblRoZXRhICsgKCByZWN0LmJvdHRvbSAtIGNlbnRlclkgKSAqIGNvc1RoZXRhO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgbGVmdCwgdG9wLCBib3R0b20sIGFuZCByaWdodCBjb29yZGluYXRlc1xyXG4gIGNvbnN0IHJvdGF0ZWRMZWZ0ID0gTWF0aC5taW4oIHJvdGF0ZWRYMSwgcm90YXRlZFgyICk7XHJcbiAgY29uc3Qgcm90YXRlZFRvcCA9IE1hdGgubWluKCByb3RhdGVkWTEsIHJvdGF0ZWRZMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRCb3R0b20gPSBNYXRoLm1heCggcm90YXRlZFkxLCByb3RhdGVkWTIgKTtcclxuICBjb25zdCByb3RhdGVkUmlnaHQgPSBNYXRoLm1heCggcm90YXRlZFgxLCByb3RhdGVkWDIgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHJvdGF0ZWRMZWZ0LFxyXG4gICAgeTogcm90YXRlZFRvcCxcclxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcclxuICAgIHRvSlNPTjogcmVjdC50b0pTT04sXHJcbiAgICBsZWZ0OiByb3RhdGVkTGVmdCxcclxuICAgIHRvcDogcm90YXRlZFRvcCxcclxuICAgIGJvdHRvbTogcm90YXRlZEJvdHRvbSxcclxuICAgIHJpZ2h0OiByb3RhdGVkUmlnaHQsXHJcbiAgfSBhcyBET01SZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRBY3Rpb25LZXlSdW5PbmNlKCBrZXk6IHN0cmluZywgZXZlbnRLZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2ssIGV2ZW50S2V5dXA/OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UuaGFzKCBrZXkgKSApIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5zZXQoIGtleSwgW2V2ZW50S2V5ZG93biwgLi4uZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLmdldCgga2V5ICkhXSApXHJcbiAgfSBlbHNlIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5zZXQoIGtleSwgW2V2ZW50S2V5ZG93bl0gKVxyXG4gIH1cclxuXHJcbiAgaWYgKCBldmVudEtleXVwICkge1xyXG4gICAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuaGFzKCBrZXkgKSApIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cCwgLi4uZGljdEtleXNCeUFjdGlvbktleXVwLmdldCgga2V5ICkhXSApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwXSApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5OiBzdHJpbmcsIGV2ZW50S2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrLCBldmVudEtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrICkge1xyXG4gIGlmICggZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuaGFzKCBrZXkgKSApIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LnNldCgga2V5LCBbZXZlbnRLZXlkb3duLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5nZXQoIGtleSApIV0gKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5zZXQoIGtleSwgW2V2ZW50S2V5ZG93bl0gKVxyXG4gIH1cclxuXHJcbiAgaWYgKCBldmVudEtleXVwICkge1xyXG4gICAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuaGFzKCBrZXkgKSApIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cCwgLi4uZGljdEtleXNCeUFjdGlvbktleXVwLmdldCgga2V5ICkhXSApXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwXSApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDEgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGVsZW1lbnQyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggZWxlbWVudDIgKTtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gIShcclxuICAgIHJlY3QxLnRvcCA+IHJlY3QyLmJvdHRvbSB8fFxyXG4gICAgcmVjdDEucmlnaHQgPCByZWN0Mi5sZWZ0IHx8XHJcbiAgICByZWN0MS5ib3R0b20gPCByZWN0Mi50b3AgfHxcclxuICAgIHJlY3QxLmxlZnQgPiByZWN0Mi5yaWdodFxyXG4gICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwb2xsRm9yVmFyaWFibGU8VD4oIHZhcmlhYmxlTmFtZTogc3RyaW5nLCByZWFkeUNvbmRpdGlvbjogKCB2YWx1ZTogVCApID0+IGJvb2xlYW4sIGNhbGxiYWNrOiAoIHZhbHVlOiBUICkgPT4gdm9pZCApIHtcclxuICBjb25zdCBwb2xsSW50ZXJ2YWwgPSAxMDA7XHJcbiAgY29uc3QgcG9sbCA9IHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICBpZiAoICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gIT09IHVuZGVmaW5lZCAmJiByZWFkeUNvbmRpdGlvbiggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSApICkge1xyXG4gICAgICAvLyBJZiBib3RoIGNvbmRpdGlvbnMgYXJlIG1ldCwgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgYW5kIHN0b3AgcG9sbGluZ1xyXG4gICAgICBjbGVhckludGVydmFsKCBwb2xsICk7XHJcbiAgICAgIGNhbGxiYWNrKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICk7XHJcbiAgICB9XHJcbiAgfSwgcG9sbEludGVydmFsICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB3YWl0VW50aWxFbGVtZW50RXhpc3RzKCBzZWxlY3Rvcjogc3RyaW5nICkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XHJcbiAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgIHJldHVybiByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlciggbXV0YXRpb25zID0+IHtcclxuICAgICAgaWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICkge1xyXG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICByZXNvbHZlKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApICk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKCBkb2N1bWVudC5ib2R5LCB7XHJcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgfSApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBkcmFnZ2FibGUgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIHRhcmdldCApO1xyXG5cclxuICBjb25zdCBpc1RvcCA9IHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS50b3AgPCByZWN0Mi50b3AgKyByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzUmlnaHQgPSByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5yaWdodCAtIHJlY3QyLndpZHRoIC8gMztcclxuICBjb25zdCBpc0NlbnRlciA9IHJlY3QxLnRvcCA8IHJlY3QyLmJvdHRvbSAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi50b3AgJiYgcmVjdDEubGVmdCA8IHJlY3QyLnJpZ2h0ICYmIHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdDtcclxuICBjb25zdCBpc0JvdHRvbSA9IHJlY3QxLnRvcCA8IHJlY3QyLmJvdHRvbSAtIHJlY3QyLmhlaWdodCAvIDMgJiYgcmVjdDEuYm90dG9tID4gcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMztcclxuICBjb25zdCBpc0xlZnQgPSByZWN0MS5yaWdodCA+IHJlY3QyLmxlZnQgJiYgcmVjdDEubGVmdCA8IHJlY3QyLmxlZnQgKyByZWN0Mi53aWR0aCAvIDM7XHJcblxyXG4gIHJldHVybiB7IHRvcDogaXNUb3AsIHJpZ2h0OiBpc1JpZ2h0LCBjZW50ZXI6IGlzQ2VudGVyLCBib3R0b206IGlzQm90dG9tLCBsZWZ0OiBpc0xlZnQgfTtcclxufVxyXG5cclxuLy8vIHJldHVybiB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkcmFnZ2FibGUgdG8gdGhlIGNlbnRlciBvZiB0aGUgdGFyZ2V0IGVsZW1lbnQgZnJvbSBlYWNoIGJvcmRlciBcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlRnJvbUJvcmRlciggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBCb3JkZXJEaXN0YW5jZSB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBkcmFnZ2FibGUgKTtcclxuICBjb25zdCByZWN0MiA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIHRhcmdldCApO1xyXG5cclxuICBjb25zdCBjZW50ZXIgPSB7XHJcbiAgICB4OiByZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGggLyAyLFxyXG4gICAgeTogcmVjdDEudG9wICsgcmVjdDEuaGVpZ2h0IC8gMixcclxuICB9O1xyXG5cclxuICBjb25zdCBkaXN0YW5jZUZyb21Cb3JkZXI6IEJvcmRlckRpc3RhbmNlID0ge1xyXG4gICAgdG9wOiBjZW50ZXIueSAtIHJlY3QyLnRvcCxcclxuICAgIHJpZ2h0OiByZWN0Mi5yaWdodCAtIGNlbnRlci54LFxyXG4gICAgYm90dG9tOiByZWN0Mi5ib3R0b20gLSBjZW50ZXIueSxcclxuICAgIGxlZnQ6IGNlbnRlci54IC0gcmVjdDIubGVmdCxcclxuICB9O1xyXG5cclxuICByZXR1cm4gZGlzdGFuY2VGcm9tQm9yZGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQ6IEtleWJvYXJkRXZlbnQgKSB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQ6IEtleWJvYXJkRXZlbnQgKSB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBpZiAoICFldnQucmVwZWF0ICkge1xyXG4gICAgcnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyggZXZ0ICk7XHJcbiAgfVxyXG5cclxuICBydW5LZXlkb3duQWN0aW9uc1JlcGVhdCggZXZ0ICk7XHJcbn0gKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAna2V5dXAnLCBldnQgPT4ge1xyXG4gIGZvciAoIGNvbnN0IHBhaXIgb2YgZGljdEtleXNCeUFjdGlvbktleXVwICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59ICk7XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSb3RhdGlvbkluRGVncmVlcyggZWxlbWVudDogSFRNTEVsZW1lbnQsIGF4aXM6ICd4JyB8ICd5JyB8ICd6JyA9ICd4JyApOiBudW1iZXIge1xyXG4gIGxldCByZWdleE1hdGNoUm90YXRlVmFsdWU6IFJlZ0V4cDtcclxuICBzd2l0Y2ggKCBheGlzICkge1xyXG4gICAgY2FzZSAneCc6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAneSc6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAneic6XHJcbiAgICAgIHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSA9IHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcblxyXG4gIGNvbnN0IG1hdGNoID0gcmVnZXhNYXRjaFJvdGF0ZVZhbHVlLmV4ZWMoIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtICk7XHJcbiAgaWYgKCBtYXRjaCApIHtcclxuICAgIGNvbnN0IHJvdGF0aW9uVmFsdWUgPSBwYXJzZUZsb2F0KCBtYXRjaFsxXSApO1xyXG4gICAgcmV0dXJuIHJvdGF0aW9uVmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkluRGVncmVlcygpOiBudW1iZXIge1xyXG4gIGNvbnN0IG1hdGNoID0gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkZyb21Cb2R5KCkuZXhlYyggZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVnZXhSZW1vdmVSb3RhdGlvbkZyb21Cb2R5KCkge1xyXG4gIHJldHVybiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMoIGdldEJvZHlSb3RhdGlvbkF4aXMoKSApXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMoIGF4aXM6ICd4JyB8ICd5JyB8ICd6JyApIHtcclxuICBzd2l0Y2ggKCBheGlzICkge1xyXG4gICAgY2FzZSAneCc6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWFZhbHVlO1xyXG4gICAgY2FzZSAneSc6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWVZhbHVlO1xyXG4gICAgY2FzZSAneic6XHJcbiAgICAgIHJldHVybiByZWdleEdyb3VwUm90YXRlWlZhbHVlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRCb2R5Um90YXRpb25BeGlzKCk6ICd4JyB8ICd5JyB8ICd6JyB7XHJcbiAgcmV0dXJuIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGRvY3VtZW50LmJvZHkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6ICd4JyB8ICd5JyB8ICd6JyB7XHJcbiAgY29uc3QgZWxlbWVudFRyYW5zZm9ybSA9IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLnRvTG93ZXJDYXNlKCk7XHJcbiAgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneCcgKSApIHtcclxuICAgIHJldHVybiAneCc7XHJcbiAgfSBlbHNlIGlmICggZWxlbWVudFRyYW5zZm9ybS5pbmNsdWRlcyggJ3knICkgKSB7XHJcbiAgICByZXR1cm4gJ3knO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ3onO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgY2hlY2tCb2R5Um90YXRpb246IGJvb2xlYW4gPSBmYWxzZSApOiBQb2ludDJEIHtcclxuICBjb25zdCBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZSA9ICggd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGVsZW1lbnQgKS50cmFuc2Zvcm0ubWF0Y2goIHJlZ2V4TnVtYmVyUGF0dGVybiApID8/IFswLCAwXSApLm1hcCggbiA9PiArbiApO1xyXG5cclxuICBsZXQgcmVzdWx0ID0ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG5cclxuICBpZiAoIGNoZWNrQm9keVJvdGF0aW9uICkge1xyXG4gICAgY29uc3QgYm9keUFuZ2xlID0gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBkb2N1bWVudC5ib2R5LCBnZXRFbGVtZW50Um90YXRpb25BeGlzKCBlbGVtZW50ICkgKSB8fCAwO1xyXG4gICAgcmV0dXJuIHJvdGF0ZUNvb3JkaW5hdGVzKCByZXN1bHQueCwgcmVzdWx0LnksIGJvZHlBbmdsZSApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrRXZlbnRUb0Nvb3JkaW5hdGVzKCBldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQgKSB7XHJcbiAgaWYgKCBldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiBldmVudC5jbGllbnRYLFxyXG4gICAgICB5OiBldmVudC5jbGllbnRZXHJcbiAgICB9O1xyXG4gIH0gZWxzZSBpZiAoIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCApIHtcclxuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB0b3VjaC5jbGllbnRYLFxyXG4gICAgICB5OiB0b3VjaC5jbGllbnRZXHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBcIkV2ZW50IG5vdCBGb3VuZFwiO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCggeyBwYXJlbnRFbGVtZW50LCBpZCwgcG9zaXRpb24sIGRpbWVuc2lvbnMgfTogeyBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDsgaWQ6IHN0cmluZzsgcG9zaXRpb24/OiB7IHRvcDogbnVtYmVyOyBsZWZ0OiBudW1iZXI7IH07IGRpbWVuc2lvbnM/OiBEaW1lbnNpb25zOyB9ICkge1xyXG4gIHZhciBpbnZpc2libGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG5cclxuICBpZiAoICFwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uICkge1xyXG4gICAgcGFyZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XHJcbiAgfVxyXG5cclxuICBpbnZpc2libGVEaXYuaWQgPSBpZDtcclxuICBpbnZpc2libGVEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS53aWR0aCA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9ucy53aWR0aCA/IGRpbWVuc2lvbnMud2lkdGgudG9TdHJpbmcoKSArICdweCcgOiAnMTAwJSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmhlaWdodCA9IGRpbWVuc2lvbnMgJiYgZGltZW5zaW9ucy5oZWlnaHQgPyBkaW1lbnNpb25zLmhlaWdodC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUudG9wID0gKCBwb3NpdGlvbj8udG9wLnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5sZWZ0ID0gKCBwb3NpdGlvbj8ubGVmdC50b1N0cmluZygpID8/ICcwJyApICsgJ3B4JztcclxuICBpbnZpc2libGVEaXYuc3R5bGUub3BhY2l0eSA9ICcwJzsgLy8gTWFrZSB0aGUgZGl2IGludmlzaWJsZVxyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nOyAvLyBBbGxvdyB0aGUgZGl2IHRvIGludGVyY2VwdCBtb3VzZSBldmVudHNcclxuXHJcbiAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZCggaW52aXNpYmxlRGl2ICk7XHJcblxyXG4gIHJldHVybiBpbnZpc2libGVEaXY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoaWRlRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICBlbGVtZW50LnN0eWxlLnpJbmRleCA9ICctMSc7XHJcbiAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gIGVsZW1lbnQuc3R5bGUud2lkdGggPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSggJ2hpZGRlbicsICcnICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzbGVlcEFzeW5jKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPiggKCByZXNvbHZlICkgPT4gc2V0VGltZW91dCggKCkgPT4gcmVzb2x2ZSgpLCBtcyApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudHNCeUNoZWNrKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQsIG9uQ2hlY2s6IEZ1bmN0aW9uLCBvblVuY2hlY2s6IEZ1bmN0aW9uICkge1xyXG4gIGlmICggdHJpZ2dlckVsZW1lbnQuY2hlY2tlZCApIHtcclxuICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRyaWdnZXJHcm91cCA9IHRyaWdnZXJFbGVtZW50Lm5hbWVcclxuICAgID8gQXJyYXkuZnJvbSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggYFtuYW1lPVwiJHsgdHJpZ2dlckVsZW1lbnQubmFtZSB9XCJdYCApIClcclxuICAgIDogW3RyaWdnZXJFbGVtZW50XTtcclxuXHJcbiAgdHJpZ2dlckdyb3VwLmZvckVhY2goIHQgPT4gdC5hZGRFdmVudExpc3RlbmVyKCAnY2hhbmdlJywgZXZ0ID0+IHtcclxuICAgIGlmICggdHJpZ2dlckVsZW1lbnQuY2hlY2tlZCApIHtcclxuICAgICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBvblVuY2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfVxyXG4gIH0gKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0SW5wdXRGb3JjZVBob25lTnVtYmVyRm9ybWF0KCBpbnB1dEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgKSB7XHJcbiAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdpbnB1dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBwaG9uZUlucHV0ID0gdGhpcy52YWx1ZTtcclxuXHJcbiAgICBjb25zdCBjbGVhblBob25lSW5wdXQgPSBwaG9uZUlucHV0LnJlcGxhY2UoIC9cXEQvZywgJycgKTtcclxuICAgIGlmICggY2xlYW5QaG9uZUlucHV0Lmxlbmd0aCA+IDExICkge1xyXG4gICAgICBwaG9uZUlucHV0ID0gY2xlYW5QaG9uZUlucHV0LnNsaWNlKCAwLCAxMSApO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBwaG9uZU51bWJlckZvcm1hdHRlZCA9IHRvUGhvbmVOdW1iZXIoIHBob25lSW5wdXQgKTtcclxuXHJcbiAgICBpZiAoIHBob25lTnVtYmVyRm9ybWF0dGVkLmxlbmd0aCA9PT0gMTAgKSB7XHJcbiAgICAgIHBob25lTnVtYmVyRm9ybWF0dGVkID0gcGhvbmVOdW1iZXJGb3JtYXR0ZWQucmVwbGFjZUFsbCggJy0nLCAnJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudmFsdWUgPSBwaG9uZU51bWJlckZvcm1hdHRlZDtcclxuICB9ICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNNb2JpbGVCcm93c2VyKCkge1xyXG4gIHJldHVybiAvQW5kcm9pZHxpUGhvbmUvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRGV2aWNlVHlwZSgpOiAnYW5kcm9pZCcgfCAnYXBwbGUnIHwgJ2Rlc2t0b3AnIHtcclxuICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8ICggd2luZG93IGFzIGFueSApLm9wZXJhO1xyXG5cclxuICBpZiAoIC9hbmRyb2lkL2kudGVzdCggdXNlckFnZW50ICkgKSB7XHJcbiAgICByZXR1cm4gJ2FuZHJvaWQnO1xyXG4gIH0gZWxzZSBpZiAoIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KCB1c2VyQWdlbnQgKSAmJiAhKCB3aW5kb3cgYXMgYW55ICkuTVNTdHJlYW0gKSB7XHJcbiAgICByZXR1cm4gJ2FwcGxlJztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuICdkZXNrdG9wJztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc09uU2NyZWVuKCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICByZXR1cm4gKFxyXG4gICAgcmVjdC50b3AgPj0gMCAmJlxyXG4gICAgcmVjdC5sZWZ0ID49IDAgJiZcclxuICAgIHJlY3QuYm90dG9tIDw9ICggd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKSAmJlxyXG4gICAgcmVjdC5yaWdodCA8PSAoIHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCApXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50Vmlld0lmQ2hlY2tlZCggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIG9wdGlvbnMgPSB7XHJcbiAgb25DaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH0sXHJcbiAgb25VbmNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfVxyXG59ICkge1xyXG4gIGJpbmRFbGVtZW50c0J5Q2hlY2soXHJcbiAgICB0cmlnZ2VyRWxlbWVudCxcclxuICAgIHRhcmdldEVsZW1lbnQsXHJcbiAgICAoIGVsOiBIVE1MRWxlbWVudCApID0+IHtcclxuICAgICAgZWwuY2xhc3NMaXN0LmFkZCggJ3Nob3cnICk7XHJcbiAgICAgIG9wdGlvbnMub25DaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgICAoIGVsOiBIVE1MRWxlbWVudCApID0+IHtcclxuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSggJ3Nob3cnICk7XHJcbiAgICAgIG9wdGlvbnMub25VbmNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVGcm9tUmFkaW9Hcm91cCggZ3JvdXBOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIGBbbmFtZT0keyBncm91cE5hbWUgfV06Y2hlY2tlZGAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gIGlmICggZWwgKSB7XHJcbiAgICByZXR1cm4gZWwudmFsdWU7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbCggdGFyZ2V0WTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyICk6IHZvaWQge1xyXG4gIGNvbnN0IHN0YXJ0WSA9IHdpbmRvdy5zY3JvbGxZIHx8IHdpbmRvdy5wYWdlWU9mZnNldDtcclxuICBsZXQgc3RhcnRUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgZnVuY3Rpb24gc3RlcCggY3VycmVudFRpbWU6IG51bWJlciApIHtcclxuICAgIGlmICggIXN0YXJ0VGltZSApIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lO1xyXG4gICAgY29uc3QgZWxhcHNlZFRpbWUgPSBjdXJyZW50VGltZSAtIHN0YXJ0VGltZTtcclxuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4oIGVsYXBzZWRUaW1lIC8gZHVyYXRpb24sIDEgKTtcclxuICAgIGNvbnN0IGVhc2VkUHJvZ3Jlc3MgPSBsZXJwKCAwLCAxLCBwcm9ncmVzcyApO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKCAwLCBsZXJwKCBzdGFydFksIHRhcmdldFksIGVhc2VkUHJvZ3Jlc3MgKSApO1xyXG4gICAgaWYgKCBlbGFwc2VkVGltZSA8IGR1cmF0aW9uICkge1xyXG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHN0ZXAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgbsOjbyB2YWkgc2VyIGNvbXBsZXRhZGEgY2FzbyBzZWphIGNoYW1hZGEgbm92YW1lbnRlIGVtIHsgZGVsYXkgfSBtaWxpc3NlZ3VuZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBkZWxheTogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgaW5EZWJvdW5jZTogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGNsZWFyVGltZW91dCggaW5EZWJvdW5jZSApO1xyXG4gICAgaW5EZWJvdW5jZSA9IHdpbmRvdy5zZXRUaW1lb3V0KCAoKSA9PiBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICksIGRlbGF5ICk7XHJcbiAgfTtcclxufVxyXG5cclxuLy8gUmV0b3JuYSB1bWEgZnVuw6fDo28gcXVlIHPDsyBwb2RlIHNlciBjb21wbGV0YWRhIHVtYSB2ZXogYSBjYWRhIHsgbGltaXQgfSBtaWxpc3NlZ3VuZG9zIFxyXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGVGYWN0b3J5KCBmdW5jOiBGdW5jdGlvbiwgbGltaXQ6IG51bWJlciApOiBGdW5jdGlvbiB7XHJcbiAgbGV0IGxhc3RGdW5jOiBudW1iZXI7XHJcbiAgbGV0IGxhc3RSYW46IG51bWJlcjtcclxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgY29udGV4dCA9IHdpbmRvdztcclxuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICBpZiAoICFsYXN0UmFuICkge1xyXG4gICAgICBmdW5jLmFwcGx5KCBjb250ZXh0LCBhcmdzICk7XHJcbiAgICAgIGxhc3RSYW4gPSBEYXRlLm5vdygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KCBsYXN0RnVuYyApO1xyXG4gICAgICBsYXN0RnVuYyA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCBEYXRlLm5vdygpIC0gbGFzdFJhbiA+PSBsaW1pdCApIHtcclxuICAgICAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgICAgIGxhc3RSYW4gPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgbGltaXQgLSAoIERhdGUubm93KCkgLSBsYXN0UmFuICkgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUbyggcG9zOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgZG9jdW1lbnQuYm9keS5zY3JvbGxUbygge1xyXG4gICAgdG9wOiBwb3MsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsVG9FbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgdXNlQnJvd3NlckRlZmF1bHRzOiBib29sZWFuID0gdHJ1ZSApOiB2b2lkIHtcclxuICBpZiAoICF1c2VCcm93c2VyRGVmYXVsdHMgKSB7XHJcbiAgICBjb25zdCB0YXJnZXRZID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cuc2Nyb2xsWTtcclxuICAgIGNvbnN0IGR1cmF0aW9uID0gMTAwMDsgLy8gRHVyYcOnw6NvIGZpeGEgZW0gbWlsaXNzZWd1bmRvcyAoMSBzZWd1bmRvKVxyXG4gICAgc21vb3RoU2Nyb2xsKCB0YXJnZXRZLCBkdXJhdGlvbiApO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQuYm9keS5zY3JvbGxUbygge1xyXG4gICAgdG9wOiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnksXHJcbiAgICBsZWZ0OiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsXHJcbiAgICBiZWhhdmlvcjogJ3Ntb290aCcsXHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0T3B0aW9uQnlUZXh0KCBpZFNlbGVjdEVsZW1lbnQ6IHN0cmluZywgc2VhcmNoVGV4dDogc3RyaW5nLCBjb250YWluczogYm9vbGVhbiA9IGZhbHNlICk6IHZvaWQge1xyXG4gIGNvbnN0IHNlbGVjdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaWRTZWxlY3RFbGVtZW50ICkgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcblxyXG4gIGlmICggIXNlbGVjdEVsZW1lbnQgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBjb25zdCBvcHRpb25zRWxlbWVudG9TZWxlY3QgPSBbLi4uc2VsZWN0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnb3B0aW9uJyApXTtcclxuXHJcbiAgbGV0IHNlbGVjdGVkT3B0aW9uO1xyXG4gIGlmICggY29udGFpbnMgKSB7XHJcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnNFbGVtZW50b1NlbGVjdFxyXG4gICAgICAuZmlsdGVyKCBlbCA9PiBlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkgKSApWzBdLnZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnNFbGVtZW50b1NlbGVjdFxyXG4gICAgICAuZmlsdGVyKCBlbCA9PiBlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpID09PSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkgKVswXS52YWx1ZTtcclxuICB9XHJcblxyXG4gIHNlbGVjdEVsZW1lbnQudmFsdWUgPSBzZWxlY3RlZE9wdGlvbjtcclxufVxyXG5cclxuIiwiXHJcbi8vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNjI0NTc2Ny9jcmVhdGluZy1hLWJsb2ItZnJvbS1hLWJhc2U2NC1zdHJpbmctaW4tamF2YXNjcmlwdFxyXG4vLy8gRGl2aWRlIHVtIGFycXVpdm8gYmluw6FyaW8gZW0gdsOhcmlhcyBwYXJ0ZXMsIHBhcmEgcXVlIGEgY29udmVyc8OjbyBzZWphIG90aW1pemFkYSwgZSByZXRvcm5hIHVtYSBibG9iIGNvbSBvIGFycXVpdm9cclxuXHJcbmltcG9ydCB7IGlzTnVsbE9yRW1wdHkgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuXHJcbi8vLyBAcGFyYW0gb25Qcm9ncmVzc28gVW0gY2FsbGJhY2sgcXVlIHJlY2ViZSBhIHBvcmNlbnRhZ2VtIGRlIHByb2dyZXNzbyBhdHVhbCBkYSBjb252ZXJzw6NvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoIHRleHRvQmFzZTY0OiBzdHJpbmcsIGNvbnRlbnRUeXBlOiBzdHJpbmcsIHRhbWFuaG9QYXJ0ZXMgPSAxMDI0LCBvblByb2dyZXNzID0gKCBwcm9ncmVzc29BdHVhbDogbnVtYmVyICkgPT4geyBjb25zb2xlLmxvZyggcHJvZ3Jlc3NvQXR1YWwgKSB9ICkge1xyXG4gIGNvbnN0IGJ5dGVBcnJheXMgPSBuZXcgQXJyYXk8VWludDhBcnJheT4oKTtcclxuICBjb25zdCBmaWxlU2l6ZSA9IHRleHRvQmFzZTY0Lmxlbmd0aDtcclxuXHJcbiAgLy8vIHByZWVuY2hlIGBieXRlQXJyYXlzYCBjb20gb3MgYnl0ZXMgZG8gYXJxdWl2byBwZWdhbmRvIHVtYSBwYXJ0ZSBkZSBcInRhbWFuaG9QYXJ0ZXNcIiBwb3IgdmV6XHJcbiAgZm9yICggbGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGZpbGVTaXplOyBvZmZzZXQgKz0gdGFtYW5ob1BhcnRlcyApIHtcclxuICAgIC8vLyBwZWdhbmRvIHVtIHBhcnRlIGRlIHRhbWFuaG8ge3RhbWFuaG9QYXJ0ZXN9IGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGNodW5rID0gdGV4dG9CYXNlNjQuc2xpY2UoIG9mZnNldCwgb2Zmc2V0ICsgdGFtYW5ob1BhcnRlcyApO1xyXG5cclxuICAgIC8vLyBjb252ZXJ0ZW5kbyBhIHBhcnRlIGVtIHVtIGFycmF5IGNvbSBjYWRhIGJ5dGUgZGVzc2UgcGVkYcOnbyBkbyBhcnF1aXZvXHJcbiAgICBjb25zdCBhcnJCeXRlc0NodW5rID0gbmV3IEFycmF5PG51bWJlcj4oIGNodW5rLmxlbmd0aCApO1xyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgY2h1bmsubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGFyckJ5dGVzQ2h1bmtbaV0gPSBjaHVuay5jaGFyQ29kZUF0KCBpICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIHRyYW5zZm9ybWFuZG8gZXNzZSBhcnJheSBlbSB1bSBhcnJheSBjb20gY2FtcG9zIGRvIHRhbWFuaG8gZGUgdW0gYnl0ZVxyXG4gICAgLy8vIGUgdW5pbmRvIGFzIHBhcnRlcyBqw6EgY29uY2x1w61kYXMgZG8gYXJxdWl2b1xyXG4gICAgYnl0ZUFycmF5cy5wdXNoKCBuZXcgVWludDhBcnJheSggYXJyQnl0ZXNDaHVuayApICk7XHJcblxyXG4gICAgLy8vIENoYW1hbmRvIGNhbGxiYWNrIHF1ZSBleGliZSBvIHByb2dyZXNzbyBxdWFuZG8gbyBwYXNzbyBhdHVhbCBmb3IgY29uY2x1w61kb1xyXG4gICAgYXdhaXQgb25Qcm9ncmVzcyggKCBvZmZzZXQgLyBmaWxlU2l6ZSApICogMTAwICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEJsb2IoIGJ5dGVBcnJheXMsIHsgdHlwZTogY29udGVudFR5cGUgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlRnJvbUJsb2IoIGJsb2I6IEJsb2IsIHRpdGxlOiBzdHJpbmcgKSB7XHJcbiAgbGV0IGZpbGUgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICk7XHJcblxyXG4gIGlmICggZmlsZSApIHtcclxuICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2EnICk7XHJcbiAgICBhLmhyZWYgPSBmaWxlO1xyXG4gICAgYS5kb3dubG9hZCA9IHRpdGxlO1xyXG4gICAgYS5jbGljaygpO1xyXG4gICAgYS5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGaWxlUGF0aCggZmlsZVBhdGg6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGNvbnN0IHJlZ2V4ID0gLyg/Oi4qW1xcXFwvXSkoW15cXFxcL10rKSQvO1xyXG5cclxuICBjb25zdCBtYXRjaCA9IHJlZ2V4LmV4ZWMoIGZpbGVQYXRoICk7XHJcbiAgaWYgKCBtYXRjaCAmJiBtYXRjaC5sZW5ndGggPiAxICkge1xyXG4gICAgcmV0dXJuIG1hdGNoWzFdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmlsZVBhdGg7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbiggZmlsZU5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGlmICggaXNOdWxsT3JFbXB0eSggZmlsZU5hbWUgKSApIHJldHVybiAnJztcclxuXHJcbiAgY29uc3QgZGVmYXVsdEZpbGVTcmMgPSBmaWxlTmFtZS5zcGxpdCggJy4nICkucG9wKCk7XHJcbiAgaWYgKCBkZWZhdWx0RmlsZVNyYyAmJiBkZWZhdWx0RmlsZVNyYyAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZGVmYXVsdEZpbGVTcmM7XHJcbiAgfVxyXG5cclxuICBjb25zdCBmaWxlVHlwZVN0ciA9IGZpbGVOYW1lLnNwbGl0KCAnLycgKS5wb3AoKTtcclxuICBpZiAoIGZpbGVUeXBlU3RyICYmIGZpbGVUeXBlU3RyICE9PSBmaWxlTmFtZSApIHtcclxuICAgIHJldHVybiBmaWxlVHlwZVN0cjtcclxuICB9XHJcblxyXG4gIHJldHVybiAnJztcclxufSIsImV4cG9ydCBjb25zdCByZWdleE51bWJlclBhdHRlcm4gPSAvLT9cXGQrXFwuP1xcZCovZztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQyRCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25zIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1JvdyggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIGluZGV4IC8gZ3JpZFdpZHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvQ29sKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gaW5kZXggJSBncmlkV2lkdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3dDb2xUb0luZGV4KCByb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuICggcm93ICogd2lkdGggKSArIGNvbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQoIGNvb3JkczogUG9pbnQyRCwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0gY29vcmRzLnggKiBNYXRoLmNvcyggcmFkaWFucyApIC0gY29vcmRzLnkgKiBNYXRoLnNpbiggcmFkaWFucyApO1xyXG4gIGNvbnN0IG5ld1kgPSBjb29yZHMueCAqIE1hdGguc2luKCByYWRpYW5zICkgKyBjb29yZHMueSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzKCB4OiBudW1iZXIsIHk6IG51bWJlciwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0geCAqIE1hdGguY29zKCByYWRpYW5zICkgLSB5ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0geCAqIE1hdGguc2luKCByYWRpYW5zICkgKyB5ICogTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICByZXR1cm4geyB4OiBuZXdYLCB5OiBuZXdZIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcmVEaWFnb25hbHMoIGluZGV4MTogbnVtYmVyLCBpbmRleDI6IG51bWJlciwgZ3JpZFNpemU6IG51bWJlciApOiBib29sZWFuIHtcclxuICBpZiAoIGluZGV4MSA8IDAgfHwgaW5kZXgyIDwgMCApIHtcclxuICAgIHRocm93IG5ldyBFcnJvciggJ0ludmFsaWQgY2VsbCBpbmRpY2VzJyApO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93MSA9IGluZGV4VG9Sb3coIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wxID0gaW5kZXhUb0NvbCggaW5kZXgxLCBncmlkU2l6ZSApO1xyXG5cclxuICBjb25zdCByb3cyID0gaW5kZXhUb1JvdyggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG4gIGNvbnN0IGNvbDIgPSBpbmRleFRvQ29sKCBpbmRleDIsIGdyaWRTaXplICk7XHJcblxyXG4gIHJldHVybiBNYXRoLmFicyggcm93MSAtIHJvdzIgKSA9PT0gTWF0aC5hYnMoIGNvbDEgLSBjb2wyICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUG9pbnQyRCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IGluZGV4VG9Db2woIGluZGV4LCBncmlkV2lkdGggKSxcclxuICAgIHk6IGluZGV4VG9Sb3coIGluZGV4LCBncmlkV2lkdGggKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCAxIC0gYW1vdW50ICkgKiBtaW4gKyBhbW91bnQgKiBtYXg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlTGVycCggYTogbnVtYmVyLCBiOiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggdmFsIC0gYSApIC8gKCBiIC0gYSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtYXAoIGluTWluOiBudW1iZXIsIGluTWF4OiBudW1iZXIsIG91dE1pbjogbnVtYmVyLCBvdXRNYXg6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gbGVycCggb3V0TWluLCBvdXRNYXgsIGludmVyc2VMZXJwKCBpbk1pbiwgaW5NYXgsIHZhbCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICkgKyBtaW4gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxTZXRzPFQ+KCBzZXQxOiBTZXQ8VD4sIHNldDI6IFNldDxUPiApIHtcclxuICByZXR1cm4gc2V0MS5zaXplID09PSBzZXQyLnNpemUgJiZcclxuICAgIFsuLi5zZXQxXS5ldmVyeSggKCB4ICkgPT4gc2V0Mi5oYXMoIHggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgbWluID0gTWF0aC5jZWlsKCBtaW4gKTtcclxuICBtYXggPSBNYXRoLmZsb29yKCBtYXggKTtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICsgMSApICkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Gcm9tQXJyYXk8VD4oIGFycjogQXJyYXk8VD4gKSB7XHJcbiAgcmV0dXJuIGFycltnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIGFyci5sZW5ndGggKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCggbnVtOiBudW1iZXIgPSAwLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMTAwICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBudW0sIG1heCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW51dGVzVG9NaWxsaXNlY29uZHMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zICogNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb01pbnV0ZXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0hvdXJzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDMuNmUrNjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvRGF5cyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA4LjY0ZSs3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVnYWJ5dGVUb0J5dGUoIG1iOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1iICogMTAyNCAqIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBieXRlVG9NZWdhYnl0ZSggYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBiIC8gMTAyNCAvIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21SYW5nZSggc2l6ZTogbnVtYmVyLCBzdGFydGluZ0Zyb206IG51bWJlciA9IDAgKTogbnVtYmVyW10ge1xyXG4gIGxldCByZXN1bHQgPSBbLi4uQXJyYXkoIHNpemUgKS5rZXlzKCldXHJcblxyXG4gIGlmICggc3RhcnRpbmdGcm9tICE9IDAgKSB7XHJcbiAgICByZXN1bHQgPSByZXN1bHQubWFwKCBpID0+IGkgKyBzdGFydGluZ0Zyb20gKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9QaG9uZU51bWJlciggaW5wdXRUZXh0OiBzdHJpbmcgKSB7XHJcbiAgY29uc3QgY2xlYW5OdW1iZXIgPSBpbnB1dFRleHQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG5cclxuICBsZXQgcmVzdWx0O1xyXG4gIGlmICggY2xlYW5OdW1iZXIubGVuZ3RoIDw9IDEwICkge1xyXG4gICAgY29uc3QgcmVnZXggPSAvXihcXGR7Mn0pKFxcZHs0fSkoXFxkezAsNH0pJC87XHJcbiAgICByZXN1bHQgPSBjbGVhbk51bWJlci5yZXBsYWNlKCByZWdleCwgJygkMSkgJDItJDMnICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkezJ9KShcXGR7NX0pKFxcZHswLDR9KSQvO1xyXG4gICAgcmVzdWx0ID0gY2xlYW5OdW1iZXIucmVwbGFjZSggcmVnZXgsICcoJDEpICQyLSQzJyApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5pbXBvcnQgeyBnZXRFbGVtZW50RnJvbUhUTUwgfSBmcm9tICcuLi8uLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IEF1ZGlvQ29tcG9uZW50IH0gZnJvbSAnLi4vQXVkaW9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBZb3V0dWJlSWZyYW1lIH0gZnJvbSAnLi4vWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lU3dpdGNoZXInO1xyXG5pbXBvcnQgeyB0ZW1wbGF0ZVNvdW5kVGFibGVJbnB1dCwgdGVtcGxhdGVTb3VuZFRhYmxlSXRlbUNvbnRhaW5lciB9IGZyb20gJy4vVGVtcGxhdGVzU291bmRUYWJsZSc7XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgU291bmRUYWJsZU9wdGlvbnMgPSB7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBhcnJNZWRpYVNyYzogc3RyaW5nW107XHJcbiAgYXJyVmlkZW9JZDogc3RyaW5nW107XHJcbiAgaWZyYW1lc0NsYXNzTGlzdDogc3RyaW5nW107XHJcbiAgY29udGFpbmVyc0NsYXNzTGlzdDogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNvdW5kVGFibGVDb21wb25lbnQgPSBZb3V0dWJlSWZyYW1lIHwgQXVkaW9Db21wb25lbnQ7XHJcblxyXG5leHBvcnQgY2xhc3MgU291bmRUYWJsZSBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIge1xyXG4gIHB1YmxpYyByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gIHB1YmxpYyBpZnJhbWVzQ2xhc3NMaXN0OiBzdHJpbmdbXTtcclxuICBwdWJsaWMgY29udGFpbmVyc0NsYXNzTGlzdDogc3RyaW5nW107XHJcblxyXG4gIHByaXZhdGUgX2FyckV2ZXJ5Q29tcG9uZW50OiBzdHJpbmdbXTtcclxuICBwcml2YXRlIF9hcnJDb21wb25lbnRzUmVhZHk6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHByaXZhdGUgX3NldE1lZGlhQ29udHJvbGxlcnMgPSBuZXcgU2V0PFNvdW5kVGFibGVDb21wb25lbnQ+KCk7XHJcbiAgcHJpdmF0ZSBfbWFwTWVkaWFDb250cm9sbGVyc0J5SWQgPSBuZXcgTWFwPHN0cmluZywgU291bmRUYWJsZUNvbXBvbmVudD4oKTtcclxuICBwcml2YXRlIF9tYXBJbnB1dEJ5U291cmNlSWQ6IE1hcDxzdHJpbmcsIEhUTUxFbGVtZW50PiA9IG5ldyBNYXA8c3RyaW5nLCBIVE1MRWxlbWVudD4oKTs7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBTb3VuZFRhYmxlT3B0aW9ucyApIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcclxuXHJcbiAgICB0aGlzLmlmcmFtZXNDbGFzc0xpc3QgPSBvcHRpb25zLmlmcmFtZXNDbGFzc0xpc3QgPz8gW107XHJcbiAgICB0aGlzLmNvbnRhaW5lcnNDbGFzc0xpc3QgPSBvcHRpb25zLmNvbnRhaW5lcnNDbGFzc0xpc3QgPz8gW107XHJcblxyXG4gICAgdGhpcy5fYXJyRXZlcnlDb21wb25lbnQgPSBbLi4ub3B0aW9ucy5hcnJNZWRpYVNyYywgLi4ub3B0aW9ucy5hcnJWaWRlb0lkXTtcclxuXHJcbiAgICBvcHRpb25zLmFyck1lZGlhU3JjLmZvckVhY2goIG1lZGlhU3JjID0+IHtcclxuICAgICAgdGhpcy5hZGRBdWRpb0NvbXBvbmVudCggb3B0aW9ucy5jb250YWluZXIuaWQsIG1lZGlhU3JjIClcclxuICAgIH0gKTtcclxuXHJcbiAgICBvcHRpb25zLmFyclZpZGVvSWQuZm9yRWFjaCggdmlkZW9JZCA9PiB7XHJcbiAgICAgIHRoaXMuYWRkSWZyYW1lKCBgJHsgb3B0aW9ucy5jb250YWluZXIuaWQgfUlmcmFtZVRhYmxlSXRlbSR7IHZpZGVvSWQgfWAsIHZpZGVvSWQgKVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuY29tcG9uZW50c0NvbnRyb2xsZXJzLmZvckVhY2goICggY29tcG9uZW50ICkgPT4ge1xyXG4gICAgICBjb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ29uaW50ZXJhY3Rpb25ibG9ja2VkJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbXBvbmVudC5zZWVrKCAwLCB0cnVlICk7XHJcbiAgICAgICAgY29tcG9uZW50LnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgICB9ICk7XHJcbiAgICB9ICk7XHJcblxyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuYnVpbGRJZnJhbWVzKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0SW5wdXRCeVNvdXJjZSggc3JjOiBzdHJpbmcgKSB7XHJcbiAgICBpZiAoICF0aGlzLl9tYXBJbnB1dEJ5U291cmNlSWQuaGFzKCBzcmMgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkVsZW1lbnQgc3JjIG5vdCBvbiBzb3VuZCB0YWJsZS5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9tYXBJbnB1dEJ5U291cmNlSWQuZ2V0KCBzcmMgKSE7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldCBldmVyeUNvbXBvbmVudFJlYWR5KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2FyckV2ZXJ5Q29tcG9uZW50Lmxlbmd0aCA9PT0gdGhpcy5fYXJyQ29tcG9uZW50c1JlYWR5Lmxlbmd0aDtcclxuICB9XHJcblxyXG4gIGdldCBjb21wb25lbnRzQ29udHJvbGxlcnMoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSggdGhpcy5fc2V0TWVkaWFDb250cm9sbGVycyApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRFbGVtZW50TWVkaWFDb250YWluZXIoIGNvbnRhaW5lcklkOiBzdHJpbmcgKSB7XHJcbiAgICBjb25zdCBlbGVtZW50TWVkaWFDb250YWluZXIgPSBnZXRFbGVtZW50RnJvbUhUTUwoIHRlbXBsYXRlU291bmRUYWJsZUl0ZW1Db250YWluZXIoIGNvbnRhaW5lcklkICkgKSBhcyBIVE1MRWxlbWVudDtcclxuICAgIGVsZW1lbnRNZWRpYUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAuLi50aGlzLmNvbnRhaW5lcnNDbGFzc0xpc3QgKTtcclxuICAgIHJldHVybiBlbGVtZW50TWVkaWFDb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZEF1ZGlvQ29tcG9uZW50KCBjb250YWluZXJJZDogc3RyaW5nLCBzcmM6IHN0cmluZyApIHtcclxuICAgIGNvbnN0IGF1ZGlvQ29udGFpbmVyID0gdGhpcy5nZXRFbGVtZW50TWVkaWFDb250YWluZXIoIGNvbnRhaW5lcklkICk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdiZWZvcmVlbmQnLCBhdWRpb0NvbnRhaW5lciApO1xyXG5cclxuICAgIGNvbnN0IGlucHV0RWxlbWVudENvbnRhaW5lciA9IGdldEVsZW1lbnRGcm9tSFRNTCggdGVtcGxhdGVTb3VuZFRhYmxlSW5wdXQoIGNvbnRhaW5lcklkLCAnU291cmNlJywgc3JjICkgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5cclxuICAgIGF1ZGlvQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIGlucHV0RWxlbWVudENvbnRhaW5lciApO1xyXG4gICAgdGhpcy5fbWFwSW5wdXRCeVNvdXJjZUlkLnNldCggY29udGFpbmVySWQsIGlucHV0RWxlbWVudENvbnRhaW5lciApO1xyXG5cclxuICAgIEF1ZGlvQ29tcG9uZW50LmNyZWF0ZUF1ZGlvQ29tcG9uZW50KCB7XHJcbiAgICAgIHNyYzogc3JjLFxyXG4gICAgICBhdWRpb0VsZW1lbnRJZDogYCR7IGNvbnRhaW5lcklkIH1JZnJhbWVUYWJsZUl0ZW0keyBzcmMgfWAsXHJcbiAgICAgIGJsb2NrSW50ZXJhY3Rpb246IHRydWUsXHJcbiAgICAgIGNvbnRhaW5lcjogYXVkaW9Db250YWluZXJcclxuICAgIH0gKS50aGVuKCBhdWRpb0NvbXBvbmVudCA9PiB7XHJcbiAgICAgIHRoaXMuX3NldE1lZGlhQ29udHJvbGxlcnMuYWRkKCBhdWRpb0NvbXBvbmVudCApO1xyXG4gICAgICB0aGlzLl9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZC5zZXQoIGNvbnRhaW5lcklkLCBhdWRpb0NvbXBvbmVudCApO1xyXG4gICAgICB0aGlzLl9hcnJDb21wb25lbnRzUmVhZHkucHVzaCggY29udGFpbmVySWQgKTtcclxuXHJcbiAgICAgIGlucHV0RWxlbWVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnaW5wdXQnICkhLmFkZEV2ZW50TGlzdGVuZXIoICdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdpbnB1dCcsIGlucHV0RWxlbWVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnaW5wdXQnICkhLnZhbHVlLCBhdWRpb0NvbXBvbmVudCApO1xyXG4gICAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW5wdXQnLCBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJ2lucHV0JyApIS52YWx1ZSwgYXVkaW9Db21wb25lbnQgKTtcclxuICAgICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdpbnB1dGNoYW5nZScsIGlucHV0RWxlbWVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnaW5wdXQnICkhLnZhbHVlLCBhdWRpb0NvbXBvbmVudCApO1xyXG4gICAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW5wdXRjaGFuZ2UnLCBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJ2lucHV0JyApIS52YWx1ZSwgYXVkaW9Db21wb25lbnQgKTtcclxuICAgICAgfSApO1xyXG5cclxuICAgICAgaWYgKCB0aGlzLmV2ZXJ5Q29tcG9uZW50UmVhZHkgKSB7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgIH1cclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkSWZyYW1lKCBpZnJhbWVJZDogc3RyaW5nLCB2aWRlb0lkOiBzdHJpbmcgKSB7XHJcbiAgICBpZiAoIHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLmhhcyggaWZyYW1lSWQgKSApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIkEgSWZyYW1lIHdpdGggdGhpcyBpZCBhbHJlYWR5IGV4aXN0czogXCIgKyBpZnJhbWVJZCApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRJZnJhbWVDb250YWluZXIgPSB0aGlzLmdldEVsZW1lbnRNZWRpYUNvbnRhaW5lciggaWZyYW1lSWQgKTtcclxuICAgIHRoaXMuY29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIGVsZW1lbnRJZnJhbWVDb250YWluZXIgKTtcclxuXHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnRDb250YWluZXIgPSBnZXRFbGVtZW50RnJvbUhUTUwoIHRlbXBsYXRlU291bmRUYWJsZUlucHV0KCBpZnJhbWVJZCwgJ1NvdXJjZScsIHZpZGVvSWQgKSApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICBlbGVtZW50SWZyYW1lQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIGlucHV0RWxlbWVudENvbnRhaW5lciApO1xyXG4gICAgdGhpcy5fbWFwSW5wdXRCeVNvdXJjZUlkLnNldCggaWZyYW1lSWQsIGlucHV0RWxlbWVudENvbnRhaW5lciApO1xyXG5cclxuICAgIGNvbnN0IG5ld0lmcmFtZSA9IG5ldyBZb3V0dWJlSWZyYW1lKCB7XHJcbiAgICAgIGlmcmFtZUlkOiBpZnJhbWVJZCxcclxuICAgICAgdmlkZW9JZDogdmlkZW9JZCxcclxuICAgICAgcGFyZW50RWxlbWVudDogZWxlbWVudElmcmFtZUNvbnRhaW5lcixcclxuICAgICAgc3RhcnRzQXQ6IDAsXHJcbiAgICAgIGNsYXNzTGlzdDogWydzb3VuZC10YWJsZS1pdGVtJywgLi4udGhpcy5pZnJhbWVzQ2xhc3NMaXN0XSxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIGlucHV0RWxlbWVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnaW5wdXQnICkhLmFkZEV2ZW50TGlzdGVuZXIoICdpbnB1dCcsICgpID0+IHtcclxuICAgICAgdGhpcy5jYWxsRXZlbnRzQnlOYW1lKCAnaW5wdXQnLCBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJ2lucHV0JyApIS52YWx1ZSwgbmV3SWZyYW1lICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW5wdXQnLCBpbnB1dEVsZW1lbnRDb250YWluZXIucXVlcnlTZWxlY3RvciggJ2lucHV0JyApIS52YWx1ZSwgbmV3SWZyYW1lICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ2lucHV0Y2hhbmdlJywgaW5wdXRFbGVtZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICdpbnB1dCcgKSEudmFsdWUsIG5ld0lmcmFtZSApO1xyXG4gICAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmlucHV0Y2hhbmdlJywgaW5wdXRFbGVtZW50Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICdpbnB1dCcgKSEudmFsdWUsIG5ld0lmcmFtZSApO1xyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuX3NldE1lZGlhQ29udHJvbGxlcnMuYWRkKCBuZXdJZnJhbWUgKTtcclxuICAgIHRoaXMuX21hcE1lZGlhQ29udHJvbGxlcnNCeUlkLnNldCggaWZyYW1lSWQsIG5ld0lmcmFtZSApO1xyXG4gICAgdGhpcy5fYXJyQ29tcG9uZW50c1JlYWR5LnB1c2goIGlmcmFtZUlkICk7XHJcblxyXG4gICAgaWYgKCB0aGlzLmV2ZXJ5Q29tcG9uZW50UmVhZHkgKSB7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQXVkaW9Db21wb25lbnQiLCJPYmplY3RFdmVudExpc3RlbmVyIiwic3JjIiwiYXVkaW9FbGVtZW50IiwiX2NvbnRhaW5lciIsIl9ibG9ja0ludGVyYWN0aW9uIiwiX2RpdkJsb2NrSW50ZXJhY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJzdXBlciIsInRoaXMiLCJjb250YWluZXIiLCJibG9ja0ludGVyYWN0aW9uIiwiYXVkaW9FbGVtZW50SWQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdG9wIiwiZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiIsInNldHVwSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiIsInNldEVsZW1lbnRzQXR0cmlidXRlcyIsIl92aWRlb0luZm9BdHRyaWJ1dGVMaXN0IiwicmVtb3ZlRmlsZVBhdGgiLCJzZXRBdHRyaWJ1dGVMaXN0Rm9yRWxlbWVudCIsImRpdkJsb2NrSW50ZXJhY3Rpb24iLCJwYXVzZWQiLCJmaWxlTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJjdXJyZW50VGltZSIsInQiLCJzb3VyY2VFbGVtZW50cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGFuZ2VTb3VyY2UiLCJpbm5lckhUTUwiLCJzb3VyY2VFbGVtZW50SFRNTCIsImxvYWQiLCJwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMiLCJwbGF5UHJvbWlzZSIsInBsYXkiLCJ1bmRlZmluZWQiLCJ0aGVuIiwiXyIsImNhdGNoIiwic2V0Q2xhc3Nlc1BsYXlpbmciLCJwYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzIiwicGF1c2UiLCJzZXRDbGFzc2VzUGF1c2VkIiwicmVtb3ZlIiwiY2FsbEV2ZW50c0J5TmFtZSIsInRvZ2dsZSIsIm11dGUiLCJ2b2x1bWUiLCJ1bm11dGUiLCJzZWVrIiwic2Vla1RpbWUiLCJfcmVsb2FkQnVmZmVyIiwiZGltZW5zaW9ucyIsImdldEVsZW1lbnREaW1lbnNpb25zIiwiYXVkaW9Db21wb25lbnQiLCJlbGVtZW50SW52aXNpYmxlRGl2IiwiY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJzdHlsZSIsImRpc3BsYXkiLCJ6SW5kZXgiLCJjcmVhdGVBdWRpb0NvbXBvbmVudE9uQm9keSIsImF1ZGlvQ29tcG9uZW50Q29udGFpbmVyIiwiQXVkaW9Db21wb25lbnRGYWN0b3J5IiwiYnVpbGRPbkJvZHkiLCJjcmVhdGVBdWRpb0NvbXBvbmVudCIsImRvY3VtZW50IiwiYm9keSIsImJ1aWxkIiwiQ29tcG9uZW50Q29udGFpbmVyIiwicGxheWVyQ29uZmlnIiwiY3JlYXRlSW52aXNpYmxlUGxheWVyIiwiYnVpbGRTdWJDb21wb25lbnRzIiwicGFyZW50IiwiX2VsZW1lbnQiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJjb21wb25lbnROYW1lIiwic3ViQ29tcG9uZW50Q291bnRCeU5hbWUiLCJNYXAiLCJzdWJDb21wb25lbnRzIiwidGVtcGxhdGUiLCJnZXRFbGVtZW50QnlJZCIsIkVycm9yIiwiY3JlYXRlRWxlbWVudCIsImNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImdldFRlbXBsYXRlQ2xvbmVOb2RlcyIsImNsb25lTm9kZSIsImNoaWxkcmVuIiwiYnVpbGRTaW5nbGVTdWJDb21wb25lbnQiLCJjb21wb25lbnQiLCJoYXMiLCJzZXQiLCJjb21wb25lbnRDb3VudCIsImdldCIsImNhcGl0YWxpemVGaXJzdExldHRlciIsImVsZW1lbnRJZCIsIml0ZW0iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJ0ZW1wbGF0ZVNvdW5kVGFibGVJdGVtQ29udGFpbmVyIiwiaXRlbUlkIiwidHJpbSIsInRlbXBsYXRlU291bmRUYWJsZUlucHV0IiwibGFiZWxUZXh0IiwidmFsdWUiLCJwbGFjZWhvbGRlciIsInRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IiwiaWZyYW1lSWQiLCJZb3V0dWJlSWZyYW1lIiwic3RhdGljIiwicGxheWVyIiwiX2lzUGxheWVyUmVhZHkiLCJfdmlkZW9JZCIsInZpZGVvTmFtZSIsInZpZGVvVGh1bWIiLCJjaGFubmVsVVJMIiwiY2hhbm5lbE5hbWUiLCJfaWZyYW1lRWxlbWVudCIsIl9pZnJhbWVDb250YWluZXIiLCJfaWZyYW1lUGFyZW50RWxlbWVudCIsIl9pc1BsYXlpbmciLCJfZGltZW5zaW9ucyIsInRvcERpdiIsIl9zdGFydHNBdCIsIl9zdGFydE11dGVkIiwiX3BsYXlpbmdPYnNlcnZlckludGVydmFsIiwiX2V2ZW50TGlzdGVuZXIiLCJfZGljdFlvdXR1YmVJZnJhbWVCeUlkIiwic3RhcnRzQXQiLCJ2aWRlb0lkIiwic3RhcnRNdXRlZCIsImdldFlvdXR1YmVJZnJhbWVFbGVtZW50Iiwic2V0dXBQYXJlbnRGcm9tWW91dHViZUlmcmFtZSIsImlmcmFtZUNvbnRhaW5lciIsInNldENsYXNzZXNJZnJhbWVQYXVzZWQiLCJzZXRWaWRlb0luZm8iLCJzZXRFeHRlcm5hbEhUTUxFbGVtZW50c0F0dHJpYnV0ZXMiLCJleHRyYWN0WW91VHViZUlkIiwiaW5mbyIsImdldFZpZGVvSW5mbyIsInRpdGxlIiwiYXV0aG9yX25hbWUiLCJ0aHVtYm5haWxfdXJsIiwiYXV0aG9yX3VybCIsImNoYW5nZVZpZGVvIiwiaXNWYWxpZFlvdXR1YmVVcmxPcklkIiwibG9hZFZpZGVvQnlJZCIsInByZXBhcmVPcHRpb25zIiwic2Vla1RvIiwiaXNQbGF5aW5nIiwic2V0VGltZW91dCIsImxvYWRWaWRlbyIsInJlc3BvbnNlIiwiaGFuZGxlUHJvbWlzZSIsImZldGNoIiwidmlkZW9VUkwiLCJlcnJvciIsImRhdGEiLCJqc29uIiwiY29uc29sZSIsIm9uUGxheWVyUmVhZHkiLCJldmVudCIsIl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeSIsInB1c2giLCJzZXRQbGF5YmFja1F1YWxpdHkiLCJwYXVzZVZpZGVvIiwiY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJfeW91dHViZUFQSVJlZmVyZW5jZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInNldENsYXNzZXNJZnJhbWVQbGF5aW5nIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSIsImlmcmFtZUVsZW1lbnQiLCJpc1BsYXllclJlYWR5IiwiZHVyYXRpb24iLCJnZXREdXJhdGlvbiIsInBsYXllckR1cmF0aW9uIiwiZ2V0Q3VycmVudFRpbWUiLCJwbGF5ZXJDdXJyZW50VGltZSIsInByb2dyZXNzUGVyY2VudCIsInBsYXllclByb2dyZXNzUGVyY2VudCIsImNsYW1wIiwidmFsIiwicGxheVZpZGVvIiwicmVsb2FkQnVmZmVyIiwiY29uc2lkZXJTdGFydHNBdCIsImtleXMiLCJzb21lIiwiciIsImluY2x1ZGVzIiwiYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkiLCJmb3JFYWNoIiwibyIsInNldHVwIiwia2V5IiwiY29udGFpbmVyRGl2IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaWZyYW1lUGFyZW50RWxlbWVudCIsInNldEV4dGVybmFsSFRNTEVsZW1lbnRzIiwiY3JlYXRlSW52aXNpYmxlRGl2VG9wIiwiY3JlYXRlSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiIsInNldElmcmFtZUNvbnRhaW5lckF0dHJpYnV0ZXMiLCJzZXRUb3BEaXZBdHRyaWJ1dGVzIiwic2V0RGl2QmxvY2tJbnRlcmFjdGlvbkF0dHJpYnV0ZXMiLCJnZXRJbnZpc2libGVUb3BEaXYiLCJldnQiLCJpbml0UGxheWVyIiwiUGxheWVyIiwicGxheWVyVmFycyIsImV2ZW50cyIsImJpbmQiLCJidWlsZElmcmFtZXMiLCJ0YWciLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIndhaXRVbnRpbEVsZW1lbnRFeGlzdHMiLCJwb2xsRm9yVmFyaWFibGUiLCJwcm90b3R5cGUiLCJsb2FkZWQiLCJzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMiLCJ5dElmcmFtZSIsIlN0cmluZyIsImlzTnVsbE9yRW1wdHkiLCJ0cnVuY2F0ZSIsIm1heCIsImRlY29yYXRvciIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvU3RyaW5nIiwicmVtb3ZlQWNjZW50cyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInplcm9CZWZvcmUiLCJwYWRTdGFydCIsImV2ZW50c0J5TmFtZSIsImV2ZW50TmFtZSIsInRvTG93ZXJDYXNlIiwiZ2V0RXZlbnRzQnlOYW1lIiwiZXZlbnRBcmdzIiwiZSIsImFyclNvdXJjZXMiLCJnZXRFbGVtZW50RnJvbUhUTUwiLCJhdXRvUGxheSIsImF1dG9wbGF5IiwibXV0ZWQiLCJsb29wIiwicHJlbG9hZCIsInRyaW1FbmQiLCJhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyIsIm1hcCIsInJlZHVjZSIsImFjYyIsIm5leHQiLCJhdWRpb0VsZW1lbnRIVE1MIiwiaGlkZUVsZW1lbnQiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlIiwiZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQiLCJkaWN0S2V5c0J5QWN0aW9uS2V5dXAiLCJhc3luYyIsInByb21pc2UiLCJpbnB1dCIsInRlc3QiLCJtYXRjaCIsImVsZW1lbnQiLCJhdHRyTGlzdCIsInNldEF0dHJpYnV0ZSIsImh0bWwiLCJyZXN1bHQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidmFyaWFibGVOYW1lIiwicmVhZHlDb25kaXRpb24iLCJjYWxsYmFjayIsInBvbGwiLCJ3aW5kb3ciLCJzZWxlY3RvciIsIlByb21pc2UiLCJyZXNvbHZlIiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZGlzY29ubmVjdCIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiaW52aXNpYmxlRGl2Iiwib3BhY2l0eSIsInBvaW50ZXJFdmVudHMiLCJyZXBlYXQiLCJwYWlyIiwiY29kZSIsImtiRXZlbnQiLCJydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zIiwicnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQiLCJmaWxlUGF0aCIsImV4ZWMiLCJkZWZhdWx0RmlsZVNyYyIsInNwbGl0IiwicG9wIiwiZmlsZVR5cGVTdHIiLCJudW0iLCJtaW4iLCJNYXRoIiwic3RyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIlNvdW5kVGFibGUiLCJpZnJhbWVzQ2xhc3NMaXN0IiwiY29udGFpbmVyc0NsYXNzTGlzdCIsIl9hcnJFdmVyeUNvbXBvbmVudCIsIl9hcnJDb21wb25lbnRzUmVhZHkiLCJfc2V0TWVkaWFDb250cm9sbGVycyIsIlNldCIsIl9tYXBNZWRpYUNvbnRyb2xsZXJzQnlJZCIsIl9tYXBJbnB1dEJ5U291cmNlSWQiLCJhcnJNZWRpYVNyYyIsImFyclZpZGVvSWQiLCJtZWRpYVNyYyIsImFkZEF1ZGlvQ29tcG9uZW50IiwiYWRkSWZyYW1lIiwiaW5pdCIsImNvbXBvbmVudHNDb250cm9sbGVycyIsImdldElucHV0QnlTb3VyY2UiLCJldmVyeUNvbXBvbmVudFJlYWR5IiwiZ2V0RWxlbWVudE1lZGlhQ29udGFpbmVyIiwiY29udGFpbmVySWQiLCJlbGVtZW50TWVkaWFDb250YWluZXIiLCJhdWRpb0NvbnRhaW5lciIsImlucHV0RWxlbWVudENvbnRhaW5lciIsImVsZW1lbnRJZnJhbWVDb250YWluZXIiLCJuZXdJZnJhbWUiXSwic291cmNlUm9vdCI6IiJ9