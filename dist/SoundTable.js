var SoundTable;(()=>{"use strict";var e={173:(e,t,i)=>{i.d(t,{AudioComponent:()=>a});var n=i(7930),s=i(1319),r=i(6555);class a extends n.ObjectEventListener{src;audioElement;_container;_blockInteraction=!1;_divBlockInteraction;constructor(e){super(),this.src=e.src,this._container=e.container,this.audioElement=e.audioElement,this._blockInteraction=!!e.blockInteraction,e.audioElementId&&(this.audioElement.id=e.audioElementId),this.audioElement.classList.add("audio-component"),this._container.id||(this._container.id=e.audioElementId+"AudioComponentContainer"),this._container.classList.add("audio-component-container"),this._divBlockInteraction=this.getInvisibleDivBlockInteraction(this),this.setupInvisibleDivBlockInteraction()}get divBlockInteraction(){return this._divBlockInteraction}get container(){return this._container}get paused(){return this.audioElement.paused}get fileName(){return this.audioElement.src||this.audioElement.querySelector("source")?.src||""}get currentTime(){return this.audioElement.currentTime}set currentTime(e){this.audioElement.currentTime=e}playWithoutTriggerEvents(){var e=this.audioElement.play();return void 0!==e&&e.then((e=>{})).catch((()=>{this.stop()})),this.setClassesPlaying(),this}pauseWithoutTriggerEvents(){return this.audioElement.pause(),this.setClassesPaused(),this}setClassesPlaying(){this._container.classList.add("audio-component-playing"),this._divBlockInteraction.classList.add("audio-component-playing"),this._container.classList.remove("audio-component-paused"),this._divBlockInteraction.classList.remove("audio-component-paused")}setClassesPaused(){this._container.classList.add("audio-component-paused"),this._divBlockInteraction.classList.add("audio-component-paused"),this._container.classList.remove("audio-component-playing"),this._divBlockInteraction.classList.remove("audio-component-playing")}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}stop(){return this.pause(),this.audioElement.currentTime=0,this.callEventsByName("onstop",this),this}toggle(){return this.paused?this.playWithoutTriggerEvents():this.pause(),this.callEventsByName("ontoggle",this),this}mute(){return this.audioElement.volume=0,this.callEventsByName("onmute",this),this}unmute(){return this.audioElement.volume=1,this.callEventsByName("onunmute",this),this}seek(e,t){return this.currentTime=e,this.callEventsByName("onseek",this),this}get dimensions(){return(0,s.getElementDimensions)(this._container)}getInvisibleDivBlockInteraction(e){const t=(0,s.createInvisibleDivAboveParent)({parentElement:e._container,id:`invisibleDivBlockInteraction${e._container.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("audio-component-div-block-interaction"),t}setupInvisibleDivBlockInteraction(){this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(()=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}static async createAudioComponentOnBody(e){const t=await new r.AudioComponentFactory(e.src).buildOnBody();return new a({src:e.src,container:t,audioElement:t.querySelector("audio"),audioElementId:e.audioElementId,blockInteraction:e.blockInteraction})}static async createAudioComponent(e){if(e.container===document.body||!e.container)return this.createAudioComponentOnBody(e);const t=await new r.AudioComponentFactory(e.src).build(e.container);return new a({src:e.src,container:t,audioElement:t.querySelector("audio"),audioElementId:e.audioElementId,blockInteraction:e.blockInteraction})}}},6555:(e,t,i)=>{i.d(t,{AudioComponentFactory:()=>r});var n=i(7353),s=i(6401);class r extends s.ComponentContainer{constructor(e,t){super("audioComponent",(0,n.createInvisiblePlayer)([e],t))}async buildSubComponents(e){}}},6401:(e,t,i)=>{i.d(t,{ComponentContainer:()=>n});class n{_element=null;templateElement;componentName;subComponentCountByName=new Map;subComponents=[];constructor(e,t){if("string"==typeof t){const e=document.getElementById(t);if(!e)throw new Error("Invalid template for scene component. Template id: "+t);this.templateElement=e}else this.templateElement=document.createElement("template"),this.templateElement.content.appendChild(t),document.body.appendChild(this.templateElement);this.componentName=e}getTemplateCloneNodes(){return this.templateElement.content.cloneNode(!0).children}async buildSingleSubComponent(e,t){this.subComponentCountByName.has(this.componentName)&&this.subComponentCountByName.set(this.componentName,0);let i=this.subComponentCountByName.get(this.componentName);return this.subComponentCountByName.set(this.componentName,i+1),await e.build(t,`${this.componentName}${e.componentName.capitalizeFirstLetter()}${i}`)}async buildOnBody(e){this._element=document.createElement("div"),e&&(this._element.id=e);for(let e of this.getTemplateCloneNodes())this._element.insertAdjacentElement("afterbegin",e);if(!this._element)throw new Error(`Fail building SceneComponent. ElementId: ${e}`);return await this.buildSubComponents(document.body),document.body.insertAdjacentElement("beforeend",this._element),this._element}async build(e,t){for(let t of this.getTemplateCloneNodes())e.insertAdjacentElement("afterbegin",t);return await this.buildSubComponents(e),e}}},9126:(e,t,i)=>{function n(e){return`\n  <div id="${e}SoundTableItem" class="sound-table-item-container">\n  </div>\n  `.trim()}i.d(t,{templateSoundTableItemContainer:()=>n})},2152:(e,t,i)=>{function n(e){return`\n  <div id="${e}">\n  </div>\n  `.trim()}i.d(t,{templateBackgroundYoutubeIframeElement:()=>n})},5102:(e,t,i)=>{i.d(t,{YoutubeIframe:()=>o});var n=i(1319),s=(i(4763),i(739)),r=i(2152),a=(i(4785),i(3362),i(7930));class o extends a.ObjectEventListener{static arrObjectToSetOnEveryIframeReady=[];static _dictYoutubeIframeById=new Map;static _arrYoutubeIframeIdReady=[];player;_isPlayerReady=!1;id;videoId;videoName="";videoThumb="";channelURL="";channelName="";_iframeElement=null;_iframeContainer;_iframeParentElement;_isPlaying=!1;_dimensions;invisibleDiv;_startsAt;_blockInteraction=!1;_divBlockInteraction=null;_startMuted;_playingObserverInterval=null;_eventListener=new a.ObjectEventListener;constructor(e){if(o._dictYoutubeIframeById.has(e.iframeId))throw new Error("Invalid iframe there's already an iframe with this id.");super(),this.id=e.iframeId,this._startsAt=e.startsAt??0,this.videoId=e.videoId,this._startMuted=!!e.startMuted,this._blockInteraction=!!e.blockInteraction,this._iframeContainer=o.getYoutubeIframeElement({iframeId:e.iframeId,classList:e.classList}),this._iframeParentElement=o.setupParentFromYoutubeIframe({parentElement:e.parentElement??document.body,iframeContainer:this._iframeContainer}),this.setClassesIframePaused(),this._dimensions=e.dimensions??(0,n.getElementDimensions)(this._iframeParentElement),o._dictYoutubeIframeById.set(e.iframeId,this),this.getVideoInfo().then((e=>{this.videoName=e&&e.title?e.title:"",this.channelName=e&&e.author_name?e.author_name:"",this.videoThumb=e&&e.thumbnail_url?e.thumbnail_url:"",this.channelURL=e&&e.author_url?e.author_url:""}))}async getVideoInfo(){const e=await(0,n.handlePromise)(fetch(`https://www.youtube.com/oembed?url=${this.videoURL}&format=json`));if(!e.error)return await e.data().json();console.error(e.error)}onPlayerReady(e){this._startMuted&&this.player.mute(),o._arrYoutubeIframeIdReady.push(this.id),this._iframeElement=document.getElementById(this.id),this.setClassesIframePaused(),this.player.setPlaybackQuality("highres"),this.player.seekTo(this._startsAt??0,!0),this.player.pauseVideo(),this._isPlayerReady=!0,this.callEventsByName("oniframeready",this),o.checkIfEveryIframeIsReady()}onPlayerStateChange(e){this._isPlaying=e.data===o._youtubeAPIReference.PlayerState.PLAYING,this._isPlaying?(this.setClassesIframePlaying(),this._playingObserverInterval=setInterval((()=>this.callEventsByName("onplaying",this)),5)):this._playingObserverInterval&&(this.setClassesIframePaused(),clearInterval(this._playingObserverInterval),this._playingObserverInterval=null),this.callEventsByName("onplayerstatechange",this._isPlaying,this)}setClassesIframePlaying(){this._iframeElement&&(this._iframeElement.classList.remove("yt-paused"),this._iframeElement.classList.add("yt-playing")),this._iframeContainer.classList.remove("yt-paused"),this._iframeContainer.classList.add("yt-playing"),this._iframeParentElement.classList.remove("yt-paused"),this._iframeParentElement.classList.add("yt-playing")}setClassesIframePaused(){this._iframeElement&&(this._iframeElement.classList.add("yt-paused"),this._iframeElement.classList.remove("yt-playing")),this._iframeContainer.classList.add("yt-paused"),this._iframeContainer.classList.remove("yt-playing"),this._iframeParentElement.classList.add("yt-paused"),this._iframeParentElement.classList.remove("yt-playing")}onEveryYoutubeIframeReady(){this.callEventsByName("oneveryyoutubeiframeready")}get divBlockInteraction(){return this._divBlockInteraction}get videoURL(){return`https://www.youtube.com/watch?v=${this.videoId}`}get parentElement(){return this._iframeParentElement}get iframeElement(){if(!this._iframeElement)throw new Error("Iframe was called but it's not ready.");return this._iframeElement}get isPlayerReady(){return this._isPlayerReady}get duration(){return this.player.getDuration()-this._startsAt}get playerDuration(){return this.player.getDuration()}set currentTime(e){this.seek(e)}get currentTime(){return this.player.getCurrentTime()-this._startsAt}get playerCurrentTime(){return this.player.getCurrentTime()}get progressPercent(){return this.currentTime/this.duration}get playerProgressPercent(){return this.playerCurrentTime/this.playerDuration}get startMuted(){return this._startMuted}get isPlaying(){return this._isPlaying}get dimensions(){return this._dimensions}get startsAt(){return(0,s.clamp)(this._startsAt,0,this._startsAt)}set startsAt(e){this._startsAt=(0,s.clamp)(e,0,e)}toggle(){return this.isPlaying?this.pause():this.play(),this}play(){return this.playWithoutTriggerEvents(),this.callEventsByName("onplay",this),this}playWithoutTriggerEvents(){return this.player.playVideo(),this._isPlaying=!0,this.setClassesIframePlaying(),this}pause(){return this.pauseWithoutTriggerEvents(),this.callEventsByName("onpause",this),this}pauseWithoutTriggerEvents(){return this.player.pauseVideo(),this._isPlaying=!1,this.setClassesIframePaused(),this}seek(e,t=!1,i=!1){return this.callEventsByName("onseek",e,t,i,this),e+=i?this._startsAt:0,this.player.seekTo(e,t),this}mute(){return this.player.mute(),this}unmute(){return this.player.unmute(),this}static checkIfEveryIframeIsReady(){[...o._dictYoutubeIframeById.keys()].some((e=>!this._arrYoutubeIframeIdReady.includes(e)))||(this.arrObjectToSetOnEveryIframeReady.forEach((e=>e.setup(o._dictYoutubeIframeById))),o._dictYoutubeIframeById.forEach(((e,t)=>{e.onEveryYoutubeIframeReady()})))}static getYoutubeIframeElement({iframeId:e,classList:t}){const i=document.createElement("div");return i.classList.add("yt-iframe-container"),t&&i.classList.add(...t),i.id=`containerYoutubeIframe${e}`,i.insertAdjacentHTML("afterbegin",(0,r.templateBackgroundYoutubeIframeElement)(e)),i}static setupParentFromYoutubeIframe({parentElement:e,iframeContainer:t}){const i=e??document.body;return i.classList.add("yt-iframe-parent"),i.insertAdjacentElement("afterbegin",t),i}setInvisibleTopDiv(e){this.invisibleDiv=e,this.invisibleDiv.style.zIndex="990"}setInvisibleDivBlockInteraction(e){this._divBlockInteraction=e,this._divBlockInteraction.setAttribute("yt-iframe-id",this.id),this._divBlockInteraction.setAttribute("yt-iframe-video-name",this.videoName),this._divBlockInteraction.setAttribute("yt-iframe-video-channel-name",this.channelName),this._divBlockInteraction.setAttribute("yt-iframe-video-thumb-url",this.videoThumb),this._divBlockInteraction.setAttribute("yt-iframe-video-channel-url",this.channelURL),this._divBlockInteraction.style.display=this._blockInteraction?"block":"none",this._divBlockInteraction.style.zIndex="995",this._divBlockInteraction.addEventListener("click",(e=>{this.callEventsByName("onclickinteractionblocked",this,this._divBlockInteraction),this.callEventsByName("oninteractionblocked",this,this._divBlockInteraction)}))}set blockInteraction(e){this._blockInteraction=e,this._divBlockInteraction&&(this._divBlockInteraction.style.display=this._blockInteraction?"block":"none")}initPlayer(){this.player=new o._youtubeAPIReference.Player(this.id,{videoId:this.videoId,width:this.dimensions.width,height:this.dimensions.height,playerVars:{rel:0,iv_load_policy:3,showinfo:0,controls:0,autoplay:0},events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})}static _youtubeAPIReference;static buildIframes(){var e=document.createElement("script");e.id="ytIframeAPI",e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t&&t.parentNode&&t.parentNode.insertBefore(e,t),(0,n.waitUntilElementExists)("#ytIframeAPI").then((()=>{(0,n.pollForVariable)("YT",(e=>"function"==typeof e.Player&&e.Player.prototype&&e.Player.prototype.constructor===e.Player&&e.loaded),(e=>{o._youtubeAPIReference=e,o.setYoutubeIframeElements()}))}))}static setYoutubeIframeElements(){this._dictYoutubeIframeById.forEach(((e,t)=>{e.setInvisibleTopDiv(this.getInvisibleTopDiv(e)),e.setInvisibleDivBlockInteraction(this.getInvisibleDivBlockInteraction(e)),e.initPlayer()}))}static getInvisibleTopDiv(e){return(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleTopDivHoldToDrag${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:.2*e.dimensions.height}})}static getInvisibleDivBlockInteraction(e){const t=(0,n.createInvisibleDivAboveParent)({parentElement:document.getElementById(e.id).parentElement,id:`invisibleDivBlockInteraction${e.id}`,position:{top:0,left:0},dimensions:{width:e.dimensions.width,height:e.dimensions.height}});return t.classList.add("yt-div-block-interaction"),t}}},4785:(e,t,i)=>{i.d(t,{YoutubeIframe:()=>n.YoutubeIframe});var n=i(5102)},3362:(e,t,i)=>{i(5102)},2976:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(e,t="..."){return(this.length>e?this.substring(0,e)+t:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}},4763:(e,t,i)=>{i(1319),i(8586)},8586:(e,t,i)=>{i(1319)},7930:(e,t,i)=>{i.d(t,{ObjectEventListener:()=>n});class n{eventsByName=new Map;addEventListener(e,t){this.eventsByName.has(e.toLowerCase())?this.eventsByName.get(e.toLowerCase()).push(t):this.eventsByName.set(e.toLowerCase(),[t])}getEventsByName(e){return this.eventsByName.has(e.toLowerCase())||this.eventsByName.set(e.toLowerCase(),[]),this.eventsByName.get(e.toLowerCase())}callEventsByName(e,...t){this.getEventsByName(e).forEach((e=>e(...t)))}}},7353:(e,t,i)=>{i.d(t,{createInvisiblePlayer:()=>r}),i(2976);var n=i(1319),s=i(3164);function r(e,t){const i=(0,n.getElementFromHTML)(function(e,t){return`<audio controls ${t?function(e){return` ${e.id?'id="'+e.id+'"':""} ${e.autoPlay||e.autoplay?"autoplay":""} ${e.muted?"muted":""} ${e.loop?"loop":""} ${e.preload?'preload="'+e.preload+'"':""}`.trimEnd()}(t):""}>\n    ${e.map((e=>function(e){return`<source src="${e}" type="audio/${(0,s.getFileExtension)(e)}">`}(e))).reduce(((e,t)=>e+t),"")}\n  </audio>`}(e,t));return document.body.insertAdjacentElement("afterbegin",i),(0,n.hideElement)(i),i}i(173)},1319:(e,t,i)=>{i.d(t,{createInvisibleDivAboveParent:()=>m,getElementDimensions:()=>l,getElementFromHTML:()=>o,handlePromise:()=>a,hideElement:()=>u,pollForVariable:()=>c,waitUntilElementExists:()=>d});const n=new Map,s=new Map,r=new Map;async function a(e){try{const t=await e;return{data:()=>t,error:null}}catch(e){return console.error(e),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:e instanceof Error?e:new Error(String(e))}}}function o(e,t=!0){if(!(e=t?e.trim():e))return null;const i=document.createElement("template");i.innerHTML=e;const n=i.content.children;return 1===n.length?n[0]:Array.from(n)}function l(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}function c(e,t,i){const n=setInterval((()=>{void 0!==window[e]&&t(window[e])&&(clearInterval(n),i(window[e]))}),100)}function d(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const i=new MutationObserver((n=>{document.querySelector(e)&&(i.disconnect(),t(document.querySelector(e)))}));i.observe(document.body,{childList:!0,subtree:!0})}))}function m({parentElement:e,id:t,position:i,dimensions:n}){var s=document.createElement("div");return e.style.position||(e.style.position="relative"),s.id=t,s.style.position="absolute",s.style.width=n&&n.width?n.width.toString()+"px":"100%",s.style.height=n&&n.height?n.height.toString()+"px":"100%",s.style.top=(i?.top.toString()??"0")+"px",s.style.left=(i?.left.toString()??"0")+"px",s.style.opacity="0",s.style.pointerEvents="auto",e.appendChild(s),s}function u(e){e.style.display="block",e.style.position="absolute",e.style.zIndex="-1",e.style.opacity="0",e.style.width="0px !important",e.style.height="0px !important",e.setAttribute("hidden","")}new Map,window.addEventListener("keydown",(e=>{e.repeat||function(e){for(const t of n)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e),function(e){for(const t of s)e.code===t[0]&&t[1].forEach((t=>t(e)))}(e)})),window.addEventListener("keyup",(e=>{for(const t of r)e.code===t[0]&&t[1].forEach((t=>t(e)))}))},3164:(e,t,i)=>{i.d(t,{getFileExtension:()=>s});var n=i(2843);function s(e){if((0,n.isNullOrEmpty)(e))return"";const t=e.split(".").pop();if(t&&t!==e)return t;const i=e.split("/").pop();return i&&i!==e?i:""}},739:(e,t,i)=>{function n(e=0,t=0,i=100){return Math.max(t,Math.min(e,i))}i.d(t,{clamp:()=>n})},2843:(e,t,i)=>{function n(e){return"string"!=typeof e||!e||""===e}i.d(t,{isNullOrEmpty:()=>n})}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{i.r(n),i.d(n,{SoundTable:()=>o});var e=i(7930),t=i(1319),s=i(173),r=i(4785),a=i(9126);class o extends e.ObjectEventListener{container;iframesClassList;containersClassList;_arrEveryComponent;_arrComponentsReady=[];_setYTIframeControllers=new Set;_mapYTIframeControllersById=new Map;constructor(e){super(),this.container=e.container,this.iframesClassList=e.iframesClassList??[],this.containersClassList=e.containersClassList??[],this._arrEveryComponent=[...e.arrMediaSrc,...e.arrVideoId],e.arrMediaSrc.forEach((t=>{this.addAudioComponent(e.container.id,t)})),e.arrVideoId.forEach((t=>{this.addIframe(`${e.container.id}IframeTableItem${t}`,t)}))}init(){this.componentsControllers.forEach((e=>{e.addEventListener("oninteractionblocked",(()=>{e.seek(0,!0),e.playWithoutTriggerEvents()}))})),r.YoutubeIframe.buildIframes()}get everyComponentReady(){return this._arrEveryComponent.length===this._arrComponentsReady.length}get componentsControllers(){return Array.from(this._setYTIframeControllers)}getElementMediaContainer(e){const i=(0,t.getElementFromHTML)((0,a.templateSoundTableItemContainer)(e));return i.classList.add(...this.containersClassList),i}addAudioComponent(e,t){const i=this.getElementMediaContainer(e);this.container.insertAdjacentElement("beforeend",i),s.AudioComponent.createAudioComponent({src:t,audioElementId:`${e}IframeTableItem${t}`,blockInteraction:!0,container:i}).then((t=>{this._setYTIframeControllers.add(t),this._mapYTIframeControllersById.set(e,t),this._arrComponentsReady.push(e),this.everyComponentReady&&this.init()}))}addIframe(e,t){if(this._mapYTIframeControllersById.has(e))throw new Error("A Iframe with this id already exists: "+e);const i=this.getElementMediaContainer(e);this.container.insertAdjacentElement("beforeend",i);const n=new r.YoutubeIframe({iframeId:e,videoId:t,parentElement:i,startsAt:0,classList:["sound-table-item",...this.iframesClassList],blockInteraction:!0});this._setYTIframeControllers.add(n),this._mapYTIframeControllersById.set(e,n),this._arrComponentsReady.push(e),this.everyComponentReady&&this.init()}}})(),SoundTable=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9BdWRpb0NvbXBvbmVudEZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQ29tcG9uZW50Q29udGFpbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NvdW5kVGFibGUvVGVtcGxhdGVzU291bmRUYWJsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Zb3V0dWJlSWZyYW1lL1RlbXBsYXRlc1lvdXR1YmVJZnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvWW91dHViZUlmcmFtZS9Zb3V0dWJlSWZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9FeHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9BdWRpb1Rvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9ET01Ub29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvRmlsZVRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9Ub29scy9NYXRoVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL1N0cmluZ1Rvb2xzLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Tb3VuZFRhYmxlL1NvdW5kVGFibGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGdldEVsZW1lbnREaW1lbnNpb25zIH0gZnJvbSAnLi4vVG9vbHMvRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi4vVG9vbHMvTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQXVkaW9Db21wb25lbnRGYWN0b3J5IH0gZnJvbSAnLi9BdWRpb0NvbXBvbmVudEZhY3RvcnknO1xyXG5pbXBvcnQgeyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMgfSBmcm9tICcuL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIEF1ZGlvQ29tcG9uZW50T3B0aW9ucyA9IHtcclxuICBzcmM6IHN0cmluZztcclxuICBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQ7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBhdWRpb0VsZW1lbnRJZD86IHN0cmluZztcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENyZWF0ZUF1ZGlvQ29tcG9uZW50T3B0aW9ucyA9IHtcclxuICBzcmM6IHN0cmluZztcclxuICBhdWRpb0VsZW1lbnRJZD86IHN0cmluZztcclxuICBibG9ja0ludGVyYWN0aW9uPzogYm9vbGVhbjtcclxuICBjb250YWluZXI/OiBIVE1MRWxlbWVudDtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0NvbXBvbmVudCBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIgaW1wbGVtZW50cyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMge1xyXG4gIHB1YmxpYyBzcmM6IHN0cmluZztcclxuICBwdWJsaWMgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50O1xyXG4gIHByaXZhdGUgX2NvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByb3RlY3RlZCBfYmxvY2tJbnRlcmFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByb3RlY3RlZCBfZGl2QmxvY2tJbnRlcmFjdGlvbjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBBdWRpb0NvbXBvbmVudE9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuc3JjID0gb3B0aW9ucy5zcmM7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lcjtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50ID0gb3B0aW9ucy5hdWRpb0VsZW1lbnQ7XHJcbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgIGlmICggb3B0aW9ucy5hdWRpb0VsZW1lbnRJZCApIHtcclxuICAgICAgdGhpcy5hdWRpb0VsZW1lbnQuaWQgPSBvcHRpb25zLmF1ZGlvRWxlbWVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdhdWRpby1jb21wb25lbnQnICk7XHJcblxyXG4gICAgaWYgKCAhdGhpcy5fY29udGFpbmVyLmlkICkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIuaWQgPSBvcHRpb25zLmF1ZGlvRWxlbWVudElkICsgJ0F1ZGlvQ29tcG9uZW50Q29udGFpbmVyJztcclxuICAgIH1cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LWNvbnRhaW5lcicgKTtcclxuXHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uID0gdGhpcy5nZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB0aGlzICk7XHJcbiAgICB0aGlzLnNldHVwSW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBnZXQgZGl2QmxvY2tJbnRlcmFjdGlvbigpOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY29udGFpbmVyKCk6IEhUTUxFbGVtZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9jb250YWluZXI7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhdXNlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmF1ZGlvRWxlbWVudC5wYXVzZWQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGZpbGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5hdWRpb0VsZW1lbnQuc3JjIHx8IHRoaXMuYXVkaW9FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoICdzb3VyY2UnICk/LnNyYyB8fCAnJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmF1ZGlvRWxlbWVudC5jdXJyZW50VGltZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgY3VycmVudFRpbWUoIHQ6IG51bWJlciApIHtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gdDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB2YXIgcGxheVByb21pc2UgPSB0aGlzLmF1ZGlvRWxlbWVudC5wbGF5KCk7XHJcblxyXG4gICAgaWYgKCBwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkICkge1xyXG4gICAgICBwbGF5UHJvbWlzZS50aGVuKCBfID0+IHsgfSApXHJcbiAgICAgICAgLmNhdGNoKCAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICB9ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzUGxheWluZygpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCk7XHJcbiAgICB0aGlzLnNldENsYXNzZXNQYXVzZWQoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0Q2xhc3Nlc1BsYXlpbmcoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbXBvbmVudC1wbGF5aW5nJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LXBsYXlpbmcnICk7XHJcblxyXG4gICAgdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICdhdWRpby1jb21wb25lbnQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCAnYXVkaW8tY29tcG9uZW50LXBhdXNlZCcgKTtcclxuICB9XHJcblxyXG4gIHNldENsYXNzZXNQYXVzZWQoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbXBvbmVudC1wYXVzZWQnICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmNsYXNzTGlzdC5hZGQoICdhdWRpby1jb21wb25lbnQtcGF1c2VkJyApO1xyXG5cclxuICAgIHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAnYXVkaW8tY29tcG9uZW50LXBsYXlpbmcnICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoICdhdWRpby1jb21wb25lbnQtcGxheWluZycgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgdGhpcy5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgdGhpcy5wYXVzZVdpdGhvdXRUcmlnZ2VyRXZlbnRzKCk7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBhdXNlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RvcCgpIHtcclxuICAgIHRoaXMucGF1c2UoKTtcclxuICAgIHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gMDtcclxuXHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnN0b3AnLCB0aGlzICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGUoKSB7XHJcbiAgICBpZiAoIHRoaXMucGF1c2VkICkge1xyXG4gICAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29udG9nZ2xlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBtdXRlKCkge1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQudm9sdW1lID0gMDtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ubXV0ZScsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdW5tdXRlKCkge1xyXG4gICAgdGhpcy5hdWRpb0VsZW1lbnQudm9sdW1lID0gMTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29udW5tdXRlJywgdGhpcyApO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzZWVrKCBzZWVrVGltZTogbnVtYmVyLCBfcmVsb2FkQnVmZmVyPzogYm9vbGVhbiApIHtcclxuICAgIHRoaXMuY3VycmVudFRpbWUgPSBzZWVrVGltZTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uc2VlaycsIHRoaXMgKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbnMge1xyXG4gICAgcmV0dXJuIGdldEVsZW1lbnREaW1lbnNpb25zKCB0aGlzLl9jb250YWluZXIgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SW52aXNpYmxlRGl2QmxvY2tJbnRlcmFjdGlvbiggYXVkaW9Db21wb25lbnQ6IEF1ZGlvQ29tcG9uZW50ICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGVsZW1lbnRJbnZpc2libGVEaXYgPSBjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCgge1xyXG4gICAgICBwYXJlbnRFbGVtZW50OiBhdWRpb0NvbXBvbmVudC5fY29udGFpbmVyLFxyXG4gICAgICBpZDogYGludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24keyBhdWRpb0NvbXBvbmVudC5fY29udGFpbmVyLmlkIH1gLFxyXG4gICAgICBwb3NpdGlvbjogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcclxuICAgICAgZGltZW5zaW9uczogeyB3aWR0aDogYXVkaW9Db21wb25lbnQuZGltZW5zaW9ucy53aWR0aCwgaGVpZ2h0OiBhdWRpb0NvbXBvbmVudC5kaW1lbnNpb25zLmhlaWdodCB9XHJcbiAgICB9ICk7XHJcblxyXG4gICAgZWxlbWVudEludmlzaWJsZURpdi5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29tcG9uZW50LWRpdi1ibG9jay1pbnRlcmFjdGlvbicgKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudEludmlzaWJsZURpdjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXR1cEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLmRpc3BsYXkgPSB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uc3R5bGUuekluZGV4ID0gJzk5NSc7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uY2xpY2tpbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgLy8gYXdhaXRzIGF1ZGlvIGxvYWRzIGZyb20gc291cmNlIHRoZW4gY3JlYXRlcyB0aGUgY29tcG9uZW50XHJcbiAgcHVibGljIHN0YXRpYyBhc3luYyBjcmVhdGVBdWRpb0NvbXBvbmVudE9uQm9keSggb3B0aW9uczogQ3JlYXRlQXVkaW9Db21wb25lbnRPcHRpb25zICk6IFByb21pc2U8QXVkaW9Db21wb25lbnQ+IHtcclxuICAgIGNvbnN0IGF1ZGlvQ29tcG9uZW50Q29udGFpbmVyID0gYXdhaXQgbmV3IEF1ZGlvQ29tcG9uZW50RmFjdG9yeSggb3B0aW9ucy5zcmMgKS5idWlsZE9uQm9keSgpO1xyXG5cclxuICAgIHJldHVybiBuZXcgQXVkaW9Db21wb25lbnQoIHtcclxuICAgICAgc3JjOiBvcHRpb25zLnNyYyxcclxuICAgICAgY29udGFpbmVyOiBhdWRpb0NvbXBvbmVudENvbnRhaW5lcixcclxuICAgICAgYXVkaW9FbGVtZW50OiBhdWRpb0NvbXBvbmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnYXVkaW8nICkhLFxyXG4gICAgICBhdWRpb0VsZW1lbnRJZDogb3B0aW9ucy5hdWRpb0VsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICAvLyBhd2FpdHMgYXVkaW8gbG9hZHMgZnJvbSBzb3VyY2UgdGhlbiBjcmVhdGVzIHRoZSBjb21wb25lbnRcclxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGNyZWF0ZUF1ZGlvQ29tcG9uZW50KCBvcHRpb25zOiBDcmVhdGVBdWRpb0NvbXBvbmVudE9wdGlvbnMgKTogUHJvbWlzZTxBdWRpb0NvbXBvbmVudD4ge1xyXG4gICAgaWYgKCBvcHRpb25zLmNvbnRhaW5lciA9PT0gZG9jdW1lbnQuYm9keSB8fCAhb3B0aW9ucy5jb250YWluZXIgKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUF1ZGlvQ29tcG9uZW50T25Cb2R5KCBvcHRpb25zICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYXVkaW9Db21wb25lbnRDb250YWluZXIgPSBhd2FpdCBuZXcgQXVkaW9Db21wb25lbnRGYWN0b3J5KCBvcHRpb25zLnNyYyApLmJ1aWxkKCBvcHRpb25zLmNvbnRhaW5lciApO1xyXG5cclxuICAgIHJldHVybiBuZXcgQXVkaW9Db21wb25lbnQoIHtcclxuICAgICAgc3JjOiBvcHRpb25zLnNyYyxcclxuICAgICAgY29udGFpbmVyOiBhdWRpb0NvbXBvbmVudENvbnRhaW5lcixcclxuICAgICAgYXVkaW9FbGVtZW50OiBhdWRpb0NvbXBvbmVudENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCAnYXVkaW8nICkhLFxyXG4gICAgICBhdWRpb0VsZW1lbnRJZDogb3B0aW9ucy5hdWRpb0VsZW1lbnRJZCxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogb3B0aW9ucy5ibG9ja0ludGVyYWN0aW9uXHJcbiAgICB9ICk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9QbGF5ZXJDb25maWcsIGNyZWF0ZUludmlzaWJsZVBsYXllciB9IGZyb20gJy4uL1Rvb2xzL0F1ZGlvVG9vbHMnO1xyXG5pbXBvcnQgeyBDb21wb25lbnRDb250YWluZXIgfSBmcm9tICcuL0NvbXBvbmVudENvbnRhaW5lcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9Db21wb25lbnRGYWN0b3J5IGV4dGVuZHMgQ29tcG9uZW50Q29udGFpbmVyIHtcclxuICBjb25zdHJ1Y3Rvciggc3JjOiBzdHJpbmcsIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gICAgc3VwZXIoIFwiYXVkaW9Db21wb25lbnRcIiwgY3JlYXRlSW52aXNpYmxlUGxheWVyKCBbc3JjXSwgcGxheWVyQ29uZmlnICkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBidWlsZFN1YkNvbXBvbmVudHMoIHBhcmVudDogSFRNTEVsZW1lbnQgKTogUHJvbWlzZTxIVE1MRWxlbWVudFtdIHwgdm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb21wb25lbnRDb250YWluZXIge1xyXG4gIHByb3RlY3RlZCBfZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwdWJsaWMgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gIHB1YmxpYyByZWFkb25seSBjb21wb25lbnROYW1lOiBzdHJpbmc7XHJcbiAgcHJvdGVjdGVkIHN1YkNvbXBvbmVudENvdW50QnlOYW1lOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gIHByb3RlY3RlZCBzdWJDb21wb25lbnRzOiBIVE1MRWxlbWVudFtdID0gW107XHJcblxyXG4gIC8vLyBUZW1wbGF0ZSBpcyBlaXRoZXIgYSBpZCBmb3IgYSBodG1sIHRlbXBsYXRlIGVsZW1lbnQgb3IgYW4gZWxlbWVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWQgYXMgYSB0ZW1wbGF0ZSBpbnNpZGUgZG9jdW1lbnQuYm9keVxyXG4gIGNvbnN0cnVjdG9yKCBjb21wb25lbnROYW1lOiBzdHJpbmcsIHRlbXBsYXRlOiBzdHJpbmcgfCBIVE1MRWxlbWVudCApIHtcclxuICAgIGlmICggdHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJyApIHtcclxuICAgICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHRlbXBsYXRlICkgYXMgSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuXHJcbiAgICAgIGlmICggIXRlbXBsYXRlRWxlbWVudCApIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCB0ZW1wbGF0ZSBmb3Igc2NlbmUgY29tcG9uZW50LiBUZW1wbGF0ZSBpZDogXCIgKyB0ZW1wbGF0ZSApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRlbXBsYXRlRWxlbWVudCA9IHRlbXBsYXRlRWxlbWVudDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ0ZW1wbGF0ZVwiICk7XHJcbiAgICAgIHRoaXMudGVtcGxhdGVFbGVtZW50LmNvbnRlbnQuYXBwZW5kQ2hpbGQoIHRlbXBsYXRlICk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMudGVtcGxhdGVFbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXRUZW1wbGF0ZUNsb25lTm9kZXMoKTogSFRNTENvbGxlY3Rpb24ge1xyXG4gICAgcmV0dXJuICggdGhpcy50ZW1wbGF0ZUVsZW1lbnQuY29udGVudC5jbG9uZU5vZGUoIHRydWUgKSBhcyBEb2N1bWVudEZyYWdtZW50ICkuY2hpbGRyZW47XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgYnVpbGRTdWJDb21wb25lbnRzKCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnRbXSB8IHZvaWQ+O1xyXG5cclxuICBwcm90ZWN0ZWQgYXN5bmMgYnVpbGRTaW5nbGVTdWJDb21wb25lbnQoIGNvbXBvbmVudDogQ29tcG9uZW50Q29udGFpbmVyLCBwYXJlbnQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGlmICggdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5oYXMoIHRoaXMuY29tcG9uZW50TmFtZSApICkge1xyXG4gICAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCAwICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNvbXBvbmVudENvdW50ID0gdGhpcy5zdWJDb21wb25lbnRDb3VudEJ5TmFtZS5nZXQoIHRoaXMuY29tcG9uZW50TmFtZSApITtcclxuXHJcbiAgICB0aGlzLnN1YkNvbXBvbmVudENvdW50QnlOYW1lLnNldCggdGhpcy5jb21wb25lbnROYW1lLCBjb21wb25lbnRDb3VudCArIDEgKTtcclxuXHJcbiAgICByZXR1cm4gYXdhaXQgY29tcG9uZW50LmJ1aWxkKCBwYXJlbnQsIGAkeyB0aGlzLmNvbXBvbmVudE5hbWUgfSR7IGNvbXBvbmVudC5jb21wb25lbnROYW1lLmNhcGl0YWxpemVGaXJzdExldHRlcigpIH0keyBjb21wb25lbnRDb3VudCB9YCApO1xyXG4gIH1cclxuXHJcbiAgLy8vIEdldHMgdGhlIHRlbXBsYXRlIG5vZGVzIGFuZCBpbnNlcnQgdGhlbSBpbnRvIGEgY29udGFpbmVyIHRoZW4gcmV0dXJucyB0aGUgY29udGFpbmVyXHJcbiAgcHVibGljIGFzeW5jIGJ1aWxkT25Cb2R5KCBlbGVtZW50SWQ/OiBzdHJpbmcgKTogUHJvbWlzZTxIVE1MRWxlbWVudD4ge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gICAgaWYgKCBlbGVtZW50SWQgKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnQuaWQgPSBlbGVtZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICggbGV0IGl0ZW0gb2YgdGhpcy5nZXRUZW1wbGF0ZUNsb25lTm9kZXMoKSApIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggIXRoaXMuX2VsZW1lbnQgKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvciggYEZhaWwgYnVpbGRpbmcgU2NlbmVDb21wb25lbnQuIEVsZW1lbnRJZDogJHsgZWxlbWVudElkIH1gICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5idWlsZFN1YkNvbXBvbmVudHMoIGRvY3VtZW50LmJvZHkgKTtcclxuXHJcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuX2VsZW1lbnQgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8vLyBHZXRzIHRoZSB0ZW1wbGF0ZSBub2RlcyBhbmQgaW5zZXJ0IHRoZW0gaW50byBhIGNvbnRhaW5lciB0aGVuIHJldHVybnMgdGhlIGNvbnRhaW5lclxyXG4gIHB1YmxpYyBhc3luYyBidWlsZCggY29udGFpbmVyOiBIVE1MRWxlbWVudCwgZWxlbWVudElkPzogc3RyaW5nICk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgIGZvciAoIGxldCBpdGVtIG9mIHRoaXMuZ2V0VGVtcGxhdGVDbG9uZU5vZGVzKCkgKSB7XHJcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaXRlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuYnVpbGRTdWJDb21wb25lbnRzKCBjb250YWluZXIgKTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVTb3VuZFRhYmxlSXRlbUNvbnRhaW5lciggaXRlbUlkOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gYFxyXG4gIDxkaXYgaWQ9XCIkeyBpdGVtSWQgfVNvdW5kVGFibGVJdGVtXCIgY2xhc3M9XCJzb3VuZC10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59IiwiXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUJhY2tncm91bmRZb3V0dWJlSWZyYW1lRWxlbWVudCggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1cIj5cclxuICA8L2Rpdj5cclxuICBgLnRyaW0oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlWW91dHViZUlmcmFtZVRhYmxlSXRlbSggaWZyYW1lSWQ6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIHJldHVybiBgXHJcbiAgPGRpdiBpZD1cIiR7IGlmcmFtZUlkIH1JZnJhbWVUYWJsZUl0ZW1cIiBjbGFzcz1cInl0LWlmcmFtZS10YWJsZS1pdGVtLWNvbnRhaW5lclwiPlxyXG4gIDwvZGl2PlxyXG4gIGAudHJpbSgpO1xyXG59IiwiaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGdldEVsZW1lbnREaW1lbnNpb25zLCBoYW5kbGVQcm9taXNlLCBwb2xsRm9yVmFyaWFibGUsIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMgfSBmcm9tICcuLi8uLi9Ub29scy9ET01Ub29scyc7XHJcbmltcG9ydCB7IERyYWdnYWJsZUVsZW1lbnQgfSBmcm9tICcuLi8uLi9FeHRyYXMvRHJhZ2dhYmxlRWxlbWVudCc7XHJcbmltcG9ydCB7IERpbWVuc2lvbnMsIGNsYW1wIH0gZnJvbSAnLi4vLi4vVG9vbHMvTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgdGVtcGxhdGVCYWNrZ3JvdW5kWW91dHViZUlmcmFtZUVsZW1lbnQgfSBmcm9tICcuL1RlbXBsYXRlc1lvdXR1YmVJZnJhbWUnO1xyXG5pbXBvcnQgeyBJT2JqZWN0VG9TZXRPbllvdXR1YmVJZnJhbWVzUmVhZHkgfSBmcm9tICcuL1R5cGVzJztcclxuaW1wb3J0IHsgWW91dHViZUlmcmFtZVN3aXRjaGVyIH0gZnJvbSAnLi9Zb3V0dWJlSWZyYW1lU3dpdGNoZXInO1xyXG5pbXBvcnQgeyBZb3V0dWJlSWZyYW1lU3luYyB9IGZyb20gJy4vWW91dHViZUlmcmFtZVN5bmMnO1xyXG5pbXBvcnQgeyBPYmplY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi4vLi4vRXh0cmFzL09iamVjdEV2ZW50TGlzdGVuZXInO1xyXG5pbXBvcnQgeyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMgfSBmcm9tICcuLi9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBZb3V0dWJlSWZyYW1lT3B0aW9ucyA9IHtcclxuICBpZnJhbWVJZDogc3RyaW5nO1xyXG4gIHZpZGVvSWQ6IHN0cmluZztcclxuICBkaW1lbnNpb25zPzogRGltZW5zaW9ucztcclxuICBwYXJlbnRFbGVtZW50PzogSFRNTEVsZW1lbnQ7XHJcbiAgY2xhc3NMaXN0Pzogc3RyaW5nW107XHJcbiAgc3RhcnRNdXRlZD86IGJvb2xlYW47XHJcbiAgc3RhcnRzQXQ/OiBudW1iZXI7XHJcbiAgYmxvY2tJbnRlcmFjdGlvbj86IGJvb2xlYW47XHJcbiAgcmVwbGF5T25FbmQ/OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURyYWdnYWJsZVlvdXR1YmVJZnJhbWUoIHsgaWZyYW1lSWQsIHZpZGVvSWQsIHN0YXJ0c0F0LCBwYXJlbnRFbGVtZW50LCBjbGFzc0xpc3QgPSBbXSB9OiBZb3V0dWJlSWZyYW1lT3B0aW9ucyApIHtcclxuICBjb25zdCBpZnJhbWVDb250cm9sbGVyUmVzdWx0ID0gbmV3IFlvdXR1YmVJZnJhbWUoIHsgc3RhcnRzQXQsIGlmcmFtZUlkLCB2aWRlb0lkLCBwYXJlbnRFbGVtZW50LCBjbGFzc0xpc3QgfSApO1xyXG5cclxuICBjb25zdCBkcmFnZ2FibGVSZXN1bHQgPSBuZXcgRHJhZ2dhYmxlRWxlbWVudCgge1xyXG4gICAgZWxlbWVudDogcGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5LFxyXG4gICAgYWxsb3dEcmFnZ2luZ0J5SW5uZXJDb250ZW50OiB0cnVlLFxyXG4gICAgb25Ecm9wOiAoKSA9PiB7XHJcblxyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlmcmFtZUNvbnRyb2xsZXI6IGlmcmFtZUNvbnRyb2xsZXJSZXN1bHQsXHJcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZVJlc3VsdFxyXG4gIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgWW91dHViZUlmcmFtZSBleHRlbmRzIE9iamVjdEV2ZW50TGlzdGVuZXIgaW1wbGVtZW50cyBJTWVkaWFQbGF5ZXJGdW5jdGlvbnMge1xyXG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHk6IElPYmplY3RUb1NldE9uWW91dHViZUlmcmFtZXNSZWFkeVtdID0gW107XHJcblxyXG4gIHByb3RlY3RlZCBzdGF0aWMgX2RpY3RZb3V0dWJlSWZyYW1lQnlJZDogTWFwPHN0cmluZywgWW91dHViZUlmcmFtZT4gPSBuZXcgTWFwKCk7XHJcbiAgcHJvdGVjdGVkIHN0YXRpYyBfYXJyWW91dHViZUlmcmFtZUlkUmVhZHk6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIHB1YmxpYyBwbGF5ZXI6IGFueSB8IG51bGw7XHJcbiAgcHJvdGVjdGVkIF9pc1BsYXllclJlYWR5OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHB1YmxpYyByZWFkb25seSBpZDogc3RyaW5nO1xyXG4gIHB1YmxpYyByZWFkb25seSB2aWRlb0lkOiBzdHJpbmc7XHJcbiAgcHVibGljIHZpZGVvTmFtZTogc3RyaW5nID0gJyc7XHJcbiAgcHVibGljIHZpZGVvVGh1bWI6IHN0cmluZyA9ICcnO1xyXG4gIHB1YmxpYyBjaGFubmVsVVJMOiBzdHJpbmcgPSAnJztcclxuICBwdWJsaWMgY2hhbm5lbE5hbWU6IHN0cmluZyA9ICcnO1xyXG5cclxuICBwcm90ZWN0ZWQgX2lmcmFtZUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIC8vIEEgZGl2IHdoaWNoIGlzIGNyZWF0ZWQgYWZ0ZXIgaWZyYW1lIHJlbmRlciBhbmQgaG9sZHMgaWZyYW1lIGVsZW1lbnRcclxuICBwcm90ZWN0ZWQgX2lmcmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIC8vIFRoZSBlbGVtZW50IHRoYXQgaG9sZHMgeyBfaWZyYW1lQ29udGFpbmVyIH1cclxuICBwcm90ZWN0ZWQgX2lmcmFtZVBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG5cclxuICBwcm90ZWN0ZWQgX2lzUGxheWluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByb3RlY3RlZCBfZGltZW5zaW9uczogRGltZW5zaW9ucztcclxuICBwcm90ZWN0ZWQgaW52aXNpYmxlRGl2PzogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgX3N0YXJ0c0F0OiBudW1iZXI7XHJcblxyXG4gIHByb3RlY3RlZCBfYmxvY2tJbnRlcmFjdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHByb3RlY3RlZCBfZGl2QmxvY2tJbnRlcmFjdGlvbjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJvdGVjdGVkIF9zdGFydE11dGVkOiBib29sZWFuO1xyXG4gIHB1YmxpYyBfcGxheWluZ09ic2VydmVySW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gIHByb3RlY3RlZCBfZXZlbnRMaXN0ZW5lcjogT2JqZWN0RXZlbnRMaXN0ZW5lciA9IG5ldyBPYmplY3RFdmVudExpc3RlbmVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBvcHRpb25zOiBZb3V0dWJlSWZyYW1lT3B0aW9ucyApIHtcclxuICAgIGlmICggWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmhhcyggb3B0aW9ucy5pZnJhbWVJZCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW52YWxpZCBpZnJhbWUgdGhlcmUncyBhbHJlYWR5IGFuIGlmcmFtZSB3aXRoIHRoaXMgaWQuXCIgKTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlmcmFtZUlkO1xyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBvcHRpb25zLnN0YXJ0c0F0ID8/IDA7XHJcbiAgICB0aGlzLnZpZGVvSWQgPSBvcHRpb25zLnZpZGVvSWQ7XHJcblxyXG4gICAgdGhpcy5fc3RhcnRNdXRlZCA9IG9wdGlvbnMuc3RhcnRNdXRlZCA/IHRydWUgOiBmYWxzZTtcclxuICAgIHRoaXMuX2Jsb2NrSW50ZXJhY3Rpb24gPSBvcHRpb25zLmJsb2NrSW50ZXJhY3Rpb24gPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyID0gWW91dHViZUlmcmFtZS5nZXRZb3V0dWJlSWZyYW1lRWxlbWVudCgge1xyXG4gICAgICBpZnJhbWVJZDogb3B0aW9ucy5pZnJhbWVJZCxcclxuICAgICAgY2xhc3NMaXN0OiBvcHRpb25zLmNsYXNzTGlzdFxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQgPSBZb3V0dWJlSWZyYW1lLnNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogb3B0aW9ucy5wYXJlbnRFbGVtZW50ID8/IGRvY3VtZW50LmJvZHksXHJcbiAgICAgIGlmcmFtZUNvbnRhaW5lcjogdGhpcy5faWZyYW1lQ29udGFpbmVyXHJcbiAgICB9ICk7XHJcblxyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgdGhpcy5fZGltZW5zaW9ucyA9IG9wdGlvbnMuZGltZW5zaW9ucyA/PyBnZXRFbGVtZW50RGltZW5zaW9ucyggdGhpcy5faWZyYW1lUGFyZW50RWxlbWVudCApO1xyXG5cclxuICAgIFlvdXR1YmVJZnJhbWUuX2RpY3RZb3V0dWJlSWZyYW1lQnlJZC5zZXQoIG9wdGlvbnMuaWZyYW1lSWQsIHRoaXMgKTtcclxuXHJcbiAgICB0aGlzLmdldFZpZGVvSW5mbygpLnRoZW4oIGluZm8gPT4ge1xyXG4gICAgICB0aGlzLnZpZGVvTmFtZSA9IGluZm8gJiYgaW5mby50aXRsZSA/IGluZm8udGl0bGUgYXMgc3RyaW5nIDogJyc7XHJcbiAgICAgIHRoaXMuY2hhbm5lbE5hbWUgPSBpbmZvICYmIGluZm8uYXV0aG9yX25hbWUgPyBpbmZvLmF1dGhvcl9uYW1lIGFzIHN0cmluZyA6ICcnO1xyXG4gICAgICB0aGlzLnZpZGVvVGh1bWIgPSBpbmZvICYmIGluZm8udGh1bWJuYWlsX3VybCA/IGluZm8udGh1bWJuYWlsX3VybCBhcyBzdHJpbmcgOiAnJztcclxuICAgICAgdGhpcy5jaGFubmVsVVJMID0gaW5mbyAmJiBpbmZvLmF1dGhvcl91cmwgPyBpbmZvLmF1dGhvcl91cmwgYXMgc3RyaW5nIDogJyc7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZ2V0VmlkZW9JbmZvKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVQcm9taXNlPFJlc3BvbnNlPiggZmV0Y2goIGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9vZW1iZWQ/dXJsPSR7IHRoaXMudmlkZW9VUkwgfSZmb3JtYXQ9anNvbmAgKSApO1xyXG5cclxuICAgIGlmICggcmVzcG9uc2UuZXJyb3IgKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoIHJlc3BvbnNlLmVycm9yICk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuZGF0YSgpLmpzb24oKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBvblBsYXllclJlYWR5KCBldmVudDogYW55ICkge1xyXG4gICAgaWYgKCB0aGlzLl9zdGFydE11dGVkICkge1xyXG4gICAgICB0aGlzLnBsYXllci5tdXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5fYXJyWW91dHViZUlmcmFtZUlkUmVhZHkucHVzaCggdGhpcy5pZCApO1xyXG4gICAgdGhpcy5faWZyYW1lRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmlkICkhO1xyXG5cclxuICAgIHRoaXMuc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpO1xyXG5cclxuICAgIHRoaXMucGxheWVyLnNldFBsYXliYWNrUXVhbGl0eSggJ2hpZ2hyZXMnICk7XHJcbiAgICB0aGlzLnBsYXllci5zZWVrVG8oIHRoaXMuX3N0YXJ0c0F0ID8/IDAsIHRydWUgKTtcclxuICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWVyUmVhZHkgPSB0cnVlO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaWZyYW1lcmVhZHknLCB0aGlzICk7XHJcblxyXG4gICAgWW91dHViZUlmcmFtZS5jaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgb25QbGF5ZXJTdGF0ZUNoYW5nZSggZXZlbnQ6IGFueSApIHtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IGV2ZW50LmRhdGEgPT09IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyU3RhdGUuUExBWUlORztcclxuXHJcbiAgICBpZiAoIHRoaXMuX2lzUGxheWluZyApIHtcclxuICAgICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGxheWluZygpO1xyXG4gICAgICB0aGlzLl9wbGF5aW5nT2JzZXJ2ZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCAoKSA9PiB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbnBsYXlpbmcnLCB0aGlzICksIDUgKTtcclxuICAgIH0gZWxzZSBpZiAoIHRoaXMuX3BsYXlpbmdPYnNlcnZlckludGVydmFsICkge1xyXG4gICAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQYXVzZWQoKTtcclxuICAgICAgY2xlYXJJbnRlcnZhbCggdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgKTtcclxuICAgICAgdGhpcy5fcGxheWluZ09ic2VydmVySW50ZXJ2YWwgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheWVyc3RhdGVjaGFuZ2UnLCB0aGlzLl9pc1BsYXlpbmcsIHRoaXMgKTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXRDbGFzc2VzSWZyYW1lUGxheWluZygpIHtcclxuICAgIGlmICggdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoICd5dC1wbGF5aW5nJyApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBsYXlpbmcnICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc2V0Q2xhc3Nlc0lmcmFtZVBhdXNlZCgpIHtcclxuICAgIGlmICggdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhpcy5faWZyYW1lRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgICB0aGlzLl9pZnJhbWVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2lmcmFtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCAneXQtcGF1c2VkJyApO1xyXG4gICAgdGhpcy5faWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoICd5dC1wbGF5aW5nJyApO1xyXG5cclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3l0LXBhdXNlZCcgKTtcclxuICAgIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3l0LXBsYXlpbmcnICk7XHJcbiAgfVxyXG5cclxuXHJcbiAgcHJvdGVjdGVkIG9uRXZlcnlZb3V0dWJlSWZyYW1lUmVhZHkoKSB7XHJcbiAgICB0aGlzLmNhbGxFdmVudHNCeU5hbWUoICdvbmV2ZXJ5eW91dHViZWlmcmFtZXJlYWR5JyApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBkaXZCbG9ja0ludGVyYWN0aW9uKCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgdmlkZW9VUkwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0keyB0aGlzLnZpZGVvSWQgfWA7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBhcmVudEVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lmcmFtZVBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlmcmFtZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgaWYgKCAhdGhpcy5faWZyYW1lRWxlbWVudCApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIklmcmFtZSB3YXMgY2FsbGVkIGJ1dCBpdCdzIG5vdCByZWFkeS5cIiApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9pZnJhbWVFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBpc1BsYXllclJlYWR5KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzUGxheWVyUmVhZHk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGR1cmF0aW9uKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0RHVyYXRpb24oKSAtIHRoaXMuX3N0YXJ0c0F0O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBwbGF5ZXJEdXJhdGlvbigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IGN1cnJlbnRUaW1lKCB0OiBudW1iZXIgKSB7XHJcbiAgICB0aGlzLnNlZWsoIHQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgY3VycmVudFRpbWUoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBsYXllci5nZXRDdXJyZW50VGltZSgpIC0gdGhpcy5fc3RhcnRzQXQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllckN1cnJlbnRUaW1lKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgcHJvZ3Jlc3NQZXJjZW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZSAvIHRoaXMuZHVyYXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHBsYXllclByb2dyZXNzUGVyY2VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyQ3VycmVudFRpbWUgLyB0aGlzLnBsYXllckR1cmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzdGFydE11dGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0TXV0ZWQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGlzUGxheWluZygpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9pc1BsYXlpbmc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IGRpbWVuc2lvbnMoKTogRGltZW5zaW9ucyB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGltZW5zaW9ucztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgc3RhcnRzQXQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBjbGFtcCggdGhpcy5fc3RhcnRzQXQsIDAsIHRoaXMuX3N0YXJ0c0F0ICk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXQgc3RhcnRzQXQoIHZhbDogbnVtYmVyICkge1xyXG4gICAgdGhpcy5fc3RhcnRzQXQgPSBjbGFtcCggdmFsLCAwLCB2YWwgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b2dnbGUoKTogSU1lZGlhUGxheWVyRnVuY3Rpb25zIHtcclxuICAgIGlmICggdGhpcy5pc1BsYXlpbmcgKSB7XHJcbiAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHBsYXkoKSB7XHJcbiAgICB0aGlzLnBsYXlXaXRob3V0VHJpZ2dlckV2ZW50cygpO1xyXG5cclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGxheScsIHRoaXMgKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKSB7XHJcbiAgICB0aGlzLnBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IHRydWU7XHJcbiAgICB0aGlzLnNldENsYXNzZXNJZnJhbWVQbGF5aW5nKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICB0aGlzLnBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29ucGF1c2UnLCB0aGlzICk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcGF1c2VXaXRob3V0VHJpZ2dlckV2ZW50cygpIHtcclxuICAgIHRoaXMucGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgIHRoaXMuX2lzUGxheWluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5zZXRDbGFzc2VzSWZyYW1lUGF1c2VkKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2Vlayggc2Vla1RpbWU6IG51bWJlciwgcmVsb2FkQnVmZmVyOiBib29sZWFuID0gZmFsc2UsIGNvbnNpZGVyU3RhcnRzQXQ6IGJvb2xlYW4gPSBmYWxzZSApIHtcclxuICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uc2VlaycsIHNlZWtUaW1lLCByZWxvYWRCdWZmZXIsIGNvbnNpZGVyU3RhcnRzQXQsIHRoaXMgKTtcclxuXHJcbiAgICBzZWVrVGltZSArPSBjb25zaWRlclN0YXJ0c0F0ID8gdGhpcy5fc3RhcnRzQXQgOiAwO1xyXG4gICAgdGhpcy5wbGF5ZXIuc2Vla1RvKCBzZWVrVGltZSwgcmVsb2FkQnVmZmVyICk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBtdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIubXV0ZSgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5tdXRlKCkge1xyXG4gICAgdGhpcy5wbGF5ZXIudW5tdXRlKCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjaGVja0lmRXZlcnlJZnJhbWVJc1JlYWR5KCkge1xyXG4gICAgY29uc3QgYXJyRXZlcnlJZnJhbWVJZCA9IFsuLi5Zb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQua2V5cygpXTtcclxuICAgIGNvbnN0IGhhc0lmcmFtZU5vdFJlYWR5WWV0ID0gYXJyRXZlcnlJZnJhbWVJZC5zb21lKCByID0+ICF0aGlzLl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeS5pbmNsdWRlcyggciApICk7XHJcblxyXG4gICAgaWYgKCAhaGFzSWZyYW1lTm90UmVhZHlZZXQgKSB7XHJcbiAgICAgIHRoaXMuYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkuZm9yRWFjaCggbyA9PiBvLnNldHVwKCBZb3V0dWJlSWZyYW1lLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQgKSApO1xyXG5cclxuICAgICAgWW91dHViZUlmcmFtZS5fZGljdFlvdXR1YmVJZnJhbWVCeUlkLmZvckVhY2goICggdmFsLCBrZXkgKSA9PiB7XHJcbiAgICAgICAgdmFsLm9uRXZlcnlZb3V0dWJlSWZyYW1lUmVhZHkoKTtcclxuICAgICAgfSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFlvdXR1YmVJZnJhbWVFbGVtZW50KCB7IGlmcmFtZUlkLCBjbGFzc0xpc3QgfTogeyBpZnJhbWVJZDogc3RyaW5nOyBjbGFzc0xpc3Q/OiBzdHJpbmdbXTsgfSApIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWlmcmFtZS1jb250YWluZXInICk7XHJcbiAgICBpZiAoIGNsYXNzTGlzdCApIHtcclxuICAgICAgY29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoIC4uLmNsYXNzTGlzdCApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnRhaW5lckRpdi5pZCA9IGBjb250YWluZXJZb3V0dWJlSWZyYW1lJHsgaWZyYW1lSWQgfWA7XHJcbiAgICBjb250YWluZXJEaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKCAnYWZ0ZXJiZWdpbicsIHRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50KCBpZnJhbWVJZCApICk7XHJcbiAgICByZXR1cm4gY29udGFpbmVyRGl2O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUoIHsgcGFyZW50RWxlbWVudCwgaWZyYW1lQ29udGFpbmVyIH06IHsgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7IGlmcmFtZUNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7IH0gKSB7XHJcbiAgICBjb25zdCBpZnJhbWVQYXJlbnRFbGVtZW50ID0gcGFyZW50RWxlbWVudCA/PyBkb2N1bWVudC5ib2R5O1xyXG4gICAgaWZyYW1lUGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCAneXQtaWZyYW1lLXBhcmVudCcgKTtcclxuICAgIGlmcmFtZVBhcmVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYWZ0ZXJiZWdpbicsIGlmcmFtZUNvbnRhaW5lciApO1xyXG4gICAgcmV0dXJuIGlmcmFtZVBhcmVudEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0SW52aXNpYmxlVG9wRGl2KCB0b3BEaXY6IEhUTUxFbGVtZW50ICkge1xyXG4gICAgdGhpcy5pbnZpc2libGVEaXYgPSB0b3BEaXY7XHJcbiAgICB0aGlzLmludmlzaWJsZURpdi5zdHlsZS56SW5kZXggPSAnOTkwJztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCBibG9ja0ludGVyYWN0aW9uRGl2OiBIVE1MRWxlbWVudCApIHtcclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24gPSBibG9ja0ludGVyYWN0aW9uRGl2O1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zZXRBdHRyaWJ1dGUoICd5dC1pZnJhbWUtaWQnLCB0aGlzLmlkICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uIS5zZXRBdHRyaWJ1dGUoICd5dC1pZnJhbWUtdmlkZW8tbmFtZScsIHRoaXMudmlkZW9OYW1lICk7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uIS5zZXRBdHRyaWJ1dGUoICd5dC1pZnJhbWUtdmlkZW8tY2hhbm5lbC1uYW1lJywgdGhpcy5jaGFubmVsTmFtZSApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiEuc2V0QXR0cmlidXRlKCAneXQtaWZyYW1lLXZpZGVvLXRodW1iLXVybCcsIHRoaXMudmlkZW9UaHVtYiApO1xyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiEuc2V0QXR0cmlidXRlKCAneXQtaWZyYW1lLXZpZGVvLWNoYW5uZWwtdXJsJywgdGhpcy5jaGFubmVsVVJMICk7XHJcblxyXG4gICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uLnN0eWxlLnpJbmRleCA9ICc5OTUnO1xyXG5cclxuICAgIHRoaXMuX2RpdkJsb2NrSW50ZXJhY3Rpb24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBldnQgKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uY2xpY2tpbnRlcmFjdGlvbmJsb2NrZWQnLCB0aGlzLCB0aGlzLl9kaXZCbG9ja0ludGVyYWN0aW9uICk7XHJcbiAgICAgIHRoaXMuY2FsbEV2ZW50c0J5TmFtZSggJ29uaW50ZXJhY3Rpb25ibG9ja2VkJywgdGhpcywgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApO1xyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBibG9ja0ludGVyYWN0aW9uKCB2YWw6IGJvb2xlYW4gKSB7XHJcbiAgICB0aGlzLl9ibG9ja0ludGVyYWN0aW9uID0gdmFsO1xyXG5cclxuICAgIGlmICggdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbiApIHtcclxuICAgICAgdGhpcy5fZGl2QmxvY2tJbnRlcmFjdGlvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5fYmxvY2tJbnRlcmFjdGlvbiA/ICdibG9jaycgOiAnbm9uZSc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaW5pdFBsYXllcigpIHtcclxuICAgIHRoaXMucGxheWVyID0gbmV3IFlvdXR1YmVJZnJhbWUuX3lvdXR1YmVBUElSZWZlcmVuY2UuUGxheWVyKCB0aGlzLmlkLCB7XHJcbiAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW9JZCxcclxuICAgICAgd2lkdGg6IHRoaXMuZGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0LFxyXG4gICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgJ3JlbCc6IDAsICAgICAgICAgICAgLy8gRGVzYXRpdmEgdsOtZGVvcyByZWxhY2lvbmFkb3NcclxuICAgICAgICAnaXZfbG9hZF9wb2xpY3knOiAzLCAvLyBEZXNhdGl2YSBzdWdlc3TDtWVzIGRlIHbDrWRlb3MgZHVyYW50ZSBhIHBhdXNhXHJcbiAgICAgICAgJ3Nob3dpbmZvJzogMCwgICAgICAgLy8gUmVtb3ZlIGluZm9ybWHDp8O1ZXMgZG8gdsOtZGVvICh0w610dWxvLCBldGMuKVxyXG4gICAgICAgICdjb250cm9scyc6IDAsICAgICAgIC8vIFJlbW92ZSBvcyBjb250cm9sZXMgZG8gcGxheWVyXHJcbiAgICAgICAgJ2F1dG9wbGF5JzogMCAgICAgICAgLy8gRGVzYXRpdmEgYSByZXByb2R1w6fDo28gYXV0b23DoXRpY2FcclxuICAgICAgfSxcclxuICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgJ29uUmVhZHknOiB0aGlzLm9uUGxheWVyUmVhZHkuYmluZCggdGhpcyApLFxyXG4gICAgICAgICdvblN0YXRlQ2hhbmdlJzogdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlLmJpbmQoIHRoaXMgKVxyXG4gICAgICB9XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgc3RhdGljIF95b3V0dWJlQVBJUmVmZXJlbmNlOiBhbnk7XHJcblxyXG4gIHN0YXRpYyBidWlsZElmcmFtZXMoKSB7XHJcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3NjcmlwdCcgKTtcclxuICAgIHRhZy5pZCA9ICd5dElmcmFtZUFQSSc7XHJcblxyXG4gICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xyXG4gICAgdmFyIGZpcnN0U2NyaXB0VGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdzY3JpcHQnIClbMF07XHJcbiAgICBpZiAoIGZpcnN0U2NyaXB0VGFnICYmIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUgKSB7XHJcbiAgICAgIGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB0YWcsIGZpcnN0U2NyaXB0VGFnICk7XHJcbiAgICB9XHJcblxyXG4gICAgd2FpdFVudGlsRWxlbWVudEV4aXN0cyggJyN5dElmcmFtZUFQSScgKS50aGVuKCAoKSA9PiB7XHJcbiAgICAgIHBvbGxGb3JWYXJpYWJsZTxhbnk+KCAnWVQnLFxyXG4gICAgICAgICggdmFsdWU6IGFueSApID0+IHtcclxuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUuUGxheWVyID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICYmIHZhbHVlLlBsYXllci5wcm90b3R5cGVcclxuICAgICAgICAgICAgJiYgdmFsdWUuUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUuUGxheWVyXHJcbiAgICAgICAgICAgICYmIHZhbHVlLmxvYWRlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgICggdmFsdWUgKSA9PiB7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLl95b3V0dWJlQVBJUmVmZXJlbmNlID0gdmFsdWU7XHJcbiAgICAgICAgICBZb3V0dWJlSWZyYW1lLnNldFlvdXR1YmVJZnJhbWVFbGVtZW50cygpO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMoKSB7XHJcbiAgICB0aGlzLl9kaWN0WW91dHViZUlmcmFtZUJ5SWQuZm9yRWFjaCggKCB2YWwsIGtleSApID0+IHtcclxuICAgICAgdmFsLnNldEludmlzaWJsZVRvcERpdiggdGhpcy5nZXRJbnZpc2libGVUb3BEaXYoIHZhbCApICk7XHJcbiAgICAgIHZhbC5zZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB0aGlzLmdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24oIHZhbCApICk7XHJcbiAgICAgIHZhbC5pbml0UGxheWVyKCk7XHJcbiAgICB9ICk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0SW52aXNpYmxlVG9wRGl2KCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICByZXR1cm4gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZVRvcERpdkhvbGRUb0RyYWckeyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgKiAwLjIgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcblxyXG4gIHN0YXRpYyBnZXRJbnZpc2libGVEaXZCbG9ja0ludGVyYWN0aW9uKCB5dElmcmFtZTogWW91dHViZUlmcmFtZSApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBlbGVtZW50SW52aXNpYmxlRGl2ID0gY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQoIHtcclxuICAgICAgcGFyZW50RWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHl0SWZyYW1lLmlkICkhLnBhcmVudEVsZW1lbnQhLFxyXG4gICAgICBpZDogYGludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24keyB5dElmcmFtZS5pZCB9YCxcclxuICAgICAgcG9zaXRpb246IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXHJcbiAgICAgIGRpbWVuc2lvbnM6IHsgd2lkdGg6IHl0SWZyYW1lLmRpbWVuc2lvbnMud2lkdGgsIGhlaWdodDogeXRJZnJhbWUuZGltZW5zaW9ucy5oZWlnaHQgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIGVsZW1lbnRJbnZpc2libGVEaXYuY2xhc3NMaXN0LmFkZCggJ3l0LWRpdi1ibG9jay1pbnRlcmFjdGlvbicgKTtcclxuXHJcbiAgICByZXR1cm4gZWxlbWVudEludmlzaWJsZURpdjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgeyBZb3V0dWJlSWZyYW1lU3dpdGNoZXIsIFlvdXR1YmVJZnJhbWVTeW5jIH07IiwiXHJcbmludGVyZmFjZSBTdHJpbmcge1xyXG4gIHRydW5jYXRlKCBtYXg6IG51bWJlciwgZGVjb3JhdG9yOiBzdHJpbmcgKTogc3RyaW5nO1xyXG4gIHJlbW92ZUFjY2VudHMoKTogc3RyaW5nO1xyXG4gIGNhcGl0YWxpemVGaXJzdExldHRlcigpOiBzdHJpbmc7XHJcbiAgemVyb0JlZm9yZSgpOiBzdHJpbmc7XHJcbiAgaXNOdWxsT3JFbXB0eSgpOiBib29sZWFuO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzTnVsbE9yRW1wdHkgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyAmJiAhdGhpcyAmJiB0aGlzICE9PSAnJztcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUudHJ1bmNhdGUgPSBmdW5jdGlvbiAoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyA9ICcuLi4nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuICggdGhpcy5sZW5ndGggPiBtYXggPyB0aGlzLnN1YnN0cmluZyggMCwgbWF4ICkgKyBkZWNvcmF0b3IgOiB0aGlzICkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUucmVtb3ZlQWNjZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnplcm9CZWZvcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucGFkU3RhcnQoIDIsICcwJyApO1xyXG59IiwiXHJcbmV4cG9ydCBjbGFzcyBPYmplY3RFdmVudExpc3RlbmVyIHtcclxuICBwdWJsaWMgZXZlbnRzQnlOYW1lOiBNYXA8c3RyaW5nLCBGdW5jdGlvbltdPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZTogc3RyaW5nLCBldmVudDogRnVuY3Rpb24gKSB7XHJcbiAgICBpZiAoICF0aGlzLmV2ZW50c0J5TmFtZS5oYXMoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkgKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzQnlOYW1lLnNldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCksIFtldmVudF0gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRzQnlOYW1lLmdldCggZXZlbnROYW1lLnRvTG93ZXJDYXNlKCkgKSEucHVzaCggZXZlbnQgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRFdmVudHNCeU5hbWUoIGV2ZW50TmFtZTogc3RyaW5nICk6IEZ1bmN0aW9uW10ge1xyXG4gICAgaWYgKCAhdGhpcy5ldmVudHNCeU5hbWUuaGFzKCBldmVudE5hbWUudG9Mb3dlckNhc2UoKSApICkge1xyXG4gICAgICB0aGlzLmV2ZW50c0J5TmFtZS5zZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpLCBbXSApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmV2ZW50c0J5TmFtZS5nZXQoIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpICkhO1xyXG4gIH1cclxuXHJcblxyXG4gIHB1YmxpYyBjYWxsRXZlbnRzQnlOYW1lKCBldmVudE5hbWU6IHN0cmluZywgLi4uZXZlbnRBcmdzOiBhbnlbXSApOiB2b2lkIHtcclxuICAgIHRoaXMuZ2V0RXZlbnRzQnlOYW1lKCBldmVudE5hbWUgKS5mb3JFYWNoKCBlID0+IGUoIC4uLmV2ZW50QXJncyApICk7XHJcbiAgfVxyXG59IiwiaW1wb3J0ICcuLi9FeHRlbnNpb25zL1N0cmluZ0V4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBnZXRFbGVtZW50RnJvbUhUTUwsIGhpZGVFbGVtZW50IH0gZnJvbSAnLi9ET01Ub29scyc7XHJcbmltcG9ydCB7IGdldEZpbGVFeHRlbnNpb24gfSBmcm9tICcuL0ZpbGVUb29scyc7XHJcbmltcG9ydCB7IEF1ZGlvQ29tcG9uZW50LCBDcmVhdGVBdWRpb0NvbXBvbmVudE9wdGlvbnMgfSBmcm9tICcuLi9Db21wb25lbnRzL0F1ZGlvQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCB0eXBlIEF1ZGlvUGxheWVyQ29uZmlnID0ge1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIGF1dG9QbGF5PzogYm9vbGVhbjtcclxuICBhdXRvcGxheT86IGJvb2xlYW47XHJcbiAgbXV0ZWQ/OiBib29sZWFuO1xyXG4gIGxvb3A/OiBib29sZWFuO1xyXG4gIHByZWxvYWQ/OiAnYXV0bycgfCAnbWV0YWRhdGEnIHwgJ25vbmUnO1xyXG4gIG9ucGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvbnBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG4gIG9uUGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvblBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXVkaW9Db21wb25lbnRPbkJvZHkoIG9wdGlvbnM6IENyZWF0ZUF1ZGlvQ29tcG9uZW50T3B0aW9ucyApIHtcclxuICByZXR1cm4gYXdhaXQgQXVkaW9Db21wb25lbnQuY3JlYXRlQXVkaW9Db21wb25lbnRPbkJvZHkoIG9wdGlvbnMgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZVBsYXllciggYXJyU291cmNlczogc3RyaW5nW10sIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGNvbnN0IGF1ZGlvRWxlbWVudCA9IGdldEVsZW1lbnRGcm9tSFRNTCggYXVkaW9FbGVtZW50SFRNTCggYXJyU291cmNlcywgcGxheWVyQ29uZmlnICkgKSBhcyBIVE1MRWxlbWVudDtcclxuICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2FmdGVyYmVnaW4nLCBhdWRpb0VsZW1lbnQgKTtcclxuICBoaWRlRWxlbWVudCggYXVkaW9FbGVtZW50ICk7XHJcbiAgcmV0dXJuIGF1ZGlvRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF1ZGlvRWxlbWVudEhUTUwoIGFyclNvdXJjZXM6IHN0cmluZ1tdLCBwbGF5ZXJDb25maWc/OiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICByZXR1cm4gYDxhdWRpbyBjb250cm9scyAkeyBwbGF5ZXJDb25maWcgPyBhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyggcGxheWVyQ29uZmlnICkgOiBcIlwiIH0+XHJcbiAgICAkeyBhcnJTb3VyY2VzLm1hcCggc3JjID0+IHNvdXJjZUVsZW1lbnRIVE1MKCBzcmMgKSApLnJlZHVjZSggKCBhY2MsIG5leHQgKSA9PiBhY2MgKyBuZXh0LCAnJyApIH1cclxuICA8L2F1ZGlvPmA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzb3VyY2VFbGVtZW50SFRNTCggc3JjOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIGA8c291cmNlIHNyYz1cIiR7IHNyYyB9XCIgdHlwZT1cImF1ZGlvLyR7IGdldEZpbGVFeHRlbnNpb24oIHNyYyApIH1cIj5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyggcGxheWVyQ29uZmlnOiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICBjb25zdCBwYXJhbUlkID0gcGxheWVyQ29uZmlnLmlkID8gJ2lkPVwiJyArIHBsYXllckNvbmZpZy5pZCArICdcIicgOiAnJztcclxuICBjb25zdCBwYXJhbUF1dG9QbGF5ID0gcGxheWVyQ29uZmlnLmF1dG9QbGF5IHx8IHBsYXllckNvbmZpZy5hdXRvcGxheSA/ICdhdXRvcGxheScgOiAnJztcclxuICBjb25zdCBwYXJhbU11dGVkID0gcGxheWVyQ29uZmlnLm11dGVkID8gJ211dGVkJyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtTG9vcCA9IHBsYXllckNvbmZpZy5sb29wID8gJ2xvb3AnIDogJyc7XHJcbiAgY29uc3QgcGFyYW1QcmVsb2FkID0gcGxheWVyQ29uZmlnLnByZWxvYWQgPyAncHJlbG9hZD1cIicgKyBwbGF5ZXJDb25maWcucHJlbG9hZCArICdcIicgOiAnJztcclxuXHJcbiAgcmV0dXJuIGAgJHsgcGFyYW1JZCB9ICR7IHBhcmFtQXV0b1BsYXkgfSAkeyBwYXJhbU11dGVkIH0gJHsgcGFyYW1Mb29wIH0gJHsgcGFyYW1QcmVsb2FkIH1gLnRyaW1FbmQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UGxheUJ1dHRvbkVsZW1lbnQoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnPzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdidXR0b24nICk7XHJcbiAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGxheS1idXR0b24nICk7XHJcblxyXG4gIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgIGlmICggYXVkaW9FbGVtZW50LnBhdXNlZCApIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGF1c2VkJyApO1xyXG4gICAgfVxyXG4gIH0sIDMwMCApO1xyXG5cclxuICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcclxuICAgIGlmICggYXVkaW9FbGVtZW50LnBhdXNlZCApIHtcclxuICAgICAgYXVkaW9FbGVtZW50LnBsYXkoKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAncGF1c2VkJyApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIHNldEF1ZGlvRWxlbWVudFBsYXlQYXVzZUV2ZW50cyggYnV0dG9uRWxlbWVudCwgYXVkaW9FbGVtZW50LCBwbGF5ZXJDb25maWcgKTtcclxuXHJcbiAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMoIGJ1dHRvbkVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGF1ZGlvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncGxheScsICgpID0+IHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3BhdXNlZCcgKTtcclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vblBsYXkgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vblBsYXkoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vbnBsYXkgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vbnBsYXkoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwYXVzZScsICgpID0+IHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vblBhdXNlICkge1xyXG4gICAgICBwbGF5ZXJDb25maWcub25QYXVzZSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9ucGF1c2UgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vbnBhdXNlKCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuICB9ICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcGxheUJ1dHRvbkNTUygpIHtcclxuICByZXR1cm4gYFxyXG4gICAgLnBsYXktYnV0dG9uIHtcclxuICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBib3JkZXI6IDA7XHJcbiAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICB3aWR0aDogMDtcclxuICAgICAgaGVpZ2h0OiAzNHB4O1xyXG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICMyMDIwMjA7XHJcbiAgICAgIHRyYW5zaXRpb246IDEwMG1zIGFsbCBlYXNlO1xyXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgIGJvcmRlci1zdHlsZTogZG91YmxlO1xyXG4gICAgICBib3JkZXItd2lkdGg6IDBweCAwIDBweCAzMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wbGF5LWJ1dHRvbi5wYXVzZWQge1xyXG4gICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gICAgICBib3JkZXItd2lkdGg6IDIzcHggMHB4IDIzcHggMzRweDtcclxuICAgIH1cclxuXHJcbiAgICAucGxheS1idXR0b246aG92ZXIge1xyXG4gICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50ICM0MDQwNDA7XHJcbiAgICB9XHJcbiAgYDtcclxufVxyXG5cclxuZXhwb3J0IHsgQ3JlYXRlQXVkaW9Db21wb25lbnRPcHRpb25zIH07IiwiaW1wb3J0IHsgRGltZW5zaW9ucywgUG9pbnQyRCwgbGVycCwgcmVnZXhOdW1iZXJQYXR0ZXJuLCByb3RhdGVDb29yZGluYXRlcywgcm90YXRlQ29vcmRpbmF0ZXNGcm9tUG9pbnQyRCB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgdG9QaG9uZU51bWJlciB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5pbXBvcnQgeyBDb2xsaXNpb25EaXJlY3Rpb25DaGVjaywgQm9yZGVyRGlzdGFuY2UgfSBmcm9tICcuLi9FeHRyYXMvQ29sbGlzaW9uRXZlbnRzL1R5cGVzJztcclxuXHJcbmV4cG9ydCB0eXBlIEtleWJvYXJkRXZlbnRDYWxsYmFjayA9ICggZXZ0OiBLZXlib2FyZEV2ZW50ICkgPT4gdm9pZDtcclxuZXhwb3J0IGNvbnN0IHJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSA9IC90cmFuc2xhdGVcXChbXildKlxcKS9nO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVZhbHVlID0gL3JvdGF0ZVxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZSA9IC9yb3RhdGVYXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWVZhbHVlID0gL3JvdGF0ZVlcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWUgPSAvcm90YXRlWlxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ID0gbmV3IE1hcDxzdHJpbmcsIEtleWJvYXJkRXZlbnRDYWxsYmFja1tdPigpO1xyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbktleXVwID0gbmV3IE1hcDxzdHJpbmcsIEtleWJvYXJkRXZlbnRDYWxsYmFja1tdPigpO1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkQWN0aW9uS2V5KCB7IGtleSwga2V5ZG93bjogZXZlbnRLZXlkb3duLCBrZXl1cDogZXZlbnRLZXl1cCwgZXhlY3V0ZU9ubHlPbmNlID0gdHJ1ZSB9OiB7IGtleTogc3RyaW5nOyBrZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2s7IGtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBleGVjdXRlT25seU9uY2U/OiBib29sZWFuOyB9ICkge1xyXG4gIGlmICggZXhlY3V0ZU9ubHlPbmNlICkge1xyXG4gICAgYWRkQWN0aW9uS2V5UnVuT25jZSgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGFkZEFjdGlvbktleVJ1bk9uUmVwZWF0KCBrZXksIGV2ZW50S2V5ZG93biwgZXZlbnRLZXl1cCApO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBTYWZlUHJvbWlzZTxUPiA9IHtcclxuICBkYXRhOiAoKSA9PiBUO1xyXG4gIGVycm9yOiBFcnJvciB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVQcm9taXNlPFQ+KCBwcm9taXNlOiBQcm9taXNlPFQ+ICk6IFByb21pc2U8U2FmZVByb21pc2U8VD4+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHByb21pc2U7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4gZGF0YSxcclxuICAgICAgZXJyb3I6IG51bGxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoIGVycm9yICkge1xyXG4gICAgY29uc29sZS5lcnJvciggZXJyb3IgKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiAoKSA9PiB7IHRocm93IG5ldyBFcnJvciggXCJDb3VsZG4ndCBmZXRjaCwgY2hlY2sgU2FmZVByb21pc2UuZXJyb3IgZm9yIGRldGFpbHMuXCIgKTsgfSxcclxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvciggU3RyaW5nKCBlcnJvciApIClcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEZyb21IVE1MKCBodG1sOiBzdHJpbmcsIHRyaW06IGJvb2xlYW4gPSB0cnVlICkge1xyXG4gIGh0bWwgPSB0cmltID8gaHRtbC50cmltKCkgOiBodG1sO1xyXG5cclxuICBpZiAoICFodG1sICkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0ZW1wbGF0ZScgKTtcclxuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xyXG4gIGNvbnN0IHJlc3VsdCA9IHRlbXBsYXRlLmNvbnRlbnQuY2hpbGRyZW47XHJcblxyXG4gIGlmICggcmVzdWx0Lmxlbmd0aCA9PT0gMSApIHtcclxuICAgIHJldHVybiByZXN1bHRbMF0gYXMgSFRNTEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gQXJyYXkuZnJvbSggcmVzdWx0ICkgYXMgSFRNTEVsZW1lbnRbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zQnlJZCggZWxlbWVudElkOiBzdHJpbmcgKTogRGltZW5zaW9ucyB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBlbGVtZW50SWQgKTtcclxuXHJcbiAgaWYgKCAhZWxlbWVudCApIHtcclxuICAgIHRocm93IG5ldyBFcnJvciggXCJJbnZhbGlkIGVsZW1lbnQgYXQgZ2V0RWxlbWVudERpbWVuc2lvbnNCeUlkIHdpdGggaWQ6IFwiICsgZWxlbWVudElkICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZ2V0RWxlbWVudERpbWVuc2lvbnMoIGVsZW1lbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBEaW1lbnNpb25zIHtcclxuICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHRcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50OiBIVE1MRWxlbWVudCApOiBET01SZWN0IHtcclxuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCBjZW50ZXJYID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDI7XHJcbiAgY29uc3QgY2VudGVyWSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAvLyBSb3RhdGlvbiBhbmdsZSBpbiBkZWdyZWVzIChleHRyYWN0ZWQgZnJvbSBzdHlsZS50cmFuc2Zvcm0gb3IgYW55IG90aGVyIHNvdXJjZSlcclxuICBjb25zdCByb3RhdGlvbkFuZ2xlID0gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk7XHJcblxyXG4gIGNvbnN0IHJhZGlhbnMgPSAoIE1hdGguUEkgLyAxODAgKSAqIHJvdGF0aW9uQW5nbGU7XHJcbiAgY29uc3QgY29zVGhldGEgPSBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIGNvbnN0IHNpblRoZXRhID0gTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSByb3RhdGVkIGNvb3JkaW5hdGVzXHJcbiAgY29uc3Qgcm90YXRlZFgxID0gY2VudGVyWCArICggcmVjdC5sZWZ0IC0gY2VudGVyWCApICogY29zVGhldGEgLSAoIHJlY3QudG9wIC0gY2VudGVyWSApICogc2luVGhldGE7XHJcbiAgY29uc3Qgcm90YXRlZFkxID0gY2VudGVyWSArICggcmVjdC5sZWZ0IC0gY2VudGVyWCApICogc2luVGhldGEgKyAoIHJlY3QudG9wIC0gY2VudGVyWSApICogY29zVGhldGE7XHJcblxyXG4gIGNvbnN0IHJvdGF0ZWRYMiA9IGNlbnRlclggKyAoIHJlY3QucmlnaHQgLSBjZW50ZXJYICkgKiBjb3NUaGV0YSAtICggcmVjdC5ib3R0b20gLSBjZW50ZXJZICkgKiBzaW5UaGV0YTtcclxuICBjb25zdCByb3RhdGVkWTIgPSBjZW50ZXJZICsgKCByZWN0LnJpZ2h0IC0gY2VudGVyWCApICogc2luVGhldGEgKyAoIHJlY3QuYm90dG9tIC0gY2VudGVyWSApICogY29zVGhldGE7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBsZWZ0LCB0b3AsIGJvdHRvbSwgYW5kIHJpZ2h0IGNvb3JkaW5hdGVzXHJcbiAgY29uc3Qgcm90YXRlZExlZnQgPSBNYXRoLm1pbiggcm90YXRlZFgxLCByb3RhdGVkWDIgKTtcclxuICBjb25zdCByb3RhdGVkVG9wID0gTWF0aC5taW4oIHJvdGF0ZWRZMSwgcm90YXRlZFkyICk7XHJcbiAgY29uc3Qgcm90YXRlZEJvdHRvbSA9IE1hdGgubWF4KCByb3RhdGVkWTEsIHJvdGF0ZWRZMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRSaWdodCA9IE1hdGgubWF4KCByb3RhdGVkWDEsIHJvdGF0ZWRYMiApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgeDogcm90YXRlZExlZnQsXHJcbiAgICB5OiByb3RhdGVkVG9wLFxyXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxyXG4gICAgdG9KU09OOiByZWN0LnRvSlNPTixcclxuICAgIGxlZnQ6IHJvdGF0ZWRMZWZ0LFxyXG4gICAgdG9wOiByb3RhdGVkVG9wLFxyXG4gICAgYm90dG9tOiByb3RhdGVkQm90dG9tLFxyXG4gICAgcmlnaHQ6IHJvdGF0ZWRSaWdodCxcclxuICB9IGFzIERPTVJlY3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleTogc3RyaW5nLCBldmVudEtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjaywgZXZlbnRLZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjayApIHtcclxuICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5oYXMoIGtleSApICkge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLnNldCgga2V5LCBbZXZlbnRLZXlkb3duLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UuZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLnNldCgga2V5LCBbZXZlbnRLZXlkb3duXSApXHJcbiAgfVxyXG5cclxuICBpZiAoIGV2ZW50S2V5dXAgKSB7XHJcbiAgICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5oYXMoIGtleSApICkge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5dXAuZ2V0KCBrZXkgKSFdIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXBdIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEFjdGlvbktleVJ1bk9uUmVwZWF0KCBrZXk6IHN0cmluZywgZXZlbnRLZXlkb3duOiBLZXlib2FyZEV2ZW50Q2FsbGJhY2ssIGV2ZW50S2V5dXA/OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5oYXMoIGtleSApICkge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuc2V0KCBrZXksIFtldmVudEtleWRvd24sIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LmdldCgga2V5ICkhXSApXHJcbiAgfSBlbHNlIHtcclxuICAgIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0LnNldCgga2V5LCBbZXZlbnRLZXlkb3duXSApXHJcbiAgfVxyXG5cclxuICBpZiAoIGV2ZW50S2V5dXAgKSB7XHJcbiAgICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5oYXMoIGtleSApICkge1xyXG4gICAgICBkaWN0S2V5c0J5QWN0aW9uS2V5dXAuc2V0KCBrZXksIFtldmVudEtleXVwLCAuLi5kaWN0S2V5c0J5QWN0aW9uS2V5dXAuZ2V0KCBrZXkgKSFdIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXBdIClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0VsZW1lbnRDb2xsaXNpb24oIGVsZW1lbnQxOiBIVE1MRWxlbWVudCwgZWxlbWVudDI6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHJlY3QxID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZWxlbWVudDEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50MSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBnZXRSb3RhdGVkQm91bmRpbmdCb3hCYXNlZE9uQm9keVJvdGF0aW9uKCBlbGVtZW50MiApO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBvbGxGb3JWYXJpYWJsZTxUPiggdmFyaWFibGVOYW1lOiBzdHJpbmcsIHJlYWR5Q29uZGl0aW9uOiAoIHZhbHVlOiBUICkgPT4gYm9vbGVhbiwgY2FsbGJhY2s6ICggdmFsdWU6IFQgKSA9PiB2b2lkICkge1xyXG4gIGNvbnN0IHBvbGxJbnRlcnZhbCA9IDEwMDtcclxuICBjb25zdCBwb2xsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgIGlmICggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSAhPT0gdW5kZWZpbmVkICYmIHJlYWR5Q29uZGl0aW9uKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICkgKSB7XHJcbiAgICAgIC8vIElmIGJvdGggY29uZGl0aW9ucyBhcmUgbWV0LCBleGVjdXRlIHRoZSBjYWxsYmFjayBhbmQgc3RvcCBwb2xsaW5nXHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoIHBvbGwgKTtcclxuICAgICAgY2FsbGJhY2soICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKTtcclxuICAgIH1cclxuICB9LCBwb2xsSW50ZXJ2YWwgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoIHNlbGVjdG9yOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3Rvciggc2VsZWN0b3IgKSApIHtcclxuICAgICAgcmV0dXJuIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCBtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUoIGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG4vLy8gR2V0IHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSBvbiBtYXAgd2lsbCBzZXQgdGhlIGN1cnJlbnQgYXR0cmlidXRlIGFzIGRlZmF1bHRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSB3aWxsIHJldHVybiBhbiBlbXB0eSBzdHJpbmdcclxuZXhwb3J0IGNvbnN0IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgTWFwPHN0cmluZywgc3RyaW5nPj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldDogSFRNTEVsZW1lbnQsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGlmICggIW1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmhhcyggdGFyZ2V0ICkgKSB7XHJcbiAgICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5zZXQoIHRhcmdldCwgbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSApO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XHJcbiAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSA9IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhO1xyXG4gIGNvbnN0IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgPSAhZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZS5oYXMoIGF0dHJpYnV0ZU5hbWUgKSA/IHRhcmdldC5nZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUgKSA6IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuZ2V0KCBhdHRyaWJ1dGVOYW1lICkhO1xyXG5cclxuICByZXN1bHQgPSB0YXJnZXREZWZhdWx0QXR0cmlidXRlID8gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA6ICcnO1xyXG4gIHNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldCwgYXR0cmlidXRlTmFtZSwgcmVzdWx0ICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIG5ld0RlZmF1bHRBdHRyaWJ1dGU6IHN0cmluZyApOiB2b2lkIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhLnNldCggYXR0cmlidXRlTmFtZSwgbmV3RGVmYXVsdEF0dHJpYnV0ZSApO1xyXG59XHJcblxyXG4vLy8gRGl2aWRlIG8gZWxlbWVudG8gQHRhcmdldCBlbSA5IFwicXVhZHJhZG9zXCIgaWd1YWlzIGUgcmV0b3JuYSBlbSBxdWFpcyBxdWFkcmFkb3MgbyBkcmFnZ2FibGUgZXN0w6EgY29saWRpbmRvIGNvbSBvIHRhcmdldFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sbGlzaW9uRGlyZWN0aW9uKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IEJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGNlbnRlciA9IHtcclxuICAgIHg6IHJlY3QxLmxlZnQgKyByZWN0MS53aWR0aCAvIDIsXHJcbiAgICB5OiByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQgLyAyLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlcjogQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgICB0b3A6IGNlbnRlci55IC0gcmVjdDIudG9wLFxyXG4gICAgcmlnaHQ6IHJlY3QyLnJpZ2h0IC0gY2VudGVyLngsXHJcbiAgICBib3R0b206IHJlY3QyLmJvdHRvbSAtIGNlbnRlci55LFxyXG4gICAgbGVmdDogY2VudGVyLnggLSByZWN0Mi5sZWZ0LFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBkaXN0YW5jZUZyb21Cb3JkZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBldnQgPT4ge1xyXG4gIGlmICggIWV2dC5yZXBlYXQgKSB7XHJcbiAgICBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQgKTtcclxuICB9XHJcblxyXG4gIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQgKTtcclxufSApO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGV2dCA9PiB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5dXAgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXhpczogJ3gnIHwgJ3knIHwgJ3onID0gJ3gnICk6IG51bWJlciB7XHJcbiAgbGV0IHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZTogUmVnRXhwO1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0Y2ggPSByZWdleE1hdGNoUm90YXRlVmFsdWUuZXhlYyggZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk6IG51bWJlciB7XHJcbiAgY29uc3QgbWF0Y2ggPSBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKS5leGVjKCBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSApO1xyXG4gIGlmICggbWF0Y2ggKSB7XHJcbiAgICBjb25zdCByb3RhdGlvblZhbHVlID0gcGFyc2VGbG9hdCggbWF0Y2hbMV0gKTtcclxuICAgIHJldHVybiByb3RhdGlvblZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKSB7XHJcbiAgcmV0dXJuIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggZ2V0Qm9keVJvdGF0aW9uQXhpcygpIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggYXhpczogJ3gnIHwgJ3knIHwgJ3onICkge1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkF4aXMoKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICByZXR1cm4gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZG9jdW1lbnQuYm9keSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICBjb25zdCBlbGVtZW50VHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0udG9Mb3dlckNhc2UoKTtcclxuICBpZiAoIGVsZW1lbnRUcmFuc2Zvcm0uaW5jbHVkZXMoICd4JyApICkge1xyXG4gICAgcmV0dXJuICd4JztcclxuICB9IGVsc2UgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneScgKSApIHtcclxuICAgIHJldHVybiAneSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAneic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlID0gKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApLnRyYW5zZm9ybS5tYXRjaCggcmVnZXhOdW1iZXJQYXR0ZXJuICkgPz8gWzAsIDBdICkubWFwKCBuID0+ICtuICk7XHJcblxyXG4gIGxldCByZXN1bHQgPSB7XHJcbiAgICB4OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs0XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gKSA6IDAsXHJcbiAgICB5OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs1XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gKSA6IDBcclxuICB9XHJcblxyXG4gIGlmICggY2hlY2tCb2R5Um90YXRpb24gKSB7XHJcbiAgICBjb25zdCBib2R5QW5nbGUgPSBnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMoIGRvY3VtZW50LmJvZHksIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQgKSApIHx8IDA7XHJcbiAgICByZXR1cm4gcm90YXRlQ29vcmRpbmF0ZXMoIHJlc3VsdC54LCByZXN1bHQueSwgYm9keUFuZ2xlICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7IHBhcmVudEVsZW1lbnQsIGlkLCBwb3NpdGlvbiwgZGltZW5zaW9ucyB9OiB7IHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50OyBpZDogc3RyaW5nOyBwb3NpdGlvbj86IHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgfTsgZGltZW5zaW9ucz86IERpbWVuc2lvbnM7IH0gKSB7XHJcbiAgdmFyIGludmlzaWJsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gIGlmICggIXBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gKSB7XHJcbiAgICBwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICB9XHJcblxyXG4gIGludmlzaWJsZURpdi5pZCA9IGlkO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLndpZHRoID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLndpZHRoID8gZGltZW5zaW9ucy53aWR0aC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLmhlaWdodCA/IGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHgnIDogJzEwMCUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS50b3AgPSAoIHBvc2l0aW9uPy50b3AudG9TdHJpbmcoKSA/PyAnMCcgKSArICdweCc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmxlZnQgPSAoIHBvc2l0aW9uPy5sZWZ0LnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5vcGFjaXR5ID0gJzAnOyAvLyBNYWtlIHRoZSBkaXYgaW52aXNpYmxlXHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7IC8vIEFsbG93IHRoZSBkaXYgdG8gaW50ZXJjZXB0IG1vdXNlIGV2ZW50c1xyXG5cclxuICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBpbnZpc2libGVEaXYgKTtcclxuXHJcbiAgcmV0dXJuIGludmlzaWJsZURpdjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnaGlkZGVuJywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwQXN5bmMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiBzZXRUaW1lb3V0KCAoKSA9PiByZXNvbHZlKCksIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50c0J5Q2hlY2soIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCwgb25DaGVjazogRnVuY3Rpb24sIG9uVW5jaGVjazogRnVuY3Rpb24gKSB7XHJcbiAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdHJpZ2dlckdyb3VwID0gdHJpZ2dlckVsZW1lbnQubmFtZVxyXG4gICAgPyBBcnJheS5mcm9tKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBgW25hbWU9XCIkeyB0cmlnZ2VyRWxlbWVudC5uYW1lIH1cIl1gICkgKVxyXG4gICAgOiBbdHJpZ2dlckVsZW1lbnRdO1xyXG5cclxuICB0cmlnZ2VyR3JvdXAuZm9yRWFjaCggdCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoICdjaGFuZ2UnLCBldnQgPT4ge1xyXG4gICAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uVW5jaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9XHJcbiAgfSApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnB1dEZvcmNlUGhvbmVOdW1iZXJGb3JtYXQoIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCApIHtcclxuICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBob25lSW5wdXQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGNsZWFuUGhvbmVJbnB1dCA9IHBob25lSW5wdXQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG4gICAgaWYgKCBjbGVhblBob25lSW5wdXQubGVuZ3RoID4gMTEgKSB7XHJcbiAgICAgIHBob25lSW5wdXQgPSBjbGVhblBob25lSW5wdXQuc2xpY2UoIDAsIDExICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBob25lTnVtYmVyRm9ybWF0dGVkID0gdG9QaG9uZU51bWJlciggcGhvbmVJbnB1dCApO1xyXG5cclxuICAgIGlmICggcGhvbmVOdW1iZXJGb3JtYXR0ZWQubGVuZ3RoID09PSAxMCApIHtcclxuICAgICAgcGhvbmVOdW1iZXJGb3JtYXR0ZWQgPSBwaG9uZU51bWJlckZvcm1hdHRlZC5yZXBsYWNlQWxsKCAnLScsICcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHBob25lTnVtYmVyRm9ybWF0dGVkO1xyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZUJyb3dzZXIoKSB7XHJcbiAgcmV0dXJuIC9BbmRyb2lkfGlQaG9uZS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEZXZpY2VUeXBlKCk6ICdhbmRyb2lkJyB8ICdhcHBsZScgfCAnZGVza3RvcCcge1xyXG4gIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKCB3aW5kb3cgYXMgYW55ICkub3BlcmE7XHJcblxyXG4gIGlmICggL2FuZHJvaWQvaS50ZXN0KCB1c2VyQWdlbnQgKSApIHtcclxuICAgIHJldHVybiAnYW5kcm9pZCc7XHJcbiAgfSBlbHNlIGlmICggL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIHVzZXJBZ2VudCApICYmICEoIHdpbmRvdyBhcyBhbnkgKS5NU1N0cmVhbSApIHtcclxuICAgIHJldHVybiAnYXBwbGUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ2Rlc2t0b3AnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT25TY3JlZW4oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiAoXHJcbiAgICByZWN0LnRvcCA+PSAwICYmXHJcbiAgICByZWN0LmxlZnQgPj0gMCAmJlxyXG4gICAgcmVjdC5ib3R0b20gPD0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCApICYmXHJcbiAgICByZWN0LnJpZ2h0IDw9ICggd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIClcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRWaWV3SWZDaGVja2VkKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucyA9IHtcclxuICBvbkNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfSxcclxuICBvblVuY2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9XHJcbn0gKSB7XHJcbiAgYmluZEVsZW1lbnRzQnlDaGVjayhcclxuICAgIHRyaWdnZXJFbGVtZW50LFxyXG4gICAgdGFyZ2V0RWxlbWVudCxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vbkNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vblVuY2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZyb21SYWRpb0dyb3VwKCBncm91cE5hbWU6IHN0cmluZyApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggYFtuYW1lPSR7IGdyb3VwTmFtZSB9XTpjaGVja2VkYCApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgaWYgKCBlbCApIHtcclxuICAgIHJldHVybiBlbC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKCB0YXJnZXRZOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgY29uc3Qgc3RhcnRZID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gIGxldCBzdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzdGVwKCBjdXJyZW50VGltZTogbnVtYmVyICkge1xyXG4gICAgaWYgKCAhc3RhcnRUaW1lICkgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbiggZWxhcHNlZFRpbWUgLyBkdXJhdGlvbiwgMSApO1xyXG4gICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGxlcnAoIDAsIDEsIHByb2dyZXNzICk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIGxlcnAoIHN0YXJ0WSwgdGFyZ2V0WSwgZWFzZWRQcm9ncmVzcyApICk7XHJcbiAgICBpZiAoIGVsYXBzZWRUaW1lIDwgZHVyYXRpb24gKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzdGVwICk7XHJcbn1cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IHBvcyxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUb0VsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB1c2VCcm93c2VyRGVmYXVsdHM6IGJvb2xlYW4gPSB0cnVlICk6IHZvaWQge1xyXG4gIGlmICggIXVzZUJyb3dzZXJEZWZhdWx0cyApIHtcclxuICAgIGNvbnN0IHRhcmdldFkgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSAxMDAwOyAvLyBEdXJhw6fDo28gZml4YSBlbSBtaWxpc3NlZ3VuZG9zICgxIHNlZ3VuZG8pXHJcbiAgICBzbW9vdGhTY3JvbGwoIHRhcmdldFksIGR1cmF0aW9uICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSxcclxuICAgIGxlZnQ6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJcclxuLy8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MjQ1NzY3L2NyZWF0aW5nLWEtYmxvYi1mcm9tLWEtYmFzZTY0LXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbi8vLyBEaXZpZGUgdW0gYXJxdWl2byBiaW7DoXJpbyBlbSB2w6FyaWFzIHBhcnRlcywgcGFyYSBxdWUgYSBjb252ZXJzw6NvIHNlamEgb3RpbWl6YWRhLCBlIHJldG9ybmEgdW1hIGJsb2IgY29tIG8gYXJxdWl2b1xyXG5cclxuaW1wb3J0IHsgaXNOdWxsT3JFbXB0eSB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5cclxuLy8vIEBwYXJhbSBvblByb2dyZXNzbyBVbSBjYWxsYmFjayBxdWUgcmVjZWJlIGEgcG9yY2VudGFnZW0gZGUgcHJvZ3Jlc3NvIGF0dWFsIGRhIGNvbnZlcnPDo29cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2U2NFRvQmxvYiggdGV4dG9CYXNlNjQ6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgdGFtYW5ob1BhcnRlcyA9IDEwMjQsIG9uUHJvZ3Jlc3MgPSAoIHByb2dyZXNzb0F0dWFsOiBudW1iZXIgKSA9PiB7IGNvbnNvbGUubG9nKCBwcm9ncmVzc29BdHVhbCApIH0gKSB7XHJcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheTxVaW50OEFycmF5PigpO1xyXG4gIGNvbnN0IGZpbGVTaXplID0gdGV4dG9CYXNlNjQubGVuZ3RoO1xyXG5cclxuICAvLy8gcHJlZW5jaGUgYGJ5dGVBcnJheXNgIGNvbSBvcyBieXRlcyBkbyBhcnF1aXZvIHBlZ2FuZG8gdW1hIHBhcnRlIGRlIFwidGFtYW5ob1BhcnRlc1wiIHBvciB2ZXpcclxuICBmb3IgKCBsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgZmlsZVNpemU7IG9mZnNldCArPSB0YW1hbmhvUGFydGVzICkge1xyXG4gICAgLy8vIHBlZ2FuZG8gdW0gcGFydGUgZGUgdGFtYW5obyB7dGFtYW5ob1BhcnRlc30gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0b0Jhc2U2NC5zbGljZSggb2Zmc2V0LCBvZmZzZXQgKyB0YW1hbmhvUGFydGVzICk7XHJcblxyXG4gICAgLy8vIGNvbnZlcnRlbmRvIGEgcGFydGUgZW0gdW0gYXJyYXkgY29tIGNhZGEgYnl0ZSBkZXNzZSBwZWRhw6dvIGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGFyckJ5dGVzQ2h1bmsgPSBuZXcgQXJyYXk8bnVtYmVyPiggY2h1bmsubGVuZ3RoICk7XHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJyQnl0ZXNDaHVua1tpXSA9IGNodW5rLmNoYXJDb2RlQXQoIGkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gdHJhbnNmb3JtYW5kbyBlc3NlIGFycmF5IGVtIHVtIGFycmF5IGNvbSBjYW1wb3MgZG8gdGFtYW5obyBkZSB1bSBieXRlXHJcbiAgICAvLy8gZSB1bmluZG8gYXMgcGFydGVzIGrDoSBjb25jbHXDrWRhcyBkbyBhcnF1aXZvXHJcbiAgICBieXRlQXJyYXlzLnB1c2goIG5ldyBVaW50OEFycmF5KCBhcnJCeXRlc0NodW5rICkgKTtcclxuXHJcbiAgICAvLy8gQ2hhbWFuZG8gY2FsbGJhY2sgcXVlIGV4aWJlIG8gcHJvZ3Jlc3NvIHF1YW5kbyBvIHBhc3NvIGF0dWFsIGZvciBjb25jbHXDrWRvXHJcbiAgICBhd2FpdCBvblByb2dyZXNzKCAoIG9mZnNldCAvIGZpbGVTaXplICkgKiAxMDAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYiggYnl0ZUFycmF5cywgeyB0eXBlOiBjb250ZW50VHlwZSB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGVGcm9tQmxvYiggYmxvYjogQmxvYiwgdGl0bGU6IHN0cmluZyApIHtcclxuICBsZXQgZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgaWYgKCBmaWxlICkge1xyXG4gICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYScgKTtcclxuICAgIGEuaHJlZiA9IGZpbGU7XHJcbiAgICBhLmRvd25sb2FkID0gdGl0bGU7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oIGZpbGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIGlzTnVsbE9yRW1wdHkoIGZpbGVOYW1lICkgKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRGaWxlU3JjID0gZmlsZU5hbWUuc3BsaXQoICcuJyApLnBvcCgpO1xyXG4gIGlmICggZGVmYXVsdEZpbGVTcmMgJiYgZGVmYXVsdEZpbGVTcmMgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlU3JjO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlsZVR5cGVTdHIgPSBmaWxlTmFtZS5zcGxpdCggJy8nICkucG9wKCk7XHJcbiAgaWYgKCBmaWxlVHlwZVN0ciAmJiBmaWxlVHlwZVN0ciAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZmlsZVR5cGVTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0iLCJleHBvcnQgY29uc3QgcmVnZXhOdW1iZXJQYXR0ZXJuID0gLy0/XFxkK1xcLj9cXGQqL2c7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50MkQge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9ucyB7XHJcbiAgd2lkdGg6IG51bWJlcjtcclxuICBoZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Sb3coIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKCBpbmRleCAvIGdyaWRXaWR0aCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb0NvbCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGluZGV4ICUgZ3JpZFdpZHRoO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm93Q29sVG9JbmRleCggcm93OiBudW1iZXIsIGNvbDogbnVtYmVyLCB3aWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiAoIHJvdyAqIHdpZHRoICkgKyBjb2w7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlc0Zyb21Qb2ludDJEKCBjb29yZHM6IFBvaW50MkQsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IGNvb3Jkcy54ICogTWF0aC5jb3MoIHJhZGlhbnMgKSAtIGNvb3Jkcy55ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0gY29vcmRzLnggKiBNYXRoLnNpbiggcmFkaWFucyApICsgY29vcmRzLnkgKiBNYXRoLmNvcyggcmFkaWFucyApO1xyXG4gIHJldHVybiB7IHg6IG5ld1gsIHk6IG5ld1kgfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVDb29yZGluYXRlcyggeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuZ2xlOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogYW5nbGU7XHJcbiAgY29uc3QgbmV3WCA9IHggKiBNYXRoLmNvcyggcmFkaWFucyApIC0geSAqIE1hdGguc2luKCByYWRpYW5zICk7XHJcbiAgY29uc3QgbmV3WSA9IHggKiBNYXRoLnNpbiggcmFkaWFucyApICsgeSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXJlRGlhZ29uYWxzKCBpbmRleDE6IG51bWJlciwgaW5kZXgyOiBudW1iZXIsIGdyaWRTaXplOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgaWYgKCBpbmRleDEgPCAwIHx8IGluZGV4MiA8IDAgKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoICdJbnZhbGlkIGNlbGwgaW5kaWNlcycgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJvdzEgPSBpbmRleFRvUm93KCBpbmRleDEsIGdyaWRTaXplICk7XHJcbiAgY29uc3QgY29sMSA9IGluZGV4VG9Db2woIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuXHJcbiAgY29uc3Qgcm93MiA9IGluZGV4VG9Sb3coIGluZGV4MiwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wyID0gaW5kZXhUb0NvbCggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG5cclxuICByZXR1cm4gTWF0aC5hYnMoIHJvdzEgLSByb3cyICkgPT09IE1hdGguYWJzKCBjb2wxIC0gY29sMiApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1BvaW50MkQoIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICk6IFBvaW50MkQge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiBpbmRleFRvQ29sKCBpbmRleCwgZ3JpZFdpZHRoICksXHJcbiAgICB5OiBpbmRleFRvUm93KCBpbmRleCwgZ3JpZFdpZHRoIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggMSAtIGFtb3VudCApICogbWluICsgYW1vdW50ICogbWF4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoIGE6IG51bWJlciwgYjogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIHZhbCAtIGEgKSAvICggYiAtIGEgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFwKCBpbk1pbjogbnVtYmVyLCBpbk1heDogbnVtYmVyLCBvdXRNaW46IG51bWJlciwgb3V0TWF4OiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIGxlcnAoIG91dE1pbiwgb3V0TWF4LCBpbnZlcnNlTGVycCggaW5NaW4sIGluTWF4LCB2YWwgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiApICsgbWluICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsU2V0czxUPiggc2V0MTogU2V0PFQ+LCBzZXQyOiBTZXQ8VD4gKSB7XHJcbiAgcmV0dXJuIHNldDEuc2l6ZSA9PT0gc2V0Mi5zaXplICYmXHJcbiAgICBbLi4uc2V0MV0uZXZlcnkoICggeCApID0+IHNldDIuaGFzKCB4ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEluY2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIG1pbiA9IE1hdGguY2VpbCggbWluICk7XHJcbiAgbWF4ID0gTWF0aC5mbG9vciggbWF4ICk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiArIDEgKSApICsgbWluO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRnJvbUFycmF5PFQ+KCBhcnI6IEFycmF5PFQ+ICkge1xyXG4gIHJldHVybiBhcnJbZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCBhcnIubGVuZ3RoICldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoIG51bTogbnVtYmVyID0gMCwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEwMCApOiBudW1iZXIge1xyXG4gIHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbnVtLCBtYXggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWludXRlc1RvTWlsbGlzZWNvbmRzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAqIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9NaW51dGVzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9Ib3VycyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyAzLjZlKzY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0RheXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gOC42NGUrNztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lZ2FieXRlVG9CeXRlKCBtYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBtYiAqIDEwMjQgKiAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVRvTWVnYWJ5dGUoIGI6IG51bWJlciApIHtcclxuICByZXR1cm4gYiAvIDEwMjQgLyAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXJyYXlGcm9tUmFuZ2UoIHNpemU6IG51bWJlciwgc3RhcnRpbmdGcm9tOiBudW1iZXIgPSAwICk6IG51bWJlcltdIHtcclxuICBsZXQgcmVzdWx0ID0gWy4uLkFycmF5KCBzaXplICkua2V5cygpXVxyXG5cclxuICBpZiAoIHN0YXJ0aW5nRnJvbSAhPSAwICkge1xyXG4gICAgcmVzdWx0ID0gcmVzdWx0Lm1hcCggaSA9PiBpICsgc3RhcnRpbmdGcm9tICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFjY2VudHMoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiBzdHIubm9ybWFsaXplKCAnTkZEJyApLnJlcGxhY2UoIC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoIHN0cjogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbiAgcmV0dXJuIHN0ci5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoVGVybSggc3RyaW5nQXJyYXk6IHN0cmluZ1tdLCBzZWFyY2hUZXJtOiBzdHJpbmcgKTogc3RyaW5nW10ge1xyXG4gIHJldHVybiBzdHJpbmdBcnJheVxyXG4gICAgLmZpbHRlciggKCB2OiBzdHJpbmcgKSA9PiB2LnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpICkgPiAtMSApXHJcbiAgICAuc2xpY2UoIDAsIDEwIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHplcm9CZWZvcmUoIG46IG51bWJlciApIHtcclxuICByZXR1cm4gbi50b1N0cmluZygpLnBhZFN0YXJ0KCAyLCAnMCcgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbE9yRW1wdHkoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCAhc3RyIHx8IHN0ciA9PT0gJydcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRvUGhvbmVOdW1iZXIoIGlucHV0VGV4dDogc3RyaW5nICkge1xyXG4gIGNvbnN0IGNsZWFuTnVtYmVyID0gaW5wdXRUZXh0LnJlcGxhY2UoIC9cXEQvZywgJycgKTtcclxuXHJcbiAgbGV0IHJlc3VsdDtcclxuICBpZiAoIGNsZWFuTnVtYmVyLmxlbmd0aCA8PSAxMCApIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkezJ9KShcXGR7NH0pKFxcZHswLDR9KSQvO1xyXG4gICAgcmVzdWx0ID0gY2xlYW5OdW1iZXIucmVwbGFjZSggcmVnZXgsICcoJDEpICQyLSQzJyApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCByZWdleCA9IC9eKFxcZHsyfSkoXFxkezV9KShcXGR7MCw0fSkkLztcclxuICAgIHJlc3VsdCA9IGNsZWFuTnVtYmVyLnJlcGxhY2UoIHJlZ2V4LCAnKCQxKSAkMi0kMycgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgT2JqZWN0RXZlbnRMaXN0ZW5lciB9IGZyb20gJy4uLy4uL0V4dHJhcy9PYmplY3RFdmVudExpc3RlbmVyJztcclxuaW1wb3J0IHsgY3JlYXRlSW52aXNpYmxlRGl2QWJvdmVQYXJlbnQsIGdldEVsZW1lbnRGcm9tSFRNTCB9IGZyb20gJy4uLy4uL1Rvb2xzL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgQXVkaW9Db21wb25lbnQgfSBmcm9tICcuLi9BdWRpb0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IFlvdXR1YmVJZnJhbWUgfSBmcm9tICcuLi9Zb3V0dWJlSWZyYW1lL1lvdXR1YmVJZnJhbWVTd2l0Y2hlcic7XHJcbmltcG9ydCB7IHRlbXBsYXRlU291bmRUYWJsZUl0ZW1Db250YWluZXIgfSBmcm9tICcuL1RlbXBsYXRlc1NvdW5kVGFibGUnO1xyXG5cclxuXHJcbmV4cG9ydCB0eXBlIFNvdW5kVGFibGVPcHRpb25zID0ge1xyXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgYXJyTWVkaWFTcmM6IHN0cmluZ1tdO1xyXG4gIGFyclZpZGVvSWQ6IHN0cmluZ1tdO1xyXG4gIGlmcmFtZXNDbGFzc0xpc3Q6IHN0cmluZ1tdO1xyXG4gIGNvbnRhaW5lcnNDbGFzc0xpc3Q6IHN0cmluZ1tdO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBTb3VuZFRhYmxlQ29tcG9uZW50ID0gWW91dHViZUlmcmFtZSB8IEF1ZGlvQ29tcG9uZW50O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNvdW5kVGFibGUgZXh0ZW5kcyBPYmplY3RFdmVudExpc3RlbmVyIHtcclxuICBwdWJsaWMgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgaWZyYW1lc0NsYXNzTGlzdDogc3RyaW5nW107XHJcbiAgcHVibGljIGNvbnRhaW5lcnNDbGFzc0xpc3Q6IHN0cmluZ1tdO1xyXG5cclxuXHJcbiAgcHJpdmF0ZSBfYXJyRXZlcnlDb21wb25lbnQ6IHN0cmluZ1tdO1xyXG4gIHByaXZhdGUgX2FyckNvbXBvbmVudHNSZWFkeTogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgcHJpdmF0ZSBfc2V0WVRJZnJhbWVDb250cm9sbGVycyA9IG5ldyBTZXQ8U291bmRUYWJsZUNvbXBvbmVudD4oKTtcclxuICBwcml2YXRlIF9tYXBZVElmcmFtZUNvbnRyb2xsZXJzQnlJZCA9IG5ldyBNYXA8c3RyaW5nLCBTb3VuZFRhYmxlQ29tcG9uZW50PigpO1xyXG5cclxuICBjb25zdHJ1Y3Rvciggb3B0aW9uczogU291bmRUYWJsZU9wdGlvbnMgKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXI7XHJcblxyXG4gICAgdGhpcy5pZnJhbWVzQ2xhc3NMaXN0ID0gb3B0aW9ucy5pZnJhbWVzQ2xhc3NMaXN0ID8/IFtdO1xyXG4gICAgdGhpcy5jb250YWluZXJzQ2xhc3NMaXN0ID0gb3B0aW9ucy5jb250YWluZXJzQ2xhc3NMaXN0ID8/IFtdO1xyXG5cclxuICAgIHRoaXMuX2FyckV2ZXJ5Q29tcG9uZW50ID0gWy4uLm9wdGlvbnMuYXJyTWVkaWFTcmMsIC4uLm9wdGlvbnMuYXJyVmlkZW9JZF07XHJcblxyXG4gICAgb3B0aW9ucy5hcnJNZWRpYVNyYy5mb3JFYWNoKCBtZWRpYVNyYyA9PiB7XHJcbiAgICAgIHRoaXMuYWRkQXVkaW9Db21wb25lbnQoIG9wdGlvbnMuY29udGFpbmVyLmlkLCBtZWRpYVNyYyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgb3B0aW9ucy5hcnJWaWRlb0lkLmZvckVhY2goIHZpZGVvSWQgPT4ge1xyXG4gICAgICB0aGlzLmFkZElmcmFtZSggYCR7IG9wdGlvbnMuY29udGFpbmVyLmlkIH1JZnJhbWVUYWJsZUl0ZW0keyB2aWRlb0lkIH1gLCB2aWRlb0lkIClcclxuICAgIH0gKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmNvbXBvbmVudHNDb250cm9sbGVycy5mb3JFYWNoKCAoIGNvbXBvbmVudCApID0+IHtcclxuICAgICAgY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoICdvbmludGVyYWN0aW9uYmxvY2tlZCcsICgpID0+IHtcclxuICAgICAgICBjb21wb25lbnQuc2VlayggMCwgdHJ1ZSApO1xyXG4gICAgICAgIGNvbXBvbmVudC5wbGF5V2l0aG91dFRyaWdnZXJFdmVudHMoKTtcclxuICAgICAgfSApO1xyXG4gICAgfSApO1xyXG5cclxuXHJcbiAgICBZb3V0dWJlSWZyYW1lLmJ1aWxkSWZyYW1lcygpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXQgZXZlcnlDb21wb25lbnRSZWFkeSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl9hcnJFdmVyeUNvbXBvbmVudC5sZW5ndGggPT09IHRoaXMuX2FyckNvbXBvbmVudHNSZWFkeS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQgY29tcG9uZW50c0NvbnRyb2xsZXJzKCkge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oIHRoaXMuX3NldFlUSWZyYW1lQ29udHJvbGxlcnMgKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RWxlbWVudE1lZGlhQ29udGFpbmVyKCBjb250YWluZXJJZDogc3RyaW5nICkge1xyXG4gICAgY29uc3QgZWxlbWVudE1lZGlhQ29udGFpbmVyID0gZ2V0RWxlbWVudEZyb21IVE1MKCB0ZW1wbGF0ZVNvdW5kVGFibGVJdGVtQ29udGFpbmVyKCBjb250YWluZXJJZCApICkgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICBlbGVtZW50TWVkaWFDb250YWluZXIuY2xhc3NMaXN0LmFkZCggLi4udGhpcy5jb250YWluZXJzQ2xhc3NMaXN0ICk7XHJcbiAgICByZXR1cm4gZWxlbWVudE1lZGlhQ29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRBdWRpb0NvbXBvbmVudCggY29udGFpbmVySWQ6IHN0cmluZywgc3JjOiBzdHJpbmcgKSB7XHJcbiAgICBjb25zdCBhdWRpb0NvbnRhaW5lciA9IHRoaXMuZ2V0RWxlbWVudE1lZGlhQ29udGFpbmVyKCBjb250YWluZXJJZCApO1xyXG4gICAgdGhpcy5jb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYmVmb3JlZW5kJywgYXVkaW9Db250YWluZXIgKTtcclxuXHJcbiAgICBBdWRpb0NvbXBvbmVudC5jcmVhdGVBdWRpb0NvbXBvbmVudCgge1xyXG4gICAgICBzcmM6IHNyYyxcclxuICAgICAgYXVkaW9FbGVtZW50SWQ6IGAkeyBjb250YWluZXJJZCB9SWZyYW1lVGFibGVJdGVtJHsgc3JjIH1gLFxyXG4gICAgICBibG9ja0ludGVyYWN0aW9uOiB0cnVlLFxyXG4gICAgICBjb250YWluZXI6IGF1ZGlvQ29udGFpbmVyXHJcbiAgICB9ICkudGhlbiggYXVkaW9Db21wb25lbnQgPT4ge1xyXG4gICAgICB0aGlzLl9zZXRZVElmcmFtZUNvbnRyb2xsZXJzLmFkZCggYXVkaW9Db21wb25lbnQgKTtcclxuICAgICAgdGhpcy5fbWFwWVRJZnJhbWVDb250cm9sbGVyc0J5SWQuc2V0KCBjb250YWluZXJJZCwgYXVkaW9Db21wb25lbnQgKTtcclxuICAgICAgdGhpcy5fYXJyQ29tcG9uZW50c1JlYWR5LnB1c2goIGNvbnRhaW5lcklkICk7XHJcblxyXG4gICAgICBpZiAoIHRoaXMuZXZlcnlDb21wb25lbnRSZWFkeSApIHtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRJZnJhbWUoIGlmcmFtZUlkOiBzdHJpbmcsIHZpZGVvSWQ6IHN0cmluZyApIHtcclxuICAgIGlmICggdGhpcy5fbWFwWVRJZnJhbWVDb250cm9sbGVyc0J5SWQuaGFzKCBpZnJhbWVJZCApICkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQSBJZnJhbWUgd2l0aCB0aGlzIGlkIGFscmVhZHkgZXhpc3RzOiBcIiArIGlmcmFtZUlkICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZWxlbWVudElmcmFtZUNvbnRhaW5lciA9IHRoaXMuZ2V0RWxlbWVudE1lZGlhQ29udGFpbmVyKCBpZnJhbWVJZCApO1xyXG4gICAgdGhpcy5jb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYmVmb3JlZW5kJywgZWxlbWVudElmcmFtZUNvbnRhaW5lciApO1xyXG5cclxuICAgIGNvbnN0IG5ld0lmcmFtZSA9IG5ldyBZb3V0dWJlSWZyYW1lKCB7XHJcbiAgICAgIGlmcmFtZUlkOiBpZnJhbWVJZCxcclxuICAgICAgdmlkZW9JZDogdmlkZW9JZCxcclxuICAgICAgcGFyZW50RWxlbWVudDogZWxlbWVudElmcmFtZUNvbnRhaW5lcixcclxuICAgICAgc3RhcnRzQXQ6IDAsXHJcbiAgICAgIGNsYXNzTGlzdDogWydzb3VuZC10YWJsZS1pdGVtJywgLi4udGhpcy5pZnJhbWVzQ2xhc3NMaXN0XSxcclxuICAgICAgYmxvY2tJbnRlcmFjdGlvbjogdHJ1ZVxyXG4gICAgfSApO1xyXG5cclxuICAgIHRoaXMuX3NldFlUSWZyYW1lQ29udHJvbGxlcnMuYWRkKCBuZXdJZnJhbWUgKTtcclxuICAgIHRoaXMuX21hcFlUSWZyYW1lQ29udHJvbGxlcnNCeUlkLnNldCggaWZyYW1lSWQsIG5ld0lmcmFtZSApO1xyXG4gICAgdGhpcy5fYXJyQ29tcG9uZW50c1JlYWR5LnB1c2goIGlmcmFtZUlkICk7XHJcblxyXG4gICAgaWYgKCB0aGlzLmV2ZXJ5Q29tcG9uZW50UmVhZHkgKSB7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQXVkaW9Db21wb25lbnQiLCJPYmplY3RFdmVudExpc3RlbmVyIiwic3JjIiwiYXVkaW9FbGVtZW50IiwiX2NvbnRhaW5lciIsIl9ibG9ja0ludGVyYWN0aW9uIiwiX2RpdkJsb2NrSW50ZXJhY3Rpb24iLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJzdXBlciIsInRoaXMiLCJjb250YWluZXIiLCJibG9ja0ludGVyYWN0aW9uIiwiYXVkaW9FbGVtZW50SWQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsImdldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJzZXR1cEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJkaXZCbG9ja0ludGVyYWN0aW9uIiwicGF1c2VkIiwiZmlsZU5hbWUiLCJxdWVyeVNlbGVjdG9yIiwiY3VycmVudFRpbWUiLCJ0IiwicGxheVdpdGhvdXRUcmlnZ2VyRXZlbnRzIiwicGxheVByb21pc2UiLCJwbGF5IiwidW5kZWZpbmVkIiwidGhlbiIsIl8iLCJjYXRjaCIsInN0b3AiLCJzZXRDbGFzc2VzUGxheWluZyIsInBhdXNlV2l0aG91dFRyaWdnZXJFdmVudHMiLCJwYXVzZSIsInNldENsYXNzZXNQYXVzZWQiLCJyZW1vdmUiLCJjYWxsRXZlbnRzQnlOYW1lIiwidG9nZ2xlIiwibXV0ZSIsInZvbHVtZSIsInVubXV0ZSIsInNlZWsiLCJzZWVrVGltZSIsIl9yZWxvYWRCdWZmZXIiLCJkaW1lbnNpb25zIiwiZ2V0RWxlbWVudERpbWVuc2lvbnMiLCJhdWRpb0NvbXBvbmVudCIsImVsZW1lbnRJbnZpc2libGVEaXYiLCJjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsInN0eWxlIiwiZGlzcGxheSIsInpJbmRleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVBdWRpb0NvbXBvbmVudE9uQm9keSIsImF1ZGlvQ29tcG9uZW50Q29udGFpbmVyIiwiQXVkaW9Db21wb25lbnRGYWN0b3J5IiwiYnVpbGRPbkJvZHkiLCJjcmVhdGVBdWRpb0NvbXBvbmVudCIsImRvY3VtZW50IiwiYm9keSIsImJ1aWxkIiwiQ29tcG9uZW50Q29udGFpbmVyIiwicGxheWVyQ29uZmlnIiwiY3JlYXRlSW52aXNpYmxlUGxheWVyIiwiYnVpbGRTdWJDb21wb25lbnRzIiwicGFyZW50IiwiX2VsZW1lbnQiLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJjb21wb25lbnROYW1lIiwic3ViQ29tcG9uZW50Q291bnRCeU5hbWUiLCJNYXAiLCJzdWJDb21wb25lbnRzIiwidGVtcGxhdGUiLCJnZXRFbGVtZW50QnlJZCIsIkVycm9yIiwiY3JlYXRlRWxlbWVudCIsImNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImdldFRlbXBsYXRlQ2xvbmVOb2RlcyIsImNsb25lTm9kZSIsImNoaWxkcmVuIiwiYnVpbGRTaW5nbGVTdWJDb21wb25lbnQiLCJjb21wb25lbnQiLCJoYXMiLCJzZXQiLCJjb21wb25lbnRDb3VudCIsImdldCIsImNhcGl0YWxpemVGaXJzdExldHRlciIsImVsZW1lbnRJZCIsIml0ZW0iLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJ0ZW1wbGF0ZVNvdW5kVGFibGVJdGVtQ29udGFpbmVyIiwiaXRlbUlkIiwidHJpbSIsInRlbXBsYXRlQmFja2dyb3VuZFlvdXR1YmVJZnJhbWVFbGVtZW50IiwiaWZyYW1lSWQiLCJZb3V0dWJlSWZyYW1lIiwic3RhdGljIiwicGxheWVyIiwiX2lzUGxheWVyUmVhZHkiLCJ2aWRlb0lkIiwidmlkZW9OYW1lIiwidmlkZW9UaHVtYiIsImNoYW5uZWxVUkwiLCJjaGFubmVsTmFtZSIsIl9pZnJhbWVFbGVtZW50IiwiX2lmcmFtZUNvbnRhaW5lciIsIl9pZnJhbWVQYXJlbnRFbGVtZW50IiwiX2lzUGxheWluZyIsIl9kaW1lbnNpb25zIiwiaW52aXNpYmxlRGl2IiwiX3N0YXJ0c0F0IiwiX3N0YXJ0TXV0ZWQiLCJfcGxheWluZ09ic2VydmVySW50ZXJ2YWwiLCJfZXZlbnRMaXN0ZW5lciIsIl9kaWN0WW91dHViZUlmcmFtZUJ5SWQiLCJzdGFydHNBdCIsInN0YXJ0TXV0ZWQiLCJnZXRZb3V0dWJlSWZyYW1lRWxlbWVudCIsInNldHVwUGFyZW50RnJvbVlvdXR1YmVJZnJhbWUiLCJpZnJhbWVDb250YWluZXIiLCJzZXRDbGFzc2VzSWZyYW1lUGF1c2VkIiwiZ2V0VmlkZW9JbmZvIiwiaW5mbyIsInRpdGxlIiwiYXV0aG9yX25hbWUiLCJ0aHVtYm5haWxfdXJsIiwiYXV0aG9yX3VybCIsInJlc3BvbnNlIiwiaGFuZGxlUHJvbWlzZSIsImZldGNoIiwidmlkZW9VUkwiLCJlcnJvciIsImRhdGEiLCJqc29uIiwiY29uc29sZSIsIm9uUGxheWVyUmVhZHkiLCJldmVudCIsIl9hcnJZb3V0dWJlSWZyYW1lSWRSZWFkeSIsInB1c2giLCJzZXRQbGF5YmFja1F1YWxpdHkiLCJzZWVrVG8iLCJwYXVzZVZpZGVvIiwiY2hlY2tJZkV2ZXJ5SWZyYW1lSXNSZWFkeSIsIm9uUGxheWVyU3RhdGVDaGFuZ2UiLCJfeW91dHViZUFQSVJlZmVyZW5jZSIsIlBsYXllclN0YXRlIiwiUExBWUlORyIsInNldENsYXNzZXNJZnJhbWVQbGF5aW5nIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib25FdmVyeVlvdXR1YmVJZnJhbWVSZWFkeSIsImlmcmFtZUVsZW1lbnQiLCJpc1BsYXllclJlYWR5IiwiZHVyYXRpb24iLCJnZXREdXJhdGlvbiIsInBsYXllckR1cmF0aW9uIiwiZ2V0Q3VycmVudFRpbWUiLCJwbGF5ZXJDdXJyZW50VGltZSIsInByb2dyZXNzUGVyY2VudCIsInBsYXllclByb2dyZXNzUGVyY2VudCIsImlzUGxheWluZyIsImNsYW1wIiwidmFsIiwicGxheVZpZGVvIiwicmVsb2FkQnVmZmVyIiwiY29uc2lkZXJTdGFydHNBdCIsImtleXMiLCJzb21lIiwiciIsImluY2x1ZGVzIiwiYXJyT2JqZWN0VG9TZXRPbkV2ZXJ5SWZyYW1lUmVhZHkiLCJmb3JFYWNoIiwibyIsInNldHVwIiwia2V5IiwiY29udGFpbmVyRGl2IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaWZyYW1lUGFyZW50RWxlbWVudCIsInNldEludmlzaWJsZVRvcERpdiIsInRvcERpdiIsInNldEludmlzaWJsZURpdkJsb2NrSW50ZXJhY3Rpb24iLCJibG9ja0ludGVyYWN0aW9uRGl2Iiwic2V0QXR0cmlidXRlIiwiZXZ0IiwiaW5pdFBsYXllciIsIlBsYXllciIsInBsYXllclZhcnMiLCJldmVudHMiLCJiaW5kIiwiYnVpbGRJZnJhbWVzIiwidGFnIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJ3YWl0VW50aWxFbGVtZW50RXhpc3RzIiwicG9sbEZvclZhcmlhYmxlIiwidmFsdWUiLCJwcm90b3R5cGUiLCJsb2FkZWQiLCJzZXRZb3V0dWJlSWZyYW1lRWxlbWVudHMiLCJnZXRJbnZpc2libGVUb3BEaXYiLCJ5dElmcmFtZSIsIlN0cmluZyIsImlzTnVsbE9yRW1wdHkiLCJ0cnVuY2F0ZSIsIm1heCIsImRlY29yYXRvciIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvU3RyaW5nIiwicmVtb3ZlQWNjZW50cyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInplcm9CZWZvcmUiLCJwYWRTdGFydCIsImV2ZW50c0J5TmFtZSIsImV2ZW50TmFtZSIsInRvTG93ZXJDYXNlIiwiZ2V0RXZlbnRzQnlOYW1lIiwiZXZlbnRBcmdzIiwiZSIsImFyclNvdXJjZXMiLCJnZXRFbGVtZW50RnJvbUhUTUwiLCJhdXRvUGxheSIsImF1dG9wbGF5IiwibXV0ZWQiLCJsb29wIiwicHJlbG9hZCIsInRyaW1FbmQiLCJhdWRpb0VsZW1lbnRQYXJhbXNCeVBsYXllckNvbmZpZyIsIm1hcCIsImdldEZpbGVFeHRlbnNpb24iLCJzb3VyY2VFbGVtZW50SFRNTCIsInJlZHVjZSIsImFjYyIsIm5leHQiLCJhdWRpb0VsZW1lbnRIVE1MIiwiaGlkZUVsZW1lbnQiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UiLCJkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCIsImRpY3RLZXlzQnlBY3Rpb25LZXl1cCIsImFzeW5jIiwicHJvbWlzZSIsImh0bWwiLCJpbm5lckhUTUwiLCJyZXN1bHQiLCJBcnJheSIsImZyb20iLCJlbGVtZW50IiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZhcmlhYmxlTmFtZSIsInJlYWR5Q29uZGl0aW9uIiwiY2FsbGJhY2siLCJwb2xsIiwid2luZG93Iiwic2VsZWN0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsIm9wYWNpdHkiLCJwb2ludGVyRXZlbnRzIiwicmVwZWF0IiwicGFpciIsImNvZGUiLCJrYkV2ZW50IiwicnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyIsInJ1bktleWRvd25BY3Rpb25zUmVwZWF0IiwiZGVmYXVsdEZpbGVTcmMiLCJzcGxpdCIsInBvcCIsImZpbGVUeXBlU3RyIiwibnVtIiwibWluIiwiTWF0aCIsInN0ciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJTb3VuZFRhYmxlIiwiaWZyYW1lc0NsYXNzTGlzdCIsImNvbnRhaW5lcnNDbGFzc0xpc3QiLCJfYXJyRXZlcnlDb21wb25lbnQiLCJfYXJyQ29tcG9uZW50c1JlYWR5IiwiX3NldFlUSWZyYW1lQ29udHJvbGxlcnMiLCJTZXQiLCJfbWFwWVRJZnJhbWVDb250cm9sbGVyc0J5SWQiLCJhcnJNZWRpYVNyYyIsImFyclZpZGVvSWQiLCJtZWRpYVNyYyIsImFkZEF1ZGlvQ29tcG9uZW50IiwiYWRkSWZyYW1lIiwiaW5pdCIsImNvbXBvbmVudHNDb250cm9sbGVycyIsImV2ZXJ5Q29tcG9uZW50UmVhZHkiLCJnZXRFbGVtZW50TWVkaWFDb250YWluZXIiLCJjb250YWluZXJJZCIsImVsZW1lbnRNZWRpYUNvbnRhaW5lciIsImF1ZGlvQ29udGFpbmVyIiwiZWxlbWVudElmcmFtZUNvbnRhaW5lciIsIm5ld0lmcmFtZSJdLCJzb3VyY2VSb290IjoiIn0=