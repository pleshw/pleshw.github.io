var DOMTools;(()=>{"use strict";var t={739:(t,e,n)=>{n.d(e,{lerp:()=>i,regexNumberPattern:()=>o,rotateCoordinates:()=>r});const o=/-?\d+\.?\d*/g;function r(t,e,n){const o=Math.PI/180*n;return{x:t*Math.cos(o)-e*Math.sin(o),y:t*Math.sin(o)+e*Math.cos(o)}}function i(t,e,n){return(1-n)*t+n*e}},2843:(t,e,n)=>{function o(t){const e=t.replace(/\D/g,"");let n;if(e.length<=10){const t=/^(\d{2})(\d{4})(\d{0,4})$/;n=e.replace(t,"($1) $2-$3")}else{const t=/^(\d{2})(\d{5})(\d{0,4})$/;n=e.replace(t,"($1) $2-$3")}return n}n.d(e,{toPhoneNumber:()=>o})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};(()=>{n.r(o),n.d(o,{addActionKey:()=>h,bindElementViewIfChecked:()=>J,bindElementsByCheck:()=>j,checkElementCollision:()=>E,clickEventToCoordinates:()=>K,createInvisibleDivAboveParent:()=>U,debounceFactory:()=>tt,delay:()=>R,dictKeysByActionKeydownOnce:()=>a,dictKeysByActionKeydownRepeat:()=>u,dictKeysByActionKeyup:()=>d,extractYouTubeId:()=>p,getBodyRotationAxis:()=>Y,getBodyRotationInDegrees:()=>L,getCollisionDirection:()=>D,getDefaultAttributeForTarget:()=>P,getDistanceFromBorder:()=>F,getElementDimensions:()=>v,getElementDimensionsById:()=>b,getElementFromHTML:()=>w,getElementRotationAxis:()=>q,getElementRotationInDegrees:()=>O,getIndexInParent:()=>S,getRegexRemoveRotationBasedOnAxis:()=>V,getRegexRemoveRotationFromBody:()=>$,getRotatedBoundingBoxBasedOnBodyRotation:()=>x,getTransformCoordsFromElement:()=>N,getUserDeviceType:()=>Z,getValueFromRadioGroup:()=>W,handlePromise:()=>f,hideElement:()=>z,insertElementAtIndex:()=>T,isMobileBrowser:()=>X,isOnScreen:()=>_,isValidYouTubeUrl:()=>g,isValidYoutubeUrlOrId:()=>m,mapDefaultAttributesByElement:()=>I,pollForVariable:()=>C,pollForVariableAsync:()=>B,regexGroupRotateValue:()=>i,regexGroupRotateXValue:()=>c,regexGroupRotateYValue:()=>s,regexGroupRotateZValue:()=>l,regexRemoveTranslateFromTransform:()=>r,replaceElement:()=>A,selectOptionByText:()=>rt,setAttributeListForElement:()=>y,setDefaultAttributeForTarget:()=>k,setInputForcePhoneNumberFormat:()=>H,sleepAsync:()=>G,smoothScroll:()=>Q,smoothScrollTo:()=>nt,smoothScrollToElement:()=>ot,throttleFactory:()=>et,waitUntilElementExists:()=>M});var t=n(739),e=n(2843);const r=/translate\([^)]*\)/g,i=/rotate\((-?\d+\.?\d*)deg\)/,c=/rotateX\((-?\d+\.?\d*)deg\)/,s=/rotateY\((-?\d+\.?\d*)deg\)/,l=/rotateZ\((-?\d+\.?\d*)deg\)/,a=new Map,u=new Map,d=new Map;function h({key:t,keydown:e,keyup:n,executeOnlyOnce:o=!0}){o?function(t,e,n){a.has(t)?a.set(t,[e,...a.get(t)]):a.set(t,[e]),n&&(d.has(t)?d.set(t,[n,...d.get(t)]):d.set(t,[n]))}(t,e,n):function(t,e,n){u.has(t)?u.set(t,[e,...u.get(t)]):u.set(t,[e]),n&&(d.has(t)?d.set(t,[n,...d.get(t)]):d.set(t,[n]))}(t,e,n)}async function f(t){try{const e=await t;return{data:()=>e,error:null}}catch(t){return console.error(t),{data:()=>{throw new Error("Couldn't fetch, check SafePromise.error for details.")},error:t instanceof Error?t:new Error(String(t))}}}function m(t){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(t)||/^[a-zA-Z0-9_-]{11}$/.test(t)}function g(t){return/^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(t)}function p(t){const e=t.match(/[?&]v=([^?&]+)/);return e&&e[1]?e[1]:11===t.length?t:null}function y(t,e){e.forEach((([e,n])=>{t.setAttribute(e,n)}))}function w(t,e=!0){if(!(t=e?t.trim():t))return null;const n=document.createElement("template");n.innerHTML=t;const o=n.content.children;return 1===o.length?o[0]:Array.from(o)}function b(t){const e=document.getElementById(t);if(!e)throw new Error("Invalid element at getElementDimensionsById with id: "+t);return v(e)}function v(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function x(t){const e=t.getBoundingClientRect(),n=e.left+e.width/2,o=e.top+e.height/2,r=L(),i=Math.PI/180*r,c=Math.cos(i),s=Math.sin(i),l=n+(e.left-n)*c-(e.top-o)*s,a=o+(e.left-n)*s+(e.top-o)*c,u=n+(e.right-n)*c-(e.bottom-o)*s,d=o+(e.right-n)*s+(e.bottom-o)*c,h=Math.min(l,u),f=Math.min(a,d),m=Math.max(a,d),g=Math.max(l,u);return{x:h,y:f,width:e.width,height:e.height,toJSON:e.toJSON,left:h,top:f,bottom:m,right:g}}function E(t,e,n=!1){const o=n?x(t):t.getBoundingClientRect(),r=n?x(e):e.getBoundingClientRect();return!(o.top>r.bottom||o.right<r.left||o.bottom<r.top||o.left>r.right)}function C(t,e,n){const o=setInterval((()=>{void 0!==window[t]&&e(window[t])&&(clearInterval(o),n(window[t]))}),100)}async function B(t,e,n){return new Promise((o=>{const r=setInterval((()=>{void 0!==window[t]&&e(window[t])&&(clearInterval(r),n(window[t]),o())}),100)}))}function M(t){return new Promise((e=>{if(document.querySelector(t))return e(document.querySelector(t));const n=new MutationObserver((o=>{document.querySelector(t)&&(n.disconnect(),e(document.querySelector(t)))}));n.observe(document.body,{childList:!0,subtree:!0})}))}async function R(t){return new Promise((e=>setTimeout(e,t)))}function A(t,e,n){e&&t&&(e.removeChild(t),e.insertBefore(n,t.nextSibling))}function T(t,e,n){const o=t.childNodes;if(!(n>=0&&n<=o.length))throw console.error("Index out of bounds"),new Error("Index out of bounds");if(n===o.length)t.appendChild(e);else{const r=o[n];t.insertBefore(e,r)}}function S(t){const e=t.parentElement;return e?Array.from(e.children).indexOf(t):-1}const I=new Map;function P(t,e){I.has(t)||I.set(t,new Map);let n="";const o=I.get(t);return n=(o.has(e)?o.get(e):t.getAttribute(e))||"",k(t,e,n),n}function k(t,e,n){I.has(t)||I.set(t,new Map),I.get(t).set(e,n)}function D(t,e,n=!1){const o=n?x(t):t.getBoundingClientRect(),r=n?x(e):e.getBoundingClientRect();return{top:o.bottom>r.top&&o.top<r.top+r.height/3,right:o.left<r.right&&o.right>r.right-r.width/3,center:o.top<r.bottom&&o.bottom>r.top&&o.left<r.right&&o.right>r.left,bottom:o.top<r.bottom-r.height/3&&o.bottom>r.bottom-r.height/3,left:o.right>r.left&&o.left<r.left+r.width/3}}function F(t,e,n=!1){const o=n?x(t):t.getBoundingClientRect(),r=n?x(e):e.getBoundingClientRect(),i=o.left+o.width/2,c=o.top+o.height/2;return{top:c-r.top,right:r.right-i,bottom:r.bottom-c,left:i-r.left}}function O(t,e="x"){let n;switch(e){case"x":n=c;break;case"y":n=s;break;case"z":n=l;break;default:n=i}const o=n.exec(t.style.transform);return o?parseFloat(o[1]):0}function L(){const t=$().exec(document.body.style.transform);return t?parseFloat(t[1]):0}function $(){return V(Y())}function V(t){switch(t){case"x":return c;case"y":return s;case"z":return l;default:return i}}function Y(){return q(document.body)}function q(t){const e=t.style.transform.toLowerCase();return e.includes("x")?"x":e.includes("y")?"y":"z"}function N(e,n=!1){const o=(window.getComputedStyle(e).transform.match(t.regexNumberPattern)??[0,0]).map((t=>+t));let r={x:void 0!==o[4]?Math.round(o[4]):0,y:void 0!==o[5]?Math.round(o[5]):0};if(n){const n=O(document.body,q(e))||0;return(0,t.rotateCoordinates)(r.x,r.y,n)}return r}function K(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};if(t instanceof TouchEvent){const e=t.changedTouches[0];return{x:e.clientX,y:e.clientY}}throw"Event not Found"}function U({parentElement:t,id:e,position:n,dimensions:o}){var r=document.createElement("div");return t.style.position||(t.style.position="relative"),r.id=e,r.style.position="absolute",r.style.width=o&&o.width?o.width.toString()+"px":"100%",r.style.height=o&&o.height?o.height.toString()+"px":"100%",r.style.top=(n?.top.toString()??"0")+"px",r.style.left=(n?.left.toString()??"0")+"px",r.style.opacity="0",r.style.pointerEvents="auto",t.appendChild(r),r}function z(t){t.style.display="block",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity="0",t.style.width="0px !important",t.style.height="0px !important",t.setAttribute("hidden","")}async function G(t){return await new Promise((e=>setTimeout((()=>e()),t)))}function j(t,e,n,o){t.checked&&n(e),(t.name?Array.from(document.querySelectorAll(`[name="${t.name}"]`)):[t]).forEach((r=>r.addEventListener("change",(r=>{t.checked?n(e,r):o(e,r)}))))}function H(t){t.addEventListener("input",(function(){let t=this.value;const n=t.replace(/\D/g,"");n.length>11&&(t=n.slice(0,11));let o=(0,e.toPhoneNumber)(t);10===o.length&&(o=o.replaceAll("-","")),this.value=o}))}function X(){return/Android|iPhone/i.test(navigator.userAgent)}function Z(){var t=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(t)?"android":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?"apple":"desktop"}function _(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function J(t,e,n={onCheck:(t,e)=>{},onUncheck:(t,e)=>{}}){j(t,e,(o=>{o.classList.add("show"),n.onCheck(t,e)}),(o=>{o.classList.remove("show"),n.onUncheck(t,e)}))}function W(t){const e=document.querySelector(`[name=${t}]:checked`);if(e)return e.value}function Q(e,n){const o=window.scrollY||window.pageYOffset;let r=null;requestAnimationFrame((function i(c){r||(r=c);const s=c-r,l=Math.min(s/n,1),a=(0,t.lerp)(0,1,l);window.scrollTo(0,(0,t.lerp)(o,e,a)),s<n&&requestAnimationFrame(i)}))}function tt(t,e){let n;return function(){const o=window,r=arguments;clearTimeout(n),n=window.setTimeout((()=>t.apply(o,r)),e)}}function et(t,e){let n,o;return function(){const r=window,i=arguments;o?(clearTimeout(n),n=window.setTimeout((function(){Date.now()-o>=e&&(t.apply(r,i),o=Date.now())}),e-(Date.now()-o))):(t.apply(r,i),o=Date.now())}}function nt(t){document.body.scrollTo({top:t,behavior:"smooth"})}function ot(t,e=!0){e?document.body.scrollTo({top:t.getBoundingClientRect().y,left:t.getBoundingClientRect().x,behavior:"smooth"}):Q(t.getBoundingClientRect().top+window.scrollY,1e3)}function rt(t,e,n=!1){const o=document.getElementById(t);if(!o)return;const r=[...o.querySelectorAll("option")];let i;i=n?r.filter((t=>t.textContent&&t.textContent.toLowerCase().includes(e.toLowerCase())))[0].value:r.filter((t=>t.textContent&&t.textContent.toLowerCase()===e.toLowerCase()))[0].value,o.value=i}window.addEventListener("keydown",(t=>{t.repeat||function(t){for(const e of a)t.code===e[0]&&e[1].forEach((e=>e(t)))}(t),function(t){for(const e of u)t.code===e[0]&&e[1].forEach((e=>e(t)))}(t)})),window.addEventListener("keyup",(t=>{for(const e of d)t.code===e[0]&&e[1].forEach((e=>e(t)))}))})(),DOMTools=o})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VXJCLENBRU8sU0FBUzZCLEdBQW9CQyxFQUF5QkMsRUFBb0JDLEdBQW9CLEdBQ25HLE1BQU1DLEVBQWdCbk4sU0FBU1MsZUFBZ0J1TSxHQUUvQyxJQUFNRyxFQUNKLE9BR0YsTUFBTUMsRUFBd0IsSUFBSUQsRUFBY3RFLGlCQUFrQixXQUVsRSxJQUFJd0UsRUFFRkEsRUFER0gsRUFDY0UsRUFDZEUsUUFBUTlDLEdBQU1BLEVBQUcrQyxhQUFlL0MsRUFBRytDLFlBQVk5RyxjQUFjQyxTQUFVdUcsRUFBV3hHLGlCQUFrQixHQUFHdEosTUFFekZpUSxFQUNkRSxRQUFROUMsR0FBTUEsRUFBRytDLGFBQWUvQyxFQUFHK0MsWUFBWTlHLGdCQUFrQndHLEVBQVd4RyxnQkFBZ0IsR0FBR3RKLE1BR3BHZ1EsRUFBY2hRLE1BQVFrUSxDQUN4QixDQWhWQXRLLE9BQU9nRyxpQkFBa0IsV0FBV0MsSUFDNUJBLEVBQUl3RSxRQWpCWixTQUFvQ3hFLEdBQ2xDLElBQU0sTUFBTXlFLEtBQVFoUSxFQUNidUwsRUFBSTBFLE9BQVNELEVBQUssSUFDckJBLEVBQUssR0FBR2hPLFNBQVNrTyxHQUFXQSxFQUFTM0UsSUFHM0MsQ0FZSTRFLENBQTJCNUUsR0FWL0IsU0FBa0NBLEdBQ2hDLElBQU0sTUFBTXlFLEtBQVE5UCxFQUNicUwsRUFBSTBFLE9BQVNELEVBQUssSUFDckJBLEVBQUssR0FBR2hPLFNBQVNrTyxHQUFXQSxFQUFTM0UsSUFHM0MsQ0FPRTZFLENBQXlCN0UsRUFBSyxJQUdoQ2pHLE9BQU9nRyxpQkFBa0IsU0FBU0MsSUFDaEMsSUFBTSxNQUFNeUUsS0FBUTdQLEVBQ2JvTCxFQUFJMEUsT0FBU0QsRUFBSyxJQUNyQkEsRUFBSyxHQUFHaE8sU0FBU2tPLEdBQVdBLEVBQVMzRSxJQUV6QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL01hdGhUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVG9vbHMvU3RyaW5nVG9vbHMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Rvb2xzL0RPTVRvb2xzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCByZWdleE51bWJlclBhdHRlcm4gPSAvLT9cXGQrXFwuP1xcZCovZztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQyRCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25zIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1JvdyggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIGluZGV4IC8gZ3JpZFdpZHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvQ29sKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gaW5kZXggJSBncmlkV2lkdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3dDb2xUb0luZGV4KCByb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuICggcm93ICogd2lkdGggKSArIGNvbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQoIGNvb3JkczogUG9pbnQyRCwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0gY29vcmRzLnggKiBNYXRoLmNvcyggcmFkaWFucyApIC0gY29vcmRzLnkgKiBNYXRoLnNpbiggcmFkaWFucyApO1xyXG4gIGNvbnN0IG5ld1kgPSBjb29yZHMueCAqIE1hdGguc2luKCByYWRpYW5zICkgKyBjb29yZHMueSAqIE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgcmV0dXJuIHsgeDogbmV3WCwgeTogbmV3WSB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNvb3JkaW5hdGVzKCB4OiBudW1iZXIsIHk6IG51bWJlciwgYW5nbGU6IG51bWJlciApOiBQb2ludDJEIHtcclxuICBjb25zdCByYWRpYW5zID0gKCBNYXRoLlBJIC8gMTgwICkgKiBhbmdsZTtcclxuICBjb25zdCBuZXdYID0geCAqIE1hdGguY29zKCByYWRpYW5zICkgLSB5ICogTWF0aC5zaW4oIHJhZGlhbnMgKTtcclxuICBjb25zdCBuZXdZID0geCAqIE1hdGguc2luKCByYWRpYW5zICkgKyB5ICogTWF0aC5jb3MoIHJhZGlhbnMgKTtcclxuICByZXR1cm4geyB4OiBuZXdYLCB5OiBuZXdZIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcmVEaWFnb25hbHMoIGluZGV4MTogbnVtYmVyLCBpbmRleDI6IG51bWJlciwgZ3JpZFNpemU6IG51bWJlciApOiBib29sZWFuIHtcclxuICBpZiAoIGluZGV4MSA8IDAgfHwgaW5kZXgyIDwgMCApIHtcclxuICAgIHRocm93IG5ldyBFcnJvciggJ0ludmFsaWQgY2VsbCBpbmRpY2VzJyApO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93MSA9IGluZGV4VG9Sb3coIGluZGV4MSwgZ3JpZFNpemUgKTtcclxuICBjb25zdCBjb2wxID0gaW5kZXhUb0NvbCggaW5kZXgxLCBncmlkU2l6ZSApO1xyXG5cclxuICBjb25zdCByb3cyID0gaW5kZXhUb1JvdyggaW5kZXgyLCBncmlkU2l6ZSApO1xyXG4gIGNvbnN0IGNvbDIgPSBpbmRleFRvQ29sKCBpbmRleDIsIGdyaWRTaXplICk7XHJcblxyXG4gIHJldHVybiBNYXRoLmFicyggcm93MSAtIHJvdzIgKSA9PT0gTWF0aC5hYnMoIGNvbDEgLSBjb2wyICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUG9pbnQyRCggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKTogUG9pbnQyRCB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IGluZGV4VG9Db2woIGluZGV4LCBncmlkV2lkdGggKSxcclxuICAgIHk6IGluZGV4VG9Sb3coIGluZGV4LCBncmlkV2lkdGggKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCAxIC0gYW1vdW50ICkgKiBtaW4gKyBhbW91bnQgKiBtYXg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlTGVycCggYTogbnVtYmVyLCBiOiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggdmFsIC0gYSApIC8gKCBiIC0gYSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtYXAoIGluTWluOiBudW1iZXIsIGluTWF4OiBudW1iZXIsIG91dE1pbjogbnVtYmVyLCBvdXRNYXg6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gbGVycCggb3V0TWluLCBvdXRNYXgsIGludmVyc2VMZXJwKCBpbk1pbiwgaW5NYXgsIHZhbCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICkgKyBtaW4gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxTZXRzPFQ+KCBzZXQxOiBTZXQ8VD4sIHNldDI6IFNldDxUPiApIHtcclxuICByZXR1cm4gc2V0MS5zaXplID09PSBzZXQyLnNpemUgJiZcclxuICAgIFsuLi5zZXQxXS5ldmVyeSggKCB4ICkgPT4gc2V0Mi5oYXMoIHggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgbWluID0gTWF0aC5jZWlsKCBtaW4gKTtcclxuICBtYXggPSBNYXRoLmZsb29yKCBtYXggKTtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICsgMSApICkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Gcm9tQXJyYXk8VD4oIGFycjogQXJyYXk8VD4gKSB7XHJcbiAgcmV0dXJuIGFycltnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIGFyci5sZW5ndGggKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCggbnVtOiBudW1iZXIgPSAwLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMTAwICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBudW0sIG1heCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW51dGVzVG9NaWxsaXNlY29uZHMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zICogNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb01pbnV0ZXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0hvdXJzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDMuNmUrNjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvRGF5cyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA4LjY0ZSs3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVnYWJ5dGVUb0J5dGUoIG1iOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1iICogMTAyNCAqIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBieXRlVG9NZWdhYnl0ZSggYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBiIC8gMTAyNCAvIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcnJheUZyb21SYW5nZSggc2l6ZTogbnVtYmVyLCBzdGFydGluZ0Zyb206IG51bWJlciA9IDAgKTogbnVtYmVyW10ge1xyXG4gIGxldCByZXN1bHQgPSBbLi4uQXJyYXkoIHNpemUgKS5rZXlzKCldXHJcblxyXG4gIGlmICggc3RhcnRpbmdGcm9tICE9IDAgKSB7XHJcbiAgICByZXN1bHQgPSByZXN1bHQubWFwKCBpID0+IGkgKyBzdGFydGluZ0Zyb20gKTtcclxuICB9XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9QaG9uZU51bWJlciggaW5wdXRUZXh0OiBzdHJpbmcgKSB7XHJcbiAgY29uc3QgY2xlYW5OdW1iZXIgPSBpbnB1dFRleHQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG5cclxuICBsZXQgcmVzdWx0O1xyXG4gIGlmICggY2xlYW5OdW1iZXIubGVuZ3RoIDw9IDEwICkge1xyXG4gICAgY29uc3QgcmVnZXggPSAvXihcXGR7Mn0pKFxcZHs0fSkoXFxkezAsNH0pJC87XHJcbiAgICByZXN1bHQgPSBjbGVhbk51bWJlci5yZXBsYWNlKCByZWdleCwgJygkMSkgJDItJDMnICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IHJlZ2V4ID0gL14oXFxkezJ9KShcXGR7NX0pKFxcZHswLDR9KSQvO1xyXG4gICAgcmVzdWx0ID0gY2xlYW5OdW1iZXIucmVwbGFjZSggcmVnZXgsICcoJDEpICQyLSQzJyApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVNwZWNpYWxDaGFyYWN0ZXJzKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoIC9bXmEtekEtWjAtOV0vZywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VTcGVjaWFsV2l0aFdoaXRlc3BhY2UoIGlucHV0OiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICByZXR1cm4gaW5wdXQucmVwbGFjZSggL1teYS16QS1aMC05XS9nLCAnICcgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VQZXJjZW50RW5jb2RpbmcoIGh0bWw6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIC8vIFJlcGxhY2UgJTIwIHdpdGggYWN0dWFsIHNwYWNlc1xyXG4gIHJldHVybiBodG1sLnJlcGxhY2UoIC8lMjAvZywgJyAnICk7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IERpbWVuc2lvbnMsIFBvaW50MkQsIGxlcnAsIHJlZ2V4TnVtYmVyUGF0dGVybiwgcm90YXRlQ29vcmRpbmF0ZXMsIHJvdGF0ZUNvb3JkaW5hdGVzRnJvbVBvaW50MkQgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IHRvUGhvbmVOdW1iZXIgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIEJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi4vRXh0cmFzL0NvbGxpc2lvbkV2ZW50cy9UeXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcbmV4cG9ydCBjb25zdCByZWdleFJlbW92ZVRyYW5zbGF0ZUZyb21UcmFuc2Zvcm0gPSAvdHJhbnNsYXRlXFwoW14pXSpcXCkvZztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSA9IC9yb3RhdGVcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuZXhwb3J0IGNvbnN0IHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUgPSAvcm90YXRlWFxcKCgtP1xcZCtcXC4/XFxkKilkZWdcXCkvO1xyXG5leHBvcnQgY29uc3QgcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZSA9IC9yb3RhdGVZXFwoKC0/XFxkK1xcLj9cXGQqKWRlZ1xcKS87XHJcbmV4cG9ydCBjb25zdCByZWdleEdyb3VwUm90YXRlWlZhbHVlID0gL3JvdGF0ZVpcXCgoLT9cXGQrXFwuP1xcZCopZGVnXFwpLztcclxuXHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2UgPSBuZXcgTWFwPHN0cmluZywgS2V5Ym9hcmRFdmVudENhbGxiYWNrW10+KCk7XHJcbmV4cG9ydCBjb25zdCBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGNvbnN0IGRpY3RLZXlzQnlBY3Rpb25LZXl1cCA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSggeyBrZXksIGtleWRvd246IGV2ZW50S2V5ZG93biwga2V5dXA6IGV2ZW50S2V5dXAsIGV4ZWN1dGVPbmx5T25jZSA9IHRydWUgfTogeyBrZXk6IHN0cmluZzsga2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrOyBrZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjazsgZXhlY3V0ZU9ubHlPbmNlPzogYm9vbGVhbjsgfSApIHtcclxuICBpZiAoIGV4ZWN1dGVPbmx5T25jZSApIHtcclxuICAgIGFkZEFjdGlvbktleVJ1bk9uY2UoIGtleSwgZXZlbnRLZXlkb3duLCBldmVudEtleXVwICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCgga2V5LCBldmVudEtleWRvd24sIGV2ZW50S2V5dXAgKTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2FmZVByb21pc2U8VD4gPSB7XHJcbiAgZGF0YTogKCkgPT4gVDtcclxuICBlcnJvcjogRXJyb3IgfCBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUHJvbWlzZTxUPiggcHJvbWlzZTogUHJvbWlzZTxUPiApOiBQcm9taXNlPFNhZmVQcm9taXNlPFQ+PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBwcm9taXNlO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRhdGE6ICgpID0+IGRhdGEsXHJcbiAgICAgIGVycm9yOiBudWxsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKCBlcnJvciApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoIGVycm9yICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZGF0YTogKCkgPT4geyB0aHJvdyBuZXcgRXJyb3IoIFwiQ291bGRuJ3QgZmV0Y2gsIGNoZWNrIFNhZmVQcm9taXNlLmVycm9yIGZvciBkZXRhaWxzLlwiICk7IH0sXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoIFN0cmluZyggZXJyb3IgKSApXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3V0dWJlVXJsT3JJZCggaW5wdXQ6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCB1cmxQYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgY29uc3QgaWRQYXR0ZXJuID0gL15bYS16QS1aMC05Xy1dezExfSQvO1xyXG5cclxuICByZXR1cm4gdXJsUGF0dGVybi50ZXN0KCBpbnB1dCApIHx8IGlkUGF0dGVybi50ZXN0KCBpbnB1dCApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRZb3VUdWJlVXJsKCB1cmw6IHN0cmluZyApOiBib29sZWFuIHtcclxuICBjb25zdCBwYXR0ZXJuID0gL14oaHR0cChzKT86XFwvXFwvKT8oKHcpezN9Lik/eW91dHUoYmV8LmJlKT8oXFwuY29tKT9cXC8uKy87XHJcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCggdXJsICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0WW91VHViZUlkKCBpbnB1dDogc3RyaW5nICk6IHN0cmluZyB8IG51bGwge1xyXG4gIGNvbnN0IHJlZ2V4ID0gL1s/Jl12PShbXj8mXSspLztcclxuICBjb25zdCBtYXRjaCA9IGlucHV0Lm1hdGNoKCByZWdleCApO1xyXG4gIGlmICggbWF0Y2ggJiYgbWF0Y2hbMV0gKSB7XHJcbiAgICByZXR1cm4gbWF0Y2hbMV07XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIElmIGRpcmVjdCB2aWRlbyBJRCBpcyBwcm92aWRlZFxyXG4gICAgcmV0dXJuIGlucHV0Lmxlbmd0aCA9PT0gMTEgPyBpbnB1dCA6IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXR0ckxpc3Q6IFtzdHJpbmcsIHN0cmluZ11bXSApIHtcclxuICBhdHRyTGlzdC5mb3JFYWNoKCAoIFtrZXksIHZhbF0gKSA9PiB7XHJcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgga2V5LCB2YWwgKTtcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RnJvbUhUTUwoIGh0bWw6IHN0cmluZywgdHJpbTogYm9vbGVhbiA9IHRydWUgKSB7XHJcbiAgaHRtbCA9IHRyaW0gPyBodG1sLnRyaW0oKSA6IGh0bWw7XHJcblxyXG4gIGlmICggIWh0bWwgKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RlbXBsYXRlJyApO1xyXG4gIHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgY29uc3QgcmVzdWx0ID0gdGVtcGxhdGUuY29udGVudC5jaGlsZHJlbjtcclxuXHJcbiAgaWYgKCByZXN1bHQubGVuZ3RoID09PSAxICkge1xyXG4gICAgcmV0dXJuIHJlc3VsdFswXSBhcyBIVE1MRWxlbWVudDtcclxuICB9XHJcblxyXG4gIHJldHVybiBBcnJheS5mcm9tKCByZXN1bHQgKSBhcyBIVE1MRWxlbWVudFtdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnNCeUlkKCBlbGVtZW50SWQ6IHN0cmluZyApOiBEaW1lbnNpb25zIHtcclxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGVsZW1lbnRJZCApO1xyXG5cclxuICBpZiAoICFlbGVtZW50ICkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkludmFsaWQgZWxlbWVudCBhdCBnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQgd2l0aCBpZDogXCIgKyBlbGVtZW50SWQgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBnZXRFbGVtZW50RGltZW5zaW9ucyggZWxlbWVudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudERpbWVuc2lvbnMoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERpbWVuc2lvbnMge1xyXG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHdpZHRoOiByZWN0LndpZHRoLFxyXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IERPTVJlY3Qge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IGNlbnRlclggPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMjtcclxuICBjb25zdCBjZW50ZXJZID0gcmVjdC50b3AgKyByZWN0LmhlaWdodCAvIDI7XHJcblxyXG4gIC8vIFJvdGF0aW9uIGFuZ2xlIGluIGRlZ3JlZXMgKGV4dHJhY3RlZCBmcm9tIHN0eWxlLnRyYW5zZm9ybSBvciBhbnkgb3RoZXIgc291cmNlKVxyXG4gIGNvbnN0IHJvdGF0aW9uQW5nbGUgPSBnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMoKTtcclxuXHJcbiAgY29uc3QgcmFkaWFucyA9ICggTWF0aC5QSSAvIDE4MCApICogcm90YXRpb25BbmdsZTtcclxuICBjb25zdCBjb3NUaGV0YSA9IE1hdGguY29zKCByYWRpYW5zICk7XHJcbiAgY29uc3Qgc2luVGhldGEgPSBNYXRoLnNpbiggcmFkaWFucyApO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIHJvdGF0ZWQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkWDEgPSBjZW50ZXJYICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBjb3NUaGV0YSAtICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBzaW5UaGV0YTtcclxuICBjb25zdCByb3RhdGVkWTEgPSBjZW50ZXJZICsgKCByZWN0LmxlZnQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC50b3AgLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgY29uc3Qgcm90YXRlZFgyID0gY2VudGVyWCArICggcmVjdC5yaWdodCAtIGNlbnRlclggKSAqIGNvc1RoZXRhIC0gKCByZWN0LmJvdHRvbSAtIGNlbnRlclkgKSAqIHNpblRoZXRhO1xyXG4gIGNvbnN0IHJvdGF0ZWRZMiA9IGNlbnRlclkgKyAoIHJlY3QucmlnaHQgLSBjZW50ZXJYICkgKiBzaW5UaGV0YSArICggcmVjdC5ib3R0b20gLSBjZW50ZXJZICkgKiBjb3NUaGV0YTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIGxlZnQsIHRvcCwgYm90dG9tLCBhbmQgcmlnaHQgY29vcmRpbmF0ZXNcclxuICBjb25zdCByb3RhdGVkTGVmdCA9IE1hdGgubWluKCByb3RhdGVkWDEsIHJvdGF0ZWRYMiApO1xyXG4gIGNvbnN0IHJvdGF0ZWRUb3AgPSBNYXRoLm1pbiggcm90YXRlZFkxLCByb3RhdGVkWTIgKTtcclxuICBjb25zdCByb3RhdGVkQm90dG9tID0gTWF0aC5tYXgoIHJvdGF0ZWRZMSwgcm90YXRlZFkyICk7XHJcbiAgY29uc3Qgcm90YXRlZFJpZ2h0ID0gTWF0aC5tYXgoIHJvdGF0ZWRYMSwgcm90YXRlZFgyICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4OiByb3RhdGVkTGVmdCxcclxuICAgIHk6IHJvdGF0ZWRUb3AsXHJcbiAgICB3aWR0aDogcmVjdC53aWR0aCxcclxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICB0b0pTT046IHJlY3QudG9KU09OLFxyXG4gICAgbGVmdDogcm90YXRlZExlZnQsXHJcbiAgICB0b3A6IHJvdGF0ZWRUb3AsXHJcbiAgICBib3R0b206IHJvdGF0ZWRCb3R0b20sXHJcbiAgICByaWdodDogcm90YXRlZFJpZ2h0LFxyXG4gIH0gYXMgRE9NUmVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25jZSgga2V5OiBzdHJpbmcsIGV2ZW50S2V5ZG93bjogS2V5Ym9hcmRFdmVudENhbGxiYWNrLCBldmVudEtleXVwPzogS2V5Ym9hcmRFdmVudENhbGxiYWNrICkge1xyXG4gIGlmICggZGljdEtleXNCeUFjdGlvbktleWRvd25PbmNlLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd24sIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZS5nZXQoIGtleSApIV0gKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93bk9uY2Uuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQWN0aW9uS2V5UnVuT25SZXBlYXQoIGtleTogc3RyaW5nLCBldmVudEtleWRvd246IEtleWJvYXJkRXZlbnRDYWxsYmFjaywgZXZlbnRLZXl1cD86IEtleWJvYXJkRXZlbnRDYWxsYmFjayApIHtcclxuICBpZiAoIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0Lmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uS2V5ZG93blJlcGVhdC5zZXQoIGtleSwgW2V2ZW50S2V5ZG93biwgLi4uZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbktleWRvd25SZXBlYXQuc2V0KCBrZXksIFtldmVudEtleWRvd25dIClcclxuICB9XHJcblxyXG4gIGlmICggZXZlbnRLZXl1cCApIHtcclxuICAgIGlmICggZGljdEtleXNCeUFjdGlvbktleXVwLmhhcygga2V5ICkgKSB7XHJcbiAgICAgIGRpY3RLZXlzQnlBY3Rpb25LZXl1cC5zZXQoIGtleSwgW2V2ZW50S2V5dXAsIC4uLmRpY3RLZXlzQnlBY3Rpb25LZXl1cC5nZXQoIGtleSApIV0gKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGljdEtleXNCeUFjdGlvbktleXVwLnNldCgga2V5LCBbZXZlbnRLZXl1cF0gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRWxlbWVudENvbGxpc2lvbiggZWxlbWVudDE6IEhUTUxFbGVtZW50LCBlbGVtZW50MjogSFRNTEVsZW1lbnQsIGNoZWNrQm9keVJvdGF0aW9uOiBib29sZWFuID0gZmFsc2UgKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgcmVjdDEgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50MS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQxICk7XHJcbiAgY29uc3QgcmVjdDIgPSAhY2hlY2tCb2R5Um90YXRpb24gPyBlbGVtZW50Mi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGVsZW1lbnQyICk7XHJcblxyXG4gIGNvbnN0IHJlc3VsdCA9ICEoXHJcbiAgICByZWN0MS50b3AgPiByZWN0Mi5ib3R0b20gfHxcclxuICAgIHJlY3QxLnJpZ2h0IDwgcmVjdDIubGVmdCB8fFxyXG4gICAgcmVjdDEuYm90dG9tIDwgcmVjdDIudG9wIHx8XHJcbiAgICByZWN0MS5sZWZ0ID4gcmVjdDIucmlnaHRcclxuICApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlPFQ+KCB2YXJpYWJsZU5hbWU6IHN0cmluZywgcmVhZHlDb25kaXRpb246ICggdmFsdWU6IFQgKSA9PiBib29sZWFuLCBjYWxsYmFjazogKCB2YWx1ZTogVCApID0+IHZvaWQgKSB7XHJcbiAgY29uc3QgcG9sbEludGVydmFsID0gMTAwO1xyXG4gIGNvbnN0IHBvbGwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgLy8gSWYgYm90aCBjb25kaXRpb25zIGFyZSBtZXQsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIGFuZCBzdG9wIHBvbGxpbmdcclxuICAgICAgY2xlYXJJbnRlcnZhbCggcG9sbCApO1xyXG4gICAgICBjYWxsYmFjayggKCB3aW5kb3cgYXMgYW55IClbdmFyaWFibGVOYW1lXSApO1xyXG4gICAgfVxyXG4gIH0sIHBvbGxJbnRlcnZhbCApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9sbEZvclZhcmlhYmxlQXN5bmM8VD4oIHZhcmlhYmxlTmFtZTogc3RyaW5nLCByZWFkeUNvbmRpdGlvbjogKCB2YWx1ZTogVCApID0+IGJvb2xlYW4sIGNhbGxiYWNrOiAoIHZhbHVlOiBUICkgPT4gdm9pZCApOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCBwb2xsSW50ZXJ2YWwgPSAxMDA7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBwb2xsID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgaWYgKCAoIHdpbmRvdyBhcyBhbnkgKVt2YXJpYWJsZU5hbWVdICE9PSB1bmRlZmluZWQgJiYgcmVhZHlDb25kaXRpb24oICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKSApIHtcclxuICAgICAgICAvLyBJZiBib3RoIGNvbmRpdGlvbnMgYXJlIG1ldCwgZXhlY3V0ZSB0aGUgY2FsbGJhY2ssIHN0b3AgcG9sbGluZywgYW5kIHJlc29sdmUgdGhlIHByb21pc2VcclxuICAgICAgICBjbGVhckludGVydmFsKCBwb2xsICk7XHJcbiAgICAgICAgY2FsbGJhY2soICggd2luZG93IGFzIGFueSApW3ZhcmlhYmxlTmFtZV0gKTtcclxuICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIHBvbGxJbnRlcnZhbCApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHdhaXRVbnRpbEVsZW1lbnRFeGlzdHMoIHNlbGVjdG9yOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHtcclxuICAgIGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3Rvciggc2VsZWN0b3IgKSApIHtcclxuICAgICAgcmV0dXJuIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCBtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBpZiAoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKSB7XHJcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIHJlc29sdmUoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuICAgICAgfVxyXG4gICAgfSApO1xyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUoIGRvY3VtZW50LmJvZHksIHtcclxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsYXkoIG1zOiBudW1iZXIgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCByZXNvbHZlID0+IHNldFRpbWVvdXQoIHJlc29sdmUsIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VFbGVtZW50KCBlbGVtZW50VG9SZW1vdmU6IEhUTUxFbGVtZW50LCBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCwgbmV3RWxlbWVudDogSFRNTEVsZW1lbnQgKTogdm9pZCB7XHJcbiAgaWYgKCBwYXJlbnRFbGVtZW50ICYmIGVsZW1lbnRUb1JlbW92ZSApIHtcclxuICAgIHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGVsZW1lbnRUb1JlbW92ZSApO1xyXG5cclxuICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKCBuZXdFbGVtZW50LCBlbGVtZW50VG9SZW1vdmUubmV4dFNpYmxpbmcgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRFbGVtZW50QXRJbmRleCggcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQsIG5ld0VsZW1lbnQ6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyICk6IHZvaWQge1xyXG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBwYXJlbnRFbGVtZW50LmNoaWxkTm9kZXM7XHJcblxyXG4gIGlmICggaW5kZXggPj0gMCAmJiBpbmRleCA8PSBjaGlsZE5vZGVzLmxlbmd0aCApIHtcclxuICAgIGlmICggaW5kZXggPT09IGNoaWxkTm9kZXMubGVuZ3RoICkge1xyXG4gICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBuZXdFbGVtZW50ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCByZWZOb2RlID0gY2hpbGROb2Rlc1tpbmRleF07XHJcbiAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKCBuZXdFbGVtZW50LCByZWZOb2RlICk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoICdJbmRleCBvdXQgb2YgYm91bmRzJyApO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCBcIkluZGV4IG91dCBvZiBib3VuZHNcIiApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluZGV4SW5QYXJlbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICk6IG51bWJlciB7XHJcbiAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cclxuICBpZiAoIHBhcmVudCApIHtcclxuICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbSggcGFyZW50LmNoaWxkcmVuICk7XHJcbiAgICByZXR1cm4gY2hpbGRyZW4uaW5kZXhPZiggZWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIC0xO1xyXG59XHJcblxyXG4vLy8gR2V0IHRoZSBkZWZhdWx0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSBvbiBtYXAgd2lsbCBzZXQgdGhlIGN1cnJlbnQgYXR0cmlidXRlIGFzIGRlZmF1bHRcclxuLy8vIElmIGhhdmUgbm90IGRlZmF1bHQgYXR0cmlidXRlIHdpdGggdGhpcyBAYXR0cmlidXRlTmFtZSB3aWxsIHJldHVybiBhbiBlbXB0eSBzdHJpbmdcclxuZXhwb3J0IGNvbnN0IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgTWFwPHN0cmluZywgc3RyaW5nPj4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldDogSFRNTEVsZW1lbnQsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xyXG4gIGlmICggIW1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmhhcyggdGFyZ2V0ICkgKSB7XHJcbiAgICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5zZXQoIHRhcmdldCwgbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKSApO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XHJcbiAgY29uc3QgZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSA9IG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhO1xyXG4gIGNvbnN0IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgPSAhZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZS5oYXMoIGF0dHJpYnV0ZU5hbWUgKSA/IHRhcmdldC5nZXRBdHRyaWJ1dGUoIGF0dHJpYnV0ZU5hbWUgKSA6IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuZ2V0KCBhdHRyaWJ1dGVOYW1lICkhO1xyXG5cclxuICByZXN1bHQgPSB0YXJnZXREZWZhdWx0QXR0cmlidXRlID8gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA6ICcnO1xyXG4gIHNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQoIHRhcmdldCwgYXR0cmlidXRlTmFtZSwgcmVzdWx0ICk7XHJcblxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcsIG5ld0RlZmF1bHRBdHRyaWJ1dGU6IHN0cmluZyApOiB2b2lkIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LmdldCggdGFyZ2V0ICkhLnNldCggYXR0cmlidXRlTmFtZSwgbmV3RGVmYXVsdEF0dHJpYnV0ZSApO1xyXG59XHJcblxyXG4vLy8gRGl2aWRlIG8gZWxlbWVudG8gQHRhcmdldCBlbSA5IFwicXVhZHJhZG9zXCIgaWd1YWlzIGUgcmV0b3JuYSBlbSBxdWFpcyBxdWFkcmFkb3MgbyBkcmFnZ2FibGUgZXN0w6EgY29saWRpbmRvIGNvbSBvIHRhcmdldFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sbGlzaW9uRGlyZWN0aW9uKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IEJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9ICFjaGVja0JvZHlSb3RhdGlvbiA/IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGdldFJvdGF0ZWRCb3VuZGluZ0JveEJhc2VkT25Cb2R5Um90YXRpb24oIGRyYWdnYWJsZSApO1xyXG4gIGNvbnN0IHJlY3QyID0gIWNoZWNrQm9keVJvdGF0aW9uID8gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIDogZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiggdGFyZ2V0ICk7XHJcblxyXG4gIGNvbnN0IGNlbnRlciA9IHtcclxuICAgIHg6IHJlY3QxLmxlZnQgKyByZWN0MS53aWR0aCAvIDIsXHJcbiAgICB5OiByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQgLyAyLFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRpc3RhbmNlRnJvbUJvcmRlcjogQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgICB0b3A6IGNlbnRlci55IC0gcmVjdDIudG9wLFxyXG4gICAgcmlnaHQ6IHJlY3QyLnJpZ2h0IC0gY2VudGVyLngsXHJcbiAgICBib3R0b206IHJlY3QyLmJvdHRvbSAtIGNlbnRlci55LFxyXG4gICAgbGVmdDogY2VudGVyLnggLSByZWN0Mi5sZWZ0LFxyXG4gIH07XHJcblxyXG4gIHJldHVybiBkaXN0YW5jZUZyb21Cb3JkZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJ1bk9ubHlPbmNlS2V5ZG93bkFjdGlvbnMoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSApIHtcclxuICAgIGlmICggZXZ0LmNvZGUgPT09IHBhaXJbMF0gKSB7XHJcbiAgICAgIHBhaXJbMV0uZm9yRWFjaCgga2JFdmVudCA9PiBrYkV2ZW50KCBldnQgKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcnVuS2V5ZG93bkFjdGlvbnNSZXBlYXQoIGV2dDogS2V5Ym9hcmRFdmVudCApIHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0ICkge1xyXG4gICAgaWYgKCBldnQuY29kZSA9PT0gcGFpclswXSApIHtcclxuICAgICAgcGFpclsxXS5mb3JFYWNoKCBrYkV2ZW50ID0+IGtiRXZlbnQoIGV2dCApICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBldnQgPT4ge1xyXG4gIGlmICggIWV2dC5yZXBlYXQgKSB7XHJcbiAgICBydW5Pbmx5T25jZUtleWRvd25BY3Rpb25zKCBldnQgKTtcclxuICB9XHJcblxyXG4gIHJ1bktleWRvd25BY3Rpb25zUmVwZWF0KCBldnQgKTtcclxufSApO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGV2dCA9PiB7XHJcbiAgZm9yICggY29uc3QgcGFpciBvZiBkaWN0S2V5c0J5QWN0aW9uS2V5dXAgKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgYXhpczogJ3gnIHwgJ3knIHwgJ3onID0gJ3gnICk6IG51bWJlciB7XHJcbiAgbGV0IHJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZTogUmVnRXhwO1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVhWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVlWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmVnZXhNYXRjaFJvdGF0ZVZhbHVlID0gcmVnZXhHcm91cFJvdGF0ZVpWYWx1ZTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZWdleE1hdGNoUm90YXRlVmFsdWUgPSByZWdleEdyb3VwUm90YXRlVmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgbWF0Y2ggPSByZWdleE1hdGNoUm90YXRlVmFsdWUuZXhlYyggZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gKTtcclxuICBpZiAoIG1hdGNoICkge1xyXG4gICAgY29uc3Qgcm90YXRpb25WYWx1ZSA9IHBhcnNlRmxvYXQoIG1hdGNoWzFdICk7XHJcbiAgICByZXR1cm4gcm90YXRpb25WYWx1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9keVJvdGF0aW9uSW5EZWdyZWVzKCk6IG51bWJlciB7XHJcbiAgY29uc3QgbWF0Y2ggPSBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKS5leGVjKCBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSApO1xyXG4gIGlmICggbWF0Y2ggKSB7XHJcbiAgICBjb25zdCByb3RhdGlvblZhbHVlID0gcGFyc2VGbG9hdCggbWF0Y2hbMV0gKTtcclxuICAgIHJldHVybiByb3RhdGlvblZhbHVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkoKSB7XHJcbiAgcmV0dXJuIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggZ2V0Qm9keVJvdGF0aW9uQXhpcygpIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlZ2V4UmVtb3ZlUm90YXRpb25CYXNlZE9uQXhpcyggYXhpczogJ3gnIHwgJ3knIHwgJ3onICkge1xyXG4gIHN3aXRjaCAoIGF4aXMgKSB7XHJcbiAgICBjYXNlICd4JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVYVmFsdWU7XHJcbiAgICBjYXNlICd5JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVZVmFsdWU7XHJcbiAgICBjYXNlICd6JzpcclxuICAgICAgcmV0dXJuIHJlZ2V4R3JvdXBSb3RhdGVaVmFsdWU7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVnZXhHcm91cFJvdGF0ZVZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvZHlSb3RhdGlvbkF4aXMoKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICByZXR1cm4gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZG9jdW1lbnQuYm9keSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogJ3gnIHwgJ3knIHwgJ3onIHtcclxuICBjb25zdCBlbGVtZW50VHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0udG9Mb3dlckNhc2UoKTtcclxuICBpZiAoIGVsZW1lbnRUcmFuc2Zvcm0uaW5jbHVkZXMoICd4JyApICkge1xyXG4gICAgcmV0dXJuICd4JztcclxuICB9IGVsc2UgaWYgKCBlbGVtZW50VHJhbnNmb3JtLmluY2x1ZGVzKCAneScgKSApIHtcclxuICAgIHJldHVybiAneSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAneic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjaGVja0JvZHlSb3RhdGlvbjogYm9vbGVhbiA9IGZhbHNlICk6IFBvaW50MkQge1xyXG4gIGNvbnN0IGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlID0gKCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbWVudCApLnRyYW5zZm9ybS5tYXRjaCggcmVnZXhOdW1iZXJQYXR0ZXJuICkgPz8gWzAsIDBdICkubWFwKCBuID0+ICtuICk7XHJcblxyXG4gIGxldCByZXN1bHQgPSB7XHJcbiAgICB4OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs0XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gKSA6IDAsXHJcbiAgICB5OiBhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZVs1XSAhPT0gdW5kZWZpbmVkID8gTWF0aC5yb3VuZCggYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gKSA6IDBcclxuICB9XHJcblxyXG4gIGlmICggY2hlY2tCb2R5Um90YXRpb24gKSB7XHJcbiAgICBjb25zdCBib2R5QW5nbGUgPSBnZXRFbGVtZW50Um90YXRpb25JbkRlZ3JlZXMoIGRvY3VtZW50LmJvZHksIGdldEVsZW1lbnRSb3RhdGlvbkF4aXMoIGVsZW1lbnQgKSApIHx8IDA7XHJcbiAgICByZXR1cm4gcm90YXRlQ29vcmRpbmF0ZXMoIHJlc3VsdC54LCByZXN1bHQueSwgYm9keUFuZ2xlICk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmlzaWJsZURpdkFib3ZlUGFyZW50KCB7IHBhcmVudEVsZW1lbnQsIGlkLCBwb3NpdGlvbiwgZGltZW5zaW9ucyB9OiB7IHBhcmVudEVsZW1lbnQ6IEhUTUxFbGVtZW50OyBpZDogc3RyaW5nOyBwb3NpdGlvbj86IHsgdG9wOiBudW1iZXI7IGxlZnQ6IG51bWJlcjsgfTsgZGltZW5zaW9ucz86IERpbWVuc2lvbnM7IH0gKSB7XHJcbiAgdmFyIGludmlzaWJsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gIGlmICggIXBhcmVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gKSB7XHJcbiAgICBwYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICB9XHJcblxyXG4gIGludmlzaWJsZURpdi5pZCA9IGlkO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLndpZHRoID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLndpZHRoID8gZGltZW5zaW9ucy53aWR0aC50b1N0cmluZygpICsgJ3B4JyA6ICcxMDAlJztcclxuICBpbnZpc2libGVEaXYuc3R5bGUuaGVpZ2h0ID0gZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zLmhlaWdodCA/IGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHgnIDogJzEwMCUnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS50b3AgPSAoIHBvc2l0aW9uPy50b3AudG9TdHJpbmcoKSA/PyAnMCcgKSArICdweCc7XHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLmxlZnQgPSAoIHBvc2l0aW9uPy5sZWZ0LnRvU3RyaW5nKCkgPz8gJzAnICkgKyAncHgnO1xyXG4gIGludmlzaWJsZURpdi5zdHlsZS5vcGFjaXR5ID0gJzAnOyAvLyBNYWtlIHRoZSBkaXYgaW52aXNpYmxlXHJcbiAgaW52aXNpYmxlRGl2LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnYXV0byc7IC8vIEFsbG93IHRoZSBkaXYgdG8gaW50ZXJjZXB0IG1vdXNlIGV2ZW50c1xyXG5cclxuICBwYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKCBpbnZpc2libGVEaXYgKTtcclxuXHJcbiAgcmV0dXJuIGludmlzaWJsZURpdjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIGVsZW1lbnQuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgZWxlbWVudC5zdHlsZS53aWR0aCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMHB4ICFpbXBvcnRhbnQnO1xyXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCAnaGlkZGVuJywgJycgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwQXN5bmMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUgKSA9PiBzZXRUaW1lb3V0KCAoKSA9PiByZXNvbHZlKCksIG1zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFbGVtZW50c0J5Q2hlY2soIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCwgb25DaGVjazogRnVuY3Rpb24sIG9uVW5jaGVjazogRnVuY3Rpb24gKSB7XHJcbiAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgb25DaGVjayggdGFyZ2V0RWxlbWVudCApO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdHJpZ2dlckdyb3VwID0gdHJpZ2dlckVsZW1lbnQubmFtZVxyXG4gICAgPyBBcnJheS5mcm9tKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBgW25hbWU9XCIkeyB0cmlnZ2VyRWxlbWVudC5uYW1lIH1cIl1gICkgKVxyXG4gICAgOiBbdHJpZ2dlckVsZW1lbnRdO1xyXG5cclxuICB0cmlnZ2VyR3JvdXAuZm9yRWFjaCggdCA9PiB0LmFkZEV2ZW50TGlzdGVuZXIoICdjaGFuZ2UnLCBldnQgPT4ge1xyXG4gICAgaWYgKCB0cmlnZ2VyRWxlbWVudC5jaGVja2VkICkge1xyXG4gICAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9uVW5jaGVjayggdGFyZ2V0RWxlbWVudCwgZXZ0ICk7XHJcbiAgICB9XHJcbiAgfSApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbnB1dEZvcmNlUGhvbmVOdW1iZXJGb3JtYXQoIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCApIHtcclxuICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHBob25lSW5wdXQgPSB0aGlzLnZhbHVlO1xyXG5cclxuICAgIGNvbnN0IGNsZWFuUGhvbmVJbnB1dCA9IHBob25lSW5wdXQucmVwbGFjZSggL1xcRC9nLCAnJyApO1xyXG4gICAgaWYgKCBjbGVhblBob25lSW5wdXQubGVuZ3RoID4gMTEgKSB7XHJcbiAgICAgIHBob25lSW5wdXQgPSBjbGVhblBob25lSW5wdXQuc2xpY2UoIDAsIDExICk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBob25lTnVtYmVyRm9ybWF0dGVkID0gdG9QaG9uZU51bWJlciggcGhvbmVJbnB1dCApO1xyXG5cclxuICAgIGlmICggcGhvbmVOdW1iZXJGb3JtYXR0ZWQubGVuZ3RoID09PSAxMCApIHtcclxuICAgICAgcGhvbmVOdW1iZXJGb3JtYXR0ZWQgPSBwaG9uZU51bWJlckZvcm1hdHRlZC5yZXBsYWNlQWxsKCAnLScsICcnICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy52YWx1ZSA9IHBob25lTnVtYmVyRm9ybWF0dGVkO1xyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZUJyb3dzZXIoKSB7XHJcbiAgcmV0dXJuIC9BbmRyb2lkfGlQaG9uZS9pLnRlc3QoIG5hdmlnYXRvci51c2VyQWdlbnQgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJEZXZpY2VUeXBlKCk6ICdhbmRyb2lkJyB8ICdhcHBsZScgfCAnZGVza3RvcCcge1xyXG4gIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgKCB3aW5kb3cgYXMgYW55ICkub3BlcmE7XHJcblxyXG4gIGlmICggL2FuZHJvaWQvaS50ZXN0KCB1c2VyQWdlbnQgKSApIHtcclxuICAgIHJldHVybiAnYW5kcm9pZCc7XHJcbiAgfSBlbHNlIGlmICggL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoIHVzZXJBZ2VudCApICYmICEoIHdpbmRvdyBhcyBhbnkgKS5NU1N0cmVhbSApIHtcclxuICAgIHJldHVybiAnYXBwbGUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJ2Rlc2t0b3AnO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzT25TY3JlZW4oIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIHJldHVybiAoXHJcbiAgICByZWN0LnRvcCA+PSAwICYmXHJcbiAgICByZWN0LmxlZnQgPj0gMCAmJlxyXG4gICAgcmVjdC5ib3R0b20gPD0gKCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCApICYmXHJcbiAgICByZWN0LnJpZ2h0IDw9ICggd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIClcclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRWaWV3SWZDaGVja2VkKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgb3B0aW9ucyA9IHtcclxuICBvbkNoZWNrOiAoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MRWxlbWVudCApID0+IHsgfSxcclxuICBvblVuY2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9XHJcbn0gKSB7XHJcbiAgYmluZEVsZW1lbnRzQnlDaGVjayhcclxuICAgIHRyaWdnZXJFbGVtZW50LFxyXG4gICAgdGFyZ2V0RWxlbWVudCxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QuYWRkKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vbkNoZWNrKCB0cmlnZ2VyRWxlbWVudCwgdGFyZ2V0RWxlbWVudCApO1xyXG4gICAgfSxcclxuICAgICggZWw6IEhUTUxFbGVtZW50ICkgPT4ge1xyXG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCAnc2hvdycgKTtcclxuICAgICAgb3B0aW9ucy5vblVuY2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZyb21SYWRpb0dyb3VwKCBncm91cE5hbWU6IHN0cmluZyApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xyXG4gIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggYFtuYW1lPSR7IGdyb3VwTmFtZSB9XTpjaGVja2VkYCApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgaWYgKCBlbCApIHtcclxuICAgIHJldHVybiBlbC52YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKCB0YXJnZXRZOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIgKTogdm9pZCB7XHJcbiAgY29uc3Qgc3RhcnRZID0gd2luZG93LnNjcm9sbFkgfHwgd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gIGxldCBzdGFydFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICBmdW5jdGlvbiBzdGVwKCBjdXJyZW50VGltZTogbnVtYmVyICkge1xyXG4gICAgaWYgKCAhc3RhcnRUaW1lICkgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xyXG4gICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1pbiggZWxhcHNlZFRpbWUgLyBkdXJhdGlvbiwgMSApO1xyXG4gICAgY29uc3QgZWFzZWRQcm9ncmVzcyA9IGxlcnAoIDAsIDEsIHByb2dyZXNzICk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIGxlcnAoIHN0YXJ0WSwgdGFyZ2V0WSwgZWFzZWRQcm9ncmVzcyApICk7XHJcbiAgICBpZiAoIGVsYXBzZWRUaW1lIDwgZHVyYXRpb24gKSB7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSggc3RlcCApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzdGVwICk7XHJcbn1cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IHBvcyxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzbW9vdGhTY3JvbGxUb0VsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB1c2VCcm93c2VyRGVmYXVsdHM6IGJvb2xlYW4gPSB0cnVlICk6IHZvaWQge1xyXG4gIGlmICggIXVzZUJyb3dzZXJEZWZhdWx0cyApIHtcclxuICAgIGNvbnN0IHRhcmdldFkgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHdpbmRvdy5zY3JvbGxZO1xyXG4gICAgY29uc3QgZHVyYXRpb24gPSAxMDAwOyAvLyBEdXJhw6fDo28gZml4YSBlbSBtaWxpc3NlZ3VuZG9zICgxIHNlZ3VuZG8pXHJcbiAgICBzbW9vdGhTY3JvbGwoIHRhcmdldFksIGR1cmF0aW9uICk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvKCB7XHJcbiAgICB0b3A6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSxcclxuICAgIGxlZnQ6IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCxcclxuICAgIGJlaGF2aW9yOiAnc21vb3RoJyxcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsicmVnZXhOdW1iZXJQYXR0ZXJuIiwicm90YXRlQ29vcmRpbmF0ZXMiLCJ4IiwieSIsImFuZ2xlIiwicmFkaWFucyIsIk1hdGgiLCJQSSIsImNvcyIsInNpbiIsImxlcnAiLCJtaW4iLCJtYXgiLCJhbW91bnQiLCJ0b1Bob25lTnVtYmVyIiwiaW5wdXRUZXh0IiwiY2xlYW5OdW1iZXIiLCJyZXBsYWNlIiwicmVzdWx0IiwibGVuZ3RoIiwicmVnZXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInJlZ2V4UmVtb3ZlVHJhbnNsYXRlRnJvbVRyYW5zZm9ybSIsInJlZ2V4R3JvdXBSb3RhdGVWYWx1ZSIsInJlZ2V4R3JvdXBSb3RhdGVYVmFsdWUiLCJyZWdleEdyb3VwUm90YXRlWVZhbHVlIiwicmVnZXhHcm91cFJvdGF0ZVpWYWx1ZSIsImRpY3RLZXlzQnlBY3Rpb25LZXlkb3duT25jZSIsIk1hcCIsImRpY3RLZXlzQnlBY3Rpb25LZXlkb3duUmVwZWF0IiwiZGljdEtleXNCeUFjdGlvbktleXVwIiwiYWRkQWN0aW9uS2V5Iiwia2V5ZG93biIsImV2ZW50S2V5ZG93biIsImtleXVwIiwiZXZlbnRLZXl1cCIsImV4ZWN1dGVPbmx5T25jZSIsImhhcyIsInNldCIsImFkZEFjdGlvbktleVJ1bk9uY2UiLCJhZGRBY3Rpb25LZXlSdW5PblJlcGVhdCIsImFzeW5jIiwiaGFuZGxlUHJvbWlzZSIsInByb21pc2UiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJTdHJpbmciLCJpc1ZhbGlkWW91dHViZVVybE9ySWQiLCJpbnB1dCIsInRlc3QiLCJpc1ZhbGlkWW91VHViZVVybCIsInVybCIsImV4dHJhY3RZb3VUdWJlSWQiLCJtYXRjaCIsInNldEF0dHJpYnV0ZUxpc3RGb3JFbGVtZW50IiwiZWxlbWVudCIsImF0dHJMaXN0IiwiZm9yRWFjaCIsInZhbCIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRGcm9tSFRNTCIsImh0bWwiLCJ0cmltIiwidGVtcGxhdGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJjb250ZW50IiwiY2hpbGRyZW4iLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50RGltZW5zaW9uc0J5SWQiLCJlbGVtZW50SWQiLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnREaW1lbnNpb25zIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0Um90YXRlZEJvdW5kaW5nQm94QmFzZWRPbkJvZHlSb3RhdGlvbiIsImNlbnRlclgiLCJsZWZ0IiwiY2VudGVyWSIsInRvcCIsInJvdGF0aW9uQW5nbGUiLCJnZXRCb2R5Um90YXRpb25JbkRlZ3JlZXMiLCJjb3NUaGV0YSIsInNpblRoZXRhIiwicm90YXRlZFgxIiwicm90YXRlZFkxIiwicm90YXRlZFgyIiwicmlnaHQiLCJib3R0b20iLCJyb3RhdGVkWTIiLCJyb3RhdGVkTGVmdCIsInJvdGF0ZWRUb3AiLCJyb3RhdGVkQm90dG9tIiwicm90YXRlZFJpZ2h0IiwidG9KU09OIiwiY2hlY2tFbGVtZW50Q29sbGlzaW9uIiwiZWxlbWVudDEiLCJlbGVtZW50MiIsImNoZWNrQm9keVJvdGF0aW9uIiwicmVjdDEiLCJyZWN0MiIsInBvbGxGb3JWYXJpYWJsZSIsInZhcmlhYmxlTmFtZSIsInJlYWR5Q29uZGl0aW9uIiwiY2FsbGJhY2siLCJwb2xsIiwic2V0SW50ZXJ2YWwiLCJ3aW5kb3ciLCJjbGVhckludGVydmFsIiwicG9sbEZvclZhcmlhYmxlQXN5bmMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIndhaXRVbnRpbEVsZW1lbnRFeGlzdHMiLCJzZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3IiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJkaXNjb25uZWN0Iiwib2JzZXJ2ZSIsImJvZHkiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiZGVsYXkiLCJtcyIsInNldFRpbWVvdXQiLCJyZXBsYWNlRWxlbWVudCIsImVsZW1lbnRUb1JlbW92ZSIsInBhcmVudEVsZW1lbnQiLCJuZXdFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsImluc2VydEVsZW1lbnRBdEluZGV4IiwiaW5kZXgiLCJjaGlsZE5vZGVzIiwiYXBwZW5kQ2hpbGQiLCJyZWZOb2RlIiwiZ2V0SW5kZXhJblBhcmVudCIsInBhcmVudCIsImluZGV4T2YiLCJtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCIsImdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQiLCJ0YXJnZXQiLCJhdHRyaWJ1dGVOYW1lIiwiZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSIsImdldEF0dHJpYnV0ZSIsInNldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQiLCJuZXdEZWZhdWx0QXR0cmlidXRlIiwiZ2V0Q29sbGlzaW9uRGlyZWN0aW9uIiwiZHJhZ2dhYmxlIiwiY2VudGVyIiwiZ2V0RGlzdGFuY2VGcm9tQm9yZGVyIiwiZ2V0RWxlbWVudFJvdGF0aW9uSW5EZWdyZWVzIiwiYXhpcyIsInJlZ2V4TWF0Y2hSb3RhdGVWYWx1ZSIsImV4ZWMiLCJzdHlsZSIsInRyYW5zZm9ybSIsInBhcnNlRmxvYXQiLCJnZXRSZWdleFJlbW92ZVJvdGF0aW9uRnJvbUJvZHkiLCJnZXRSZWdleFJlbW92ZVJvdGF0aW9uQmFzZWRPbkF4aXMiLCJnZXRCb2R5Um90YXRpb25BeGlzIiwiZ2V0RWxlbWVudFJvdGF0aW9uQXhpcyIsImVsZW1lbnRUcmFuc2Zvcm0iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiZ2V0VHJhbnNmb3JtQ29vcmRzRnJvbUVsZW1lbnQiLCJhcnJDb21wdXRlZERyYWdnYWJsZVRyYW5zbGF0ZSIsImdldENvbXB1dGVkU3R5bGUiLCJtYXAiLCJuIiwicm91bmQiLCJib2R5QW5nbGUiLCJjbGlja0V2ZW50VG9Db29yZGluYXRlcyIsImV2ZW50IiwiTW91c2VFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoIiwiY2hhbmdlZFRvdWNoZXMiLCJjcmVhdGVJbnZpc2libGVEaXZBYm92ZVBhcmVudCIsImlkIiwicG9zaXRpb24iLCJkaW1lbnNpb25zIiwiaW52aXNpYmxlRGl2IiwidG9TdHJpbmciLCJvcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImhpZGVFbGVtZW50IiwiZGlzcGxheSIsInpJbmRleCIsInNsZWVwQXN5bmMiLCJiaW5kRWxlbWVudHNCeUNoZWNrIiwidHJpZ2dlckVsZW1lbnQiLCJ0YXJnZXRFbGVtZW50Iiwib25DaGVjayIsIm9uVW5jaGVjayIsImNoZWNrZWQiLCJuYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsInQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwic2V0SW5wdXRGb3JjZVBob25lTnVtYmVyRm9ybWF0IiwiaW5wdXRFbGVtZW50IiwicGhvbmVJbnB1dCIsInRoaXMiLCJjbGVhblBob25lSW5wdXQiLCJzbGljZSIsInBob25lTnVtYmVyRm9ybWF0dGVkIiwicmVwbGFjZUFsbCIsImlzTW9iaWxlQnJvd3NlciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImdldFVzZXJEZXZpY2VUeXBlIiwidmVuZG9yIiwib3BlcmEiLCJNU1N0cmVhbSIsImlzT25TY3JlZW4iLCJpbm5lckhlaWdodCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsImlubmVyV2lkdGgiLCJjbGllbnRXaWR0aCIsImJpbmRFbGVtZW50Vmlld0lmQ2hlY2tlZCIsIm9wdGlvbnMiLCJlbCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImdldFZhbHVlRnJvbVJhZGlvR3JvdXAiLCJncm91cE5hbWUiLCJzbW9vdGhTY3JvbGwiLCJ0YXJnZXRZIiwiZHVyYXRpb24iLCJzdGFydFkiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJzdGFydFRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGVwIiwiY3VycmVudFRpbWUiLCJlbGFwc2VkVGltZSIsInByb2dyZXNzIiwiZWFzZWRQcm9ncmVzcyIsInNjcm9sbFRvIiwiZGVib3VuY2VGYWN0b3J5IiwiZnVuYyIsImluRGVib3VuY2UiLCJjb250ZXh0IiwiYXJncyIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsImFwcGx5IiwidGhyb3R0bGVGYWN0b3J5IiwibGltaXQiLCJsYXN0RnVuYyIsImxhc3RSYW4iLCJEYXRlIiwibm93Iiwic21vb3RoU2Nyb2xsVG8iLCJwb3MiLCJiZWhhdmlvciIsInNtb290aFNjcm9sbFRvRWxlbWVudCIsInVzZUJyb3dzZXJEZWZhdWx0cyIsInNlbGVjdE9wdGlvbkJ5VGV4dCIsImlkU2VsZWN0RWxlbWVudCIsInNlYXJjaFRleHQiLCJjb250YWlucyIsInNlbGVjdEVsZW1lbnQiLCJvcHRpb25zRWxlbWVudG9TZWxlY3QiLCJzZWxlY3RlZE9wdGlvbiIsImZpbHRlciIsInRleHRDb250ZW50IiwicmVwZWF0IiwicGFpciIsImNvZGUiLCJrYkV2ZW50IiwicnVuT25seU9uY2VLZXlkb3duQWN0aW9ucyIsInJ1bktleWRvd25BY3Rpb25zUmVwZWF0Il0sInNvdXJjZVJvb3QiOiIifQ==